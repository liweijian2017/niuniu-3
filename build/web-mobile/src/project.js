require=function t(e,n,i){function a(o,r){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!r&&c)return c(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return a(n?n:t)},u,u.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({Animation_0:[function(t,e,n){"use strict";cc._RFpush(e,"cf4ddwke4tG06pod1WItHJA","Animation_0"),cc.Class({"extends":cc.Component,properties:{prefab:cc.Prefab,total:50,size:20,hudu:100,speed:.3},onLoad:function(){},runAni:function(t,e,n){for(var i=[],a=0,s=0;s<this.total;s++){var o=cc.instantiate(this.prefab);i.push(o);var r=(Math.random()-.5)*this.size,c=(Math.random()-.5)*this.size;o.setPosition(t.x+r,t.y+c);var h=(Math.random()-.5)*this.hudu,u=cc.p((t.x+e.x)/2-h,(t.y+e.y)/2+h),l=[u,u,cc.p(e.x+r,e.y+c)],d=cc.bezierTo(this.speed,l);this.node.addChild(o);var p=.5*Math.random();o.runAction(cc.sequence(cc.delayTime(p),d,cc.callFunc(function(){if(a++,a==this.total){for(var t=0;t<i.length;t++)i[t].removeFromParent();n&&n()}},this)))}},moreAndMore:function(){}}),cc._RFpop()},{}],BankruptWin:[function(t,e,n){"use strict";cc._RFpush(e,"1dd79hvwhNOkLxdnf+LQ3eA","BankruptWin"),cc.Class({"extends":cc.Component,properties:{cb:null,pointLabel:{"default":null,type:cc.Label},textLabel:{"default":null,type:cc.Label}},onLoad:function(){console.log("破产弹框加载成功!")},handleWithPack:function(t){console.log("处理对应的包")},setCallBack:function(t){this.cb=t},setPoint:function(t,e){this.pointLabel.string=t||"",this.textLabel.string="今天剩余补助领取次数:"+e||0},handleEvent:function(){this.cb&&this.cb()},closeSelf:function(){this.node.removeFromParent()}}),cc._RFpop()},{}],BaseComponent:[function(t,e,n){"use strict";cc._RFpush(e,"7fe8fAS4BJKo5jcGeCNSspi","BaseComponent"),cc.Class({"extends":cc.Component,properties:{_isChange:!1},onLoad:function(){this._isChange=!0},update:function(){this._updateNormal&&this._updateNormal(),this._isChange&&(this._updateNode(),this._isChange=!1)},setAttr:function(t,e){if(!this.hasOwnProperty(t))throw new Error("没有对应的属性:"+t);this[t]=e,this._isChange=!0},_updateNode:function(){}}),cc._RFpop()},{}],BeBankerWin:[function(t,e,n){"use strict";cc._RFpush(e,"a8939in7lJCc5kje7DQEPPc","BeBankerWin");var i=t("BaseComponent"),a=t("HundredData"),s=t("Util");cc.Class({"extends":i,properties:{_selectNum:0,_maxNum:5e3,_isRequestBanker:!1,numLabel:{"default":null,type:cc.Label},contentNode:{"default":null,type:cc.Node},noSeatPrefab:{"default":null,type:cc.Prefab},controlBtn:{"default":null,type:cc.Node},progressBar:{"default":null,type:cc.ProgressBar},beBankerBtn:{"default":null,type:cc.Node},bePlayerBtn:{"default":null,type:cc.Node}},onLoad:function(){this._isChange=!0,this.controlBtn.on(cc.Node.EventType.TOUCH_MOVE,this._handleMove.bind(this),this)},onEnable:function(){this.controlBtn.x=0,this.progressBar.progress=.5,this._selectNum=parseInt(a.userPoint/2),a.requestBankerChips=this._selectNum,this._maxNum=a.userPoint,this._isRequestBanker=!1,this._updateNode()},init:function(t){for(var e in t){var n=cc.instantiate(this.noSeatPrefab);n.getComponent("UserItem")._orderId=e,n.getComponent("UserItem").init(t[e]),n.parent=this.contentNode,t[e].uid==Http.userData.uid&&(this._isRequestBanker=!0,this._updateNode())}},_updateNode:function(){this.numLabel.string=s.bigNumToStr(this._selectNum)+"/"+s.bigNumToStr(this._maxNum),this._selectNum>a.minDealerBuyin?this.beBankerBtn&&(this.beBankerBtn.opacity=255):this.beBankerBtn&&(this.beBankerBtn.opacity=100),this._isRequestBanker?(this.bePlayerBtn&&(this.bePlayerBtn.active=!0),this.beBankerBtn&&(this.beBankerBtn.active=!1)):(this.bePlayerBtn&&(this.bePlayerBtn.active=!1),this.beBankerBtn&&(this.beBankerBtn.active=!0))},clearChildren:function(){this.contentNode.removeAllChildren()},_handleMove:function(t){t.currentTarget.setPositionX(t.touch._point.x-cc.winSize.width/2),this.controlBtn.x<-125&&(this.controlBtn.x=-125,this.progressBar.progress=0),this.controlBtn.x>125&&(this.controlBtn.x=125,this.progressBar.progress=1),this.progressBar.progress=(this.controlBtn.x+this.progressBar.totalLength/2)/this.progressBar.totalLength,this.setAttr("_selectNum",parseInt(this._maxNum*this.progressBar.progress)),a.requestBankerChips=parseInt(this._maxNum*this.progressBar.progress)}}),cc._RFpop()},{BaseComponent:"BaseComponent",HundredData:"HundredData",Util:"Util"}],BetArea:[function(t,e,n){"use strict";cc._RFpush(e,"9387esWtnNEtp3GnUUSCQPw","BetArea");var i=t("HundredData"),a=t("Util"),s=t("Game");cc.Class({"extends":cc.Component,properties:{id:-1,maxGold:100,_golds:[cc.Node],betPanel:{"default":null,type:cc.Node}},onLoad:function(){this._betRequests=[],console.log("百人场-初始化下注区:"+this.id),this.betPanel&&(this._resultLabel=this.node.getChildByName("ResultLabel"),this._resultType=this.node.getChildByName("ResultType"),this._selfPoint=this.node.getChildByName("SelfPoint"),this._iconWin=this.betPanel.getChildByName("IconWin"),this._iconOpen=this.betPanel.getChildByName("IconOpen"),this._iconClose=this.betPanel.getChildByName("IconClose"),this._chipArea=this.node.getChildByName("ChipArea"),this.betPanel.on(cc.Node.EventType.TOUCH_END,this._handleClick.bind(this),this),i.bindCallF("betAreas:"+this.id+":isActive",this._updateIsActive.bind(this)),i.bindCallF("betAreas:"+this.id+":isWin",this._updateIsWin.bind(this)),i.bindCallF("betAreas:"+this.id+":point",this._updatePoint.bind(this)),i.bindCallF("betAreas:"+this.id+":resultText",this._updateResultText.bind(this)),i.bindCallF("betAreas:"+this.id+":pokerType",this._updatePokerType.bind(this)),i.bindCallF("betAreas:"+this.id+":isShowPokerType",this._updateIsShowPokerType.bind(this)),i.bindCallF("betAreas:"+this.id+":selfPoint",this._updateSelfPoint.bind(this)))},_updateIsActive:function(t){return t?(this._iconOpen.active=!0,this._iconClose.active=!1):(this._iconOpen.active=!1,this._iconClose.active=!0),t},_updateIsWin:function(t){return this._iconWin.active=t,t},_updatePoint:function(t){return this.betPanel.getChildByName("Bet").getComponent(cc.Label).string=a.bigNumToStr(t),t},_updateResultText:function(t){return this._resultLabel.getComponent(cc.Label).string=t,t},_updatePokerType:function(t){return t},_updateIsShowPokerType:function(t){return this._resultType.active=t,t&&this._resultType.getComponent("CardTypeParse").setData(i.betAreas[this.id].cardType),t},_updateSelfPoint:function(t){return this._selfPoint.getChildByName("point").getComponent(cc.Label).string=a.bigNumToStr(t),0==t?this._selfPoint.active=!1:t>0&&(this._selfPoint.active=!0),t},_handleClick:function(t){i.betAreas[this.id].isActive&&(i.handlePanel.selectValue>i.acceptChips||this._betRequests.push({potId:this.id,betChips:i.handlePanel.selectValue}))},addGold:function(t){this._chipArea.addChild(t),this._golds.push(t)},removeGold:function(t){t(this._golds),this._golds=[]},handleBetRequest:function(){0!=this._betRequests.length&&0!=i.currentSeatId&&(s.socket.sendBetChips_Hundred(this._betRequests),this._betRequests=[])},removeBetRequest:function(){this._betRequests.length>0&&(this._betRequests=[])},getChumaNum:function(){return this._golds.length}}),cc._RFpop()},{Game:"Game",HundredData:"HundredData",Util:"Util"}],BetBtn:[function(t,e,n){"use strict";cc._RFpush(e,"efc3eUUu8lGkpFm2YA+y2IL","BetBtn");var i=t("Util"),a=t("BaseComponent");cc.Class({"extends":a,properties:{_type:0,_value:0,_isActive:!0,_isSelect:!1,_spriteAtlas:null,valueLabel:{"default":null,type:cc.Label},lightNode:{"default":null,type:cc.Node}},onLoad:function(){this._isChange=!0},setSpriteAtlas:function(t){this._spriteAtlas=t},_updateNode:function(){this.valueLabel.string=i.bigNumToStr2(this._value),this.node.opacity=1==this._isActive?255:100,this.lightNode.active=this._isSelect,this._spriteAtlas&&(this.node.getComponent(cc.Sprite).spriteFrame=this._spriteAtlas.getSpriteFrame("btn_bairen"+(this._type+1)))}}),cc._RFpop()},{BaseComponent:"BaseComponent",Util:"Util"}],BetLayer:[function(t,e,n){"use strict";cc._RFpush(e,"16440WaqEVAuovRcHUuo/V3","BetLayer");var i=t("Util"),a=(t("Http"),t("BetArea")),s=t("HundredStates"),o=t("HundredData"),r=t("PopLayer");cc.Class({"extends":cc.Component,properties:{searchTime:.2,betAreas:[a],handlePokers:[cc.Node],seats:[cc.Node],chipAreas:[cc.Node],popLayer:{"default":null,type:r},poundLabel:{"default":null,type:cc.Label},sendPokersPosition:{"default":null,type:cc.Node},pokerPrefab:{"default":null,type:cc.Prefab},chumaPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){o.bindCallF("betAreas:point",this._updatePond.bind(this)),this.chumaPool=new cc.NodePool(cc.Node);for(var t=0;200>t;++t){var e=cc.instantiate(this.chumaPrefab);this.chumaPool.put(e)}this.schedule(this._handleAllBetRequests.bind(this),.3),this.node.on("SEND_POINT",function(t){var e=t.getUserData();this.sendPoint(5,e.id,this._chipsToGold(e.selectValue)),t.stopPropagation()}.bind(this),this)},onDestroy:function(){},update:function(){for(var t in this.chipAreas)if(this.chipAreas[t].children.length>50){var e=this.betAreas[t]._golds.shift();this.chumaPool.put(e)}},createChuma:function(){var t=null;return t=this.chumaPool.size()>0?this.chumaPool.get():cc.instantiate(this.chumaPrefab)},reSetBet:function(){this.clearAllBets(),o.banker.isShowPokerType=!1;for(var t=1;4>=t;t++)o.betAreas[t].point=0,o.betAreas[t].isWin=!1,o.betAreas[t].selfPoint=0,o.betAreas[t].resultText="",o.betAreas[t].isShowPokerType=!1;this.removePokers()},_updatePond:function(t){this.poundLabel.string=i.bigNumToStr(t)},sendPokers:function(t){var e=this.sendPokersPosition.convertToWorldSpaceAR(cc.p(0,0));for(var n in this.handlePokers){var i=null;i=0==n?o.banker.pokers:o.betAreas[n].pokers;for(var a=0;5>a;a++){var s=cc.instantiate(this.pokerPrefab),r=this.handlePokers[n].convertToNodeSpaceAR(e);s.parent=this.handlePokers[n],s.setPosition(r),s.getComponent("Poker").init(i[a]),s.setScale(.3),s.active=!1}}this._aniForPoker(t)},_aniForPoker:function(t){var e=0;for(var n in this.handlePokers){var i=this.handlePokers[n].getChildren();for(var a in i)e++,this.scheduleOnce(function(e,n,i){e.active=!0;var a=function(){n==5*this.handlePokers.length&&t()},s=cc.spawn(cc.moveTo(.5,cc.p(15*i-15,0)),cc.scaleTo(.5,1)).easing(cc.easeOut(3));e.runAction(cc.sequence(s,cc.callFunc(a,this)))}.bind(this,i[a],e,a),.1*e)}},openPokers:function(){for(var t in this.handlePokers){var e=this.handlePokers[t].getChildren();this.scheduleOnce(function(t,e){for(var n in t){var a=cc.sequence(cc.scaleTo(.15,0,1),cc.callFunc(function(t){t.getComponent("Poker").setAttr("show",!0),t.scale=1}.bind(this,t[n]),this));t[n].runAction(a)}if(0!=e){var s=o.betAreas[e];s.isShowPokerType=!0,s.multiple>0?(s.isWin=!0,i.contains(s.participators,5)&&(s.resultText="x"+s.multiple+" +"+i.bigNumToStr(s.selfPoint*s.multiple))):s.isWin=!1}else o.banker.isShowPokerType=!0}.bind(this,e,t),.3*t)}},removePokers:function(){for(var t in this.handlePokers)this.handlePokers[t].removeAllChildren()},openBetAreas:function(){o.betAreas[1].isActive=!0,o.betAreas[2].isActive=!0,o.betAreas[3].isActive=!0,o.betAreas[4].isActive=!0},closeBetAreas:function(){o.betAreas[1].isActive=!1,o.betAreas[2].isActive=!1,o.betAreas[3].isActive=!1,o.betAreas[4].isActive=!1},sendPoint:function(t,e,n,a){for(var s=0;n>s;s++)this.scheduleOnce(function(){var n=this.createChuma(),a=this.betAreas[e].node.getChildByName("ChipArea");this.betAreas[e].addGold(n);var s=i.randomPos(a.width-n.width,a.height-n.height);this.seats[t].getComponent("UpDownAni")&&this.seats[t].getComponent("UpDownAni").play();var o=this.seats[t].convertToWorldSpaceAR(cc.p(0,0)),r=a.convertToNodeSpaceAR(o);n.setPosition(r),n.runAction(cc.spawn(cc.moveTo(.3,s),cc.scaleTo(.3,1)).easing(cc.easeOut(3)))},(a||.15)*s)},removeChuma:function(t,e,n){if(0!=e.length){var i=[];for(var a in e)i.push(this.seats[e[a]].convertToWorldSpaceAR(cc.p(0,0)));this.betAreas[t].removeGold(function(t){for(var e in t)this.scheduleOnce(function(e){var n=cc.moveTo(.5,t[e].parent.convertToNodeSpaceAR(i[e%i.length]));t[e].runAction(cc.sequence(n,cc.callFunc(function(t){this.chumaPool.put(t)}.bind(this,t[e]),this)))}.bind(this,e),.007*e);n&&this.scheduleOnce(n,.007*t.length+.5)}.bind(this))}},clearAllBets:function(){for(var t=1;4>=t;t++)o.betAreas[t].isWin?o.betAreas[t].point>0&&this.scheduleOnce(this.putPoint.bind(this,t-1),1):this.removeChuma(t-1,[0]);this.scheduleOnce(this.openResultWin,1.5)},putPoint:function(t){this.sendPoint(0,t,this.betAreas[t].getChumaNum()*o.betAreas[t+1].multiple,.007),this.scheduleOnce(this.splitPoint.bind(this,t),.8)},splitPoint:function(t){this.removeChuma(t,o.betAreas[t+1].participators)},_parseBetData:function(t){if(t){var e=t.bets;for(var n in e)0!=e[n].betChips&&(o.betAreas[e[n].potId].point=e[n].betChips,e[n].seatId!=t.seatId&&(console.log("金币数："+e[n].betChips),console.log("下注区域:"+e[n].potId),this.schedule(function(t,e,n){this.sendPoint(t,e-1,this._chipsToGold(n/2))}.bind(this,e[n].seatId>5?5:e[n].seatId,e[n].potId,e[n].betChips),1,2)))}},_chipsToGold:function(t){return 0>=t?0:999>t?1:4999>t?2:9999>t?3:99999>t?4:999999>t?5:6},_handleAllBetRequests:function(){if(s.getFsm().is("WaitingBet"))for(var t in this.betAreas)this.betAreas[t].handleBetRequest()},restoreBetChips:function(){for(var t=1;5>t;t++){var e=this._chipsToGold(o.betAreas[t].point);e=e>0?e+10:e;for(var n=0;e>n;n++){var a=this.createChuma(),s=this.betAreas[t-1].node.getChildByName("ChipArea");this.betAreas[t-1].addGold(a),a.setPosition(i.randomPos(s.width-a.width,s.height-a.height))}}},openResultWin:function(){o.isAttend&&(this.popLayer.openResultWin(),this.scheduleOnce(function(){this.popLayer.closeResultWin(),o.isAttend=!1},2.5),this.scheduleOnce(function(){o.luckPound.luckChips>0?(this.popLayer.openWinningWin(),this.scheduleOnce(function(){this.popLayer.closeWinningWin(),o.luckPound.luckChips=0,this.hintChumaChange()},2)):this.hintChumaChange()},2.5))},hintChumaChange:function(){var t=o.seatChangeList;for(var e in t)if(0!=t[e].chips){var n=t[e].seatId;0==n?o.banker.point=t[e].buyinChips:n>0&&5>n?o.seats[n].point=t[e].buyinChips:99==n&&0!=o.currentSeatId&&(o.handlePanel.point=t[e].buyinChips)}},removeAllBetRequest:function(){for(var t in this.betAreas)this.betAreas[t].removeBetRequest()}}),cc._RFpop()},{BetArea:"BetArea",Http:"Http",HundredData:"HundredData",HundredStates:"HundredStates",PopLayer:"PopLayer",Util:"Util"}],BroadcastItem:[function(t,e,n){"use strict";cc._RFpush(e,"52f73O+CelCj5h8sHRNZBlo","BroadcastItem");var i=t("BroadcastReceiver");cc.Class({"extends":cc.Component,properties:{cb:null,numberOfTime:0,initialX:null,content:{"default":null,type:cc.Node},message:{"default":null,type:cc.Label}},onLoad:function(){this.distance=cc.director.getWinSizeInPixels().width/2,this.initialX=this.content.x},init:function(t,e){this.message.string=t,e&&(this.cb=e)},setNumberOfTime:function(t){this.numberOfTime=t},update:function(t){this.content.x>-this.content.width-this.distance?this.content.x-=2:this.numberOfTime<=1?(this.node.removeFromParent(),this.cb&&this.cb()):(this.numberOfTime--,this.content.x=this.initialX)},onDestroy:function(){i.isRun=!1}}),cc._RFpop()},{BroadcastReceiver:"BroadcastReceiver"}],BroadcastReceiver:[function(t,e,n){"use strict";cc._RFpush(e,"827efatkKVFYrTeYuDSl1w2","BroadcastReceiver");var i=t("GameData"),a=t("Router"),s={isRun:!1,isInit:!1,init:function(){s.isInit||(cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(t){s.isRun||s.runBroadcast(),cc.director.getScene().getChildByName("Game")&&(cc.director.preloadScene("TableScene",function(t){t&&console.err(t),console.log("牛牛场景预加载完毕")}),cc.director.preloadScene("HundredScene",function(t){t&&console.err(t),console.log("百人场场景预加载完毕")}))}),s.isInit=!0)},addMessageToList:function(t){i.BROADCAST_NEWS.push(this.parsePack(JSON.parse(t.message))),s.isRun||this.runBroadcast()},parsePack:function(t){var e={numberOfTime:0,message:t.username+" : "+t.content};return e},runBroadcast:function(){if(i.BROADCAST_NEWS.length>0){s.isRun=!0;var t=i.BROADCAST_NEWS[0];i.BROADCAST_NEWS.shift();var e=cc.director.getScene().getChildByName("Canvas"),n=cc.instantiate(a.boradcastItemPrefab);n.getComponent("BroadcastItem").init(t.message,this.runBroadcast.bind(this)),n.getComponent("BroadcastItem").setNumberOfTime(t.numberOfTime),e.addChild(n)}else s.isRun=!1}};e.exports=s,cc._RFpop()},{GameData:"GameData",Router:"Router"}],BtnsControl:[function(t,e,n){"use strict";cc._RFpush(e,"ef578dHx/ZO86wkRYfB+I88","BtnsControl"),cc.Class({"extends":cc.Component,properties:{btns:{"default":[],type:[cc.Button]}},onLoad:function(){},start:function(){this.node.active=!1},show:function(t){for(var e=0;e<this.btns.length;e++)this.btns[e].getComponent("SelectButton").id<=t?this.btns[e].interactable=!0:this.btns[e].interactable=!1},hide:function(){}}),cc._RFpop()},{}],ButtonScaler:[function(t,e,n){"use strict";cc._RFpush(e,"d0aa7IzrKVJ5aNPHt5YdfaP","ButtonScaler"),cc.Class({"extends":cc.Component,properties:{pressedScale:1,transDuration:0},onLoad:function(){function t(t){this.stopAllActions(),this.runAction(n.scaleDownAction)}function e(t){this.stopAllActions(),this.runAction(n.scaleUpAction)}var n=this;n.initScale=this.node.scale,n.button=n.getComponent(cc.Button),n.scaleDownAction=cc.scaleTo(n.transDuration,n.pressedScale),n.scaleUpAction=cc.scaleTo(n.transDuration,n.initScale),this.node.on("touchstart",t,this.node),this.node.on("touchend",e,this.node),this.node.on("touchcancel",e,this.node)}}),cc._RFpop()},{}],CardTypeParse:[function(t,e,n){"use strict";cc._RFpush(e,"07892HDfvdPmZoGm3XJgJAe","CardTypeParse"),cc.Class({"extends":cc.Component,properties:{spriteAtlas:{"default":null,type:cc.SpriteAtlas},one:{"default":null,type:cc.Sprite},two:{"default":null,type:cc.Sprite},three:{"default":null,type:cc.Sprite}},onLoad:function(){},setData:function(t){this.one.node.active=!0,this.two.node.active=!0,this.three.node.active=!0;var e="fnt_mei",n="fnt_niu2";0===t?(e="fnt_mei",n="fnt_niu2"):10===t?(e="fnt_niu",n="fnt_niu"):t>0&&10>t?(e="fnt_niu2",n="fnt_"+t):(this.one.node.active=!1,this.two.node.active=!1),this.one.spriteFrame=this.spriteAtlas.getSpriteFrame(e),this.two.spriteFrame=this.spriteAtlas.getSpriteFrame(n);var i="";11==t?i="fnt_niu_shunzi":12==t?i="fnt_niu_sandai":13==t?i="fnt_niu_xiao":14==t?i="fnt_niu_quanda":15==t?i="fnt_niu_zhadan":this.three.node.active=!1;var a=this.spriteAtlas.getSpriteFrame(i);""!==i&&a&&(this.three.spriteFrame=a)}}),cc._RFpop()},{}],ChatMsg:[function(t,e,n){"use strict";cc._RFpush(e,"4a0dat7i31OlqVETGmz0R7R","ChatMsg"),cc.Class({"extends":cc.Component,properties:{headImg:{"default":null,type:cc.Sprite},nameLabel:{"default":null,type:cc.Label},content:{"default":null,type:cc.Label},textPanel:{"default":null,type:cc.Sprite}},onLoad:function(){},setContent:function(t){this.content.string=t},setName:function(t){this.nameLabel.string=t},setHeadImg:function(t){this.headImg.spriteFrame=t},updateHeight:function(){this.textPanel.node.height=this.content.node.height+10}}),cc._RFpop()},{}],ChatWin:[function(t,e,n){"use strict";cc._RFpush(e,"2d228MiWv1Gkq8QPV7Q/9V0","ChatWin");var i=t("Game"),a=t("Router");cc.Class({"extends":cc.Component,properties:{textEdit:{"default":null,type:cc.EditBox},chatMsgPrefab:{"default":null,type:cc.Prefab},layout:{"default":null,type:cc.Layout}},onLoad:function(){a.chatWin=this},sendMsg:function(){var t=this.textEdit.string;""!=t&&t&&(i.socket.sendMessage(t),this.textEdit.string="",a.tabel&&a.tabel.closeChatWin())},addChatRecord:function(t,e){var n=cc.instantiate(this.chatMsgPrefab);n.getComponent("ChatMsg").setContent(e),n.getComponent("ChatMsg").setName(t.name),n.getComponent("ChatMsg").setHeadImg(t.headImg),this.layout.node.addChild(n),this.scheduleOnce(function(){n.getComponent("ChatMsg").updateHeight()},.1)},scrollToBottom:function(){this.layout.node.height>350&&this.scheduleOnce(function(){this.node.getChildByName("ScrollView").getComponent(cc.ScrollView).scrollToBottom()},.1)}}),cc._RFpop()},{Game:"Game",Router:"Router"}],CountDown:[function(t,e,n){"use strict";cc._RFpush(e,"6c9cexnQQdJwZ1twCRycje0","CountDown"),cc.Class({"extends":cc.Component,properties:{number:{"default":null,type:cc.Label},timeOut:5,flag:!0},begin:function(t,e){function n(){if(i.flag){if(t--,0===t)return void(e&&e());i.number&&(i.number.string=t),setTimeout(n,1e3)}}var i=this,t=t;i.number&&(i.number.string=t),n()},onDestroy:function(){this.flag=!1}}),cc._RFpop()},{}],CountToast:[function(t,e,n){"use strict";cc._RFpush(e,"2617aO9VTNOTYe/n/2eJ3Un","CountToast"),cc.Class({"extends":cc.Component,properties:{duration:0,content:"",textLable:{"default":null,type:cc.Label},countDown:{"default":null,type:cc.Node}},onLoad:function(){this.outOfWorld=cc.p(3e3,0),this.node.position=this.outOfWorld;var t=cc.callFunc(this.onFadeOutFinish,this),e=cc.callFunc(this.onFadeInFinish,this);this.actionFadeIn=cc.sequence(cc.spawn(cc.fadeTo(this.duration,200),cc.scaleTo(this.duration,1)),e),this.actionFadeOut=cc.sequence(cc.spawn(cc.fadeTo(this.duration,0),cc.scaleTo(this.duration,1,0)),t),this.node.on("TOAST_IN",this.startFadeIn,this),this.node.on("TOAST_OUT",this.startFadeOut,this)},setContent:function(t){this.content=t},setStartPos:function(t){this.startPosition=t},startFadeIn:function(){cc.eventManager.pauseTarget(this.node,!0),this.node.position=this.startPosition||cc.p(0,0),this.textLable.string=this.content,this.node.setScale(1,0),this.node.runAction(this.actionFadeIn)},startFadeOut:function(){cc.eventManager.pauseTarget(this.node,!0),this.node.runAction(this.actionFadeOut)},onFadeInFinish:function(){cc.eventManager.resumeTarget(this.node,!0)},onFadeOutFinish:function(){this.node.position=this.outOfWorld},show:function(t,e,n){this.node.emit("TOAST_IN");var i=this;e&&1==e&&(this.countDown.active=!1),this.countDown.getComponent("CountDown").begin(t,function(){i.hide(),n&&n()})},hide:function(){this.node.emit("TOAST_OUT")},onDestroy:function(){this.node.off("TOAST_IN",this.startFadeIn,this),this.node.off("TOAST_OUT",this.startFadeIn,this)}}),cc._RFpop()},{}],CoursePackData:[function(t,e,n){"use strict";cc._RFpush(e,"1a389zt4RlOmIUATarpMbEY","CoursePackData");var i=t("Http"),a={JOIN:{blind:50,minBuyIn:1500,roomName:"斗牛1号房",roomType:1,seatChips:0,gameStatus:0,seatNum:5,roundCount:0,dealerSeatId:-1,venue:480,xs:3,score:168,playerList:[{seatId:0,uid:15,seatChips:996831,point:645500,vip:0,nick:"青蛙",gender:"f",img:"http://192.168.1.100/assets/photo/n15.jpg",win:0,lose:0,extInfo:"",state:0,betX:0}],handCardFlag:0,cmd:16641},SITDOWM:{seatId:1,uid:i.userData.uid,seatChips:i.userData.point,point:i.userData.score,vip:0,nick:i.userData.name,gender:"f",img:i.userData.image,win:0,lose:0,extInfo:"",cmd:16901},GAMESTART:{roundCount:1,timeout:10,playerList:[{seatId:0,uid:15,seatChips:996831},{seatId:1,uid:27,seatChips:1e4}],handCard1:259,handCard2:260,handCard3:514,handCard4:1029,seatChips:796040,cmd:16903},BANKER:{gameStatus:2,timeout:6,bankerSeatId:1,cmd:16908},PLAYERBEI:{seatId:0,state:2,betX:2,cmd:16904},PLAYERBEI2:{seatId:0,state:3,betX:25,cmd:16904},FIVEPOKER:{handCard5:772,cardType:8,cardTypeX:1,cmd:16905},OK:{seatId:0,state:4,betX:15,cmd:16904},GAMEOVER:{seatChangeList:[{seatId:0,seatChips:-1e4,point:0},{seatId:1,seatChips:1e4,point:0}],playerCardsList:[{seatId:0,handCard1:773,handCard2:263,handCard3:771,handCard4:777,handCard5:775,cardType:0,cardTypeX:1},{seatId:1,handCard1:259,handCard2:260,handCard3:514,handCard4:1029,handCard5:772,cardType:8,cardTypeX:1}],cmd:16910}};e.exports=a,cc._RFpop()},{Http:"Http"}],CoursePack:[function(t,e,n){"use strict";cc._RFpush(e,"a5e95t0Hs1Ear24xJ4fdpG2","CoursePack");var i=t("CoursePackData");t("Http");cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.tableManager=null,this.coursePage=this.node.getComponent("CoursePage")},init:function(){this.tableManager=cc.director.getScene().getChildByName("Canvas").getComponent("TableManager"),this.tableManager&&this.startSend()},startSend:function(){this.tableManager.handleLocalPacket(i.JOIN),this.tableManager.handleLocalPacket(i.SITDOWM),this.tableManager.handleLocalPacket(i.GAMESTART),this.coursePage.updatePage(11),this.scheduleOnce(function(){this.tableManager.handleLocalPacket(i.PLAYERBEI)},2),this.scheduleOnce(function(){var t=this.coursePage.updatePage(7),e=cc.find("Canvas/Table/SelfSeat/SelectMultiple/Layout/Btn4");e&&(e.maskEvent=this.startSend2.bind(this),t.getComponent("MaskLayer").addMaskNode(e))},3)},startSend2:function(){return this.coursePage.updatePage(11),this.tableManager.handleLocalPacket(i.BANKER),this.scheduleOnce(function(){this.tableManager.handleLocalPacket(i.PLAYERBEI2),this.tableManager.handleLocalPacket(i.FIVEPOKER)},2),this.scheduleOnce(function(){var t=this.coursePage.updatePage(8),e=cc.find("Canvas/Table/SelfSeat/ResultPanel/Layout/Btn0");e&&(e.maskEvent=this.startSend3.bind(this),t.getComponent("MaskLayer").addMaskNode(e))},3),!1},startSend3:function(){return this.coursePage.updatePage(11),this.scheduleOnce(function(){this.tableManager.handleLocalPacket(i.OK),this.tableManager.handleLocalPacket(i.GAMEOVER),this.coursePage.updateNewUser()},2),this.scheduleOnce(function(){var t=this.coursePage.updatePage(9),e=cc.find("Canvas/Table/Back");e&&(e.maskEvent=this.startSend4.bind(this),t.getComponent("MaskLayer").addMaskNode(e))},4),!1},startSend4:function(){return this.coursePage.endCourseTable(),!0}}),cc._RFpop()},{CoursePackData:"CoursePackData",Http:"Http"}],CoursePage:[function(t,e,n){"use strict";cc._RFpush(e,"6db8b2oKH5PYo2A7lPa54jt","CoursePage");var i=t("Http");cc.Class({"extends":cc.Component,properties:{index:-1,pages:[cc.Node]},onLoad:function(){this.updatePage(this.index),cc.game.isPersistRootNode(this.node)||cc.game.addPersistRootNode(this.node)},handelNext:function(){this.index>=this.pages.length-1||this.updatePage(++this.index)},closePages:function(){for(var t=0;t<this.pages.length;t++){var e=this.pages[t];if(e.active){if(!e.getComponent("NodeTransition"))return void(e.active=!1);e.getComponent("NodeTransition").hide()}}},updatePage:function(t){return this.closePages(),this.index<0||this.index>=this.pages.length?void 0:(this.pages[t].active=!0,this.pages[t].getComponent("NodeTransition")?(this.pages[t].getComponent("NodeTransition").show(),this.pages[t]):void 0)},startCourseTable:function(){this.closePages(),cc.director.loadScene("TableScene",function(){this.node.getComponent("CoursePack").init()}.bind(this))},endCourseTable:function(){cc.director.loadScene("MainScene",function(){var t=this.updatePage(10);cc.director.getScene().getChildByName("CoursePage").removeFromParent(),this.node.parent=cc.director.getScene();var e=cc.find("Canvas/MainPage/Main/RoomListBtn");e&&(e.maskEvent=this.endCourse.bind(this),t.getComponent("MaskLayer").addMaskNode(e))}.bind(this))},endCourse:function(){return cc.game.isPersistRootNode(this.node)&&(cc.game.removePersistRootNode(this.node),this.node.removeFromParent()),!1},updateNewUser:function(){i.updateNewUser(this.updateUserSucceed.bind(this),function(){})},updateUserSucceed:function(){console.log("新手流程顺利走完"),i.userData.point+=1e4,i.userData.isNew=0}}),cc._RFpop()},{Http:"Http"}],DataMonitoring:[function(t,e,n){"use strict";cc._RFpush(e,"bb93e8TFvNGGY+JXEC+duOS","DataMonitoring");var i={};i.dataMap={};var a=function(t){return this.handles=[t],this.handleData=function(t){for(var e=0;e<this.handles.length;e++)t=this.handles[e](t);return t},this.addHandle=function(t){this.handles.push(t)},this};i.extend=function(t){return i.dataMap[t.dataName]=JSON.parse(JSON.stringify(t)),t._handleChainMap={},t._handleList={},t.bindCallF=function(e,n,i){2==arguments.length&&(n=arguments[0],i=arguments[1],e=n);var s=t._getDataName(n),o=t._findData(n),r=o[s];return t._handleList[e]&&(e=e+"-"+(new Date).getTime()),t._handleList[e]=function(t){o[s]=t(r)},console.debug("HANDLE_NAME = "+e),t._handleChainMap[n]?t._handleChainMap[n].addHandle(i):t._handleChainMap[n]=new a(i),t._handleChainMap[n].handleData(r),Object.defineProperty(o,s,{get:function(){return r},set:function(e){r=t._handleChainMap[n].handleData(e)}}),t._handleList[n]},t.getHandle=function(e){var n=t._handleList[e];if(!n)throw new Error("该数据没有注册:"+e);return n},t._findData=function(e){var n=e.split(":"),i=t;if(1==n.length)return t;for(var a=0;a<n.length-1;)i=i[n[a]],a++;return i},t._getDataName=function(t){var e=t.split(":");return e[e.length-1]},t.removeAllHandles=function(){t._handleChainMap={},t._handleList={}},t},e.exports=i,cc._RFpop()},{}],DataProxy:[function(t,e,n){"use strict";cc._RFpush(e,"ac778WXwr5OUJ2JFrocrNNT","DataProxy");var i={},a=function(t,e,n,i){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n,set:i})};i.extend=function(t){if(t.__handlerList)return t;var e=[];for(var n in t)e.push(n);t.__handlerList={};for(var s=0;s<e.length;s++){var o=e[s];t["$"+o]=t[o],delete t[o],a(t,o,function(t){return function(){return this["$"+t]}}(o),function(t){return function(e){this["$"+t]=e,i.callFunc(this,t)}}(o))}return t.addDataObserver=function(e,n){return n.call(t),i.addDataObserver(t,e,n)},t.removeDataObserver=function(e,n){return n?i.removeDataObserver(t,e,n):void 0},t},i.callFunc=function(t,e){if("object"==typeof t.__handlerList[e])for(var n=0;n<t.__handlerList[e].length;n++)"function"==typeof t.__handlerList[e][n]&&t.__handlerList[e][n].call(t)},i.addDataObserver=function(t,e,n){var i=0;if("object"==typeof t.__handlerList[e]){var a=t.__handlerList[e];i=a.length,a[i]=n}else t.__handlerList[e]=[n];return i},i.removeDataObserver=function(t,e,n){t.__handlerList[e][n]=null;for(var i=!0,a=0;a<t.__handlerList[e].length;a++)null!=t.__handlerList[e][a]&&(i=!1);i&&(t.__handlerList[e]=[])},e.exports=i,cc._RFpop()},{}],Egret:[function(t,e,n){"use strict";cc._RFpush(e,"0671bVN/GFOTqmBdx3XZxrf","Egret");var i={},a=function(t,e,n,i){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n,set:i})},s=function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n};i.__define=a,i.__extends=s;var i;!function(t){var e=function(){function t(t,e,n,i){this.$eventPhase=2,this.$currentTarget=null,this.$target=null,this.$isDefaultPrevented=!1,this.$isPropagationStopped=!1,this.$isPropagationImmediateStopped=!1,this.$type=t,this.$bubbles=!!e,this.$cancelable=!!n,this.data=i}var e=a,n=t,i=n.prototype;return e(i,"type",function(){return this.$type}),e(i,"bubbles",function(){return this.$bubbles}),e(i,"cancelable",function(){return this.$cancelable}),e(i,"eventPhase",function(){return this.$eventPhase}),e(i,"currentTarget",function(){return this.$currentTarget}),e(i,"target",function(){return this.$target}),i.$setTarget=function(t){return this.$target=t,!0},i.isDefaultPrevented=function(){return this.$isDefaultPrevented},i.preventDefault=function(){this.$cancelable&&(this.$isDefaultPrevented=!0)},i.stopPropagation=function(){this.$bubbles&&(this.$isPropagationStopped=!0)},i.stopImmediatePropagation=function(){this.$bubbles&&(this.$isPropagationImmediateStopped=!0)},i.clean=function(){this.data=this.$currentTarget=null,this.$setTarget(null)},t.dispatchEvent=function(e,n,i,a){void 0===i&&(i=!1);var s=t.create(t,n,i),o=t._getPropertyData(t);void 0!=a&&(o.data=a);var r=e.dispatchEvent(s);return t.release(s),r},t._getPropertyData=function(t){var e=t._props;return e||(e=t._props={}),e},t.create=function(t,e,n,i){var a=t.eventPool;if(a||(a=t.eventPool=[]),a.length){var s=a.pop();return s.$type=e,s.$bubbles=!!n,s.$cancelable=!!i,s.$isDefaultPrevented=!1,s.$isPropagationStopped=!1,s.$isPropagationImmediateStopped=!1,s.$eventPhase=2,s}return new t(e,n,i)},t.release=function(t){t.clean();var e=Object.getPrototypeOf(t).constructor;e.eventPool.push(t)},t}();t.Event=e}(i||(i={}));var i;!function(t){var e=[],n=function(){function n(t){void 0===t&&(t=null),this.$EventDispatcher={0:t?t:this,1:{},2:{},3:0}}var i=n,a=i.prototype;return a.$getEventMap=function(t){var e=this.$EventDispatcher,n=t?e[2]:e[1];return n},a.addEventListener=function(t,e,n,i,a){this.$addListener(t,e,n,i,a)},a.once=function(t,e,n,i,a){
this.$addListener(t,e,n,i,a,!0)},a.$addListener=function(e,n,i,a,s,o){n||t.$error(1003,"listener");var r=this.$EventDispatcher,c=a?r[2]:r[1],h=c[e];h?0!==r[3]&&(c[e]=h=h.concat()):h=c[e]=[],this.$insertEventBin(h,e,n,i,a,s,o)},a.$insertEventBin=function(t,e,n,i,a,s,o){s=0|+s;for(var r=-1,c=t.length,h=0;c>h;h++){var u=t[h];if(u.listener==n&&u.thisObject==i&&u.target==this)return!1;-1==r&&u.priority<s&&(r=h)}var l={type:e,listener:n,thisObject:i,priority:s,target:this,useCapture:a,dispatchOnce:!!o};return-1!==r?t.splice(r,0,l):t.push(l),!0},a.removeEventListener=function(t,e,n,i){var a=this.$EventDispatcher,s=i?a[2]:a[1],o=s[t];o&&(0!==a[3]&&(s[t]=o=o.concat()),this.$removeEventBin(o,e,n),0==o.length&&(s[t]=null))},a.removeAllEventListeners=function(){this.$EventDispatcher[1]={},this.$EventDispatcher[2]={}},a.$removeEventBin=function(t,e,n){for(var i=t.length,a=0;i>a;a++){var s=t[a];if(s.listener==e&&s.thisObject==n&&s.target==this)return t.splice(a,1),!0}return!1},a.hasEventListener=function(t){var e=this.$EventDispatcher;return!(!e[1][t]&&!e[2][t])},a.willTrigger=function(t){return this.hasEventListener(t)},a.dispatchEvent=function(t){return t.$currentTarget=this.$EventDispatcher[0],t.$setTarget(t.$currentTarget),this.$notifyListener(t,!1)},a.$notifyListener=function(t,n){var i=this.$EventDispatcher,a=n?i[2]:i[1],s=a[t.$type];if(!s)return!0;var o=s.length;if(0==o)return!0;var r=e;i[3]++;for(var c=0;o>c;c++){var h=s[c];if(h.listener.call(h.thisObject,t),h.dispatchOnce&&r.push(h),t.$isPropagationImmediateStopped)break}for(i[3]--;r.length;)h=r.pop(),h.target.removeEventListener(h.type,h.listener,h.thisObject,h.useCapture);return!t.$isDefaultPrevented},a.dispatchEventWith=function(e,n,i){if(n||this.hasEventListener(e)){var a=t.Event.create(t.Event,e,n);a.data=i;var s=this.dispatchEvent(a);return t.Event.release(a),s}return!0},n}();t.EventDispatcher=n}(i||(i={}));var i;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.LITTLE_ENDIAN="littleEndian",t.BIG_ENDIAN="bigEndian",t}();t.Endian=e;var n=function(){function n(t){this.BUFFER_EXT_SIZE=0,this.EOF_byte=-1,this.EOF_code_point=-1,this._setArrayBuffer(t||new ArrayBuffer(this.BUFFER_EXT_SIZE)),this.endian=e.BIG_ENDIAN}var i=a,s=n,o=s.prototype;return o._setArrayBuffer=function(t){this.write_position=t.byteLength,this.data=new DataView(t),this._position=0},o.setArrayBuffer=function(t){},i(o,"buffer",function(){return this.data.buffer},function(t){this.data=new DataView(t)}),i(o,"dataView",function(){return this.data},function(t){this.data=t,this.write_position=t.byteLength}),i(o,"bufferOffset",function(){return this.data.byteOffset}),i(o,"position",function(){return this._position},function(t){this._position=t,this.write_position=t>this.write_position?t:this.write_position}),i(o,"length",function(){return this.write_position},function(t){this.write_position=t;var e=new Uint8Array(new ArrayBuffer(t)),n=this.data.buffer.byteLength;n>t&&(this._position=t);var i=Math.min(n,t);e.set(new Uint8Array(this.data.buffer,0,i)),this.buffer=e.buffer}),i(o,"bytesAvailable",function(){return this.data.byteLength-this._position}),o.clear=function(){this._setArrayBuffer(new ArrayBuffer(this.BUFFER_EXT_SIZE))},o.readBoolean=function(){return this.validate(n.SIZE_OF_BOOLEAN)?0!=this.data.getUint8(this.position++):null},o.readByte=function(){return this.validate(n.SIZE_OF_INT8)?this.data.getInt8(this.position++):null},o.readBytes=function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),0==i)i=this.bytesAvailable;else if(!this.validate(i))return null;t?t.validateBuffer(e+i):t=new n(new ArrayBuffer(e+i));for(var a=0;i>a;a++)t.data.setUint8(a+e,this.data.getUint8(this.position++))},o.readDouble=function(){if(!this.validate(n.SIZE_OF_FLOAT64))return null;var t=this.data.getFloat64(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=n.SIZE_OF_FLOAT64,t},o.readFloat=function(){if(!this.validate(n.SIZE_OF_FLOAT32))return null;var t=this.data.getFloat32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=n.SIZE_OF_FLOAT32,t},o.readInt=function(){if(!this.validate(n.SIZE_OF_INT32))return null;var t=this.data.getInt32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=n.SIZE_OF_INT32,t},o.readShort=function(){if(!this.validate(n.SIZE_OF_INT16))return null;var t=this.data.getInt16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=n.SIZE_OF_INT16,t},o.readUnsignedByte=function(){return this.validate(n.SIZE_OF_UINT8)?this.data.getUint8(this.position++):null},o.readUnsignedInt=function(){if(!this.validate(n.SIZE_OF_UINT32))return null;var t=this.data.getUint32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=n.SIZE_OF_UINT32,t},o.readUnsignedShort=function(){if(!this.validate(n.SIZE_OF_UINT16))return null;var t=this.data.getUint16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=n.SIZE_OF_UINT16,t},o.readUTF=function(){if(!this.validate(n.SIZE_OF_UINT16))return null;var t=this.data.getUint16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=n.SIZE_OF_UINT16,t>0?this.readUTFBytes(t):""},o.readUTFBytes=function(t){if(!this.validate(t))return null;var e=new Uint8Array(this.buffer,this.bufferOffset+this.position,t);return this.position+=t,this.decodeUTF8(e)},o.writeBoolean=function(t){this.validateBuffer(n.SIZE_OF_BOOLEAN),this.data.setUint8(this.position++,t?1:0)},o.writeByte=function(t){this.validateBuffer(n.SIZE_OF_INT8),this.data.setInt8(this.position++,t)},o.writeBytes=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i;if(!(0>e)&&!(0>n)&&(i=0==n?t.length-e:Math.min(t.length-e,n),i>0)){this.validateBuffer(i);for(var a=new DataView(t.buffer),n=i,s=4;n>s;n-=s)this.data.setUint32(this._position,a.getUint32(e)),this.position+=s,e+=s;for(;n>0;n--)this.data.setUint8(this.position++,a.getUint8(e++))}},o.writeDouble=function(t){this.validateBuffer(n.SIZE_OF_FLOAT64),this.data.setFloat64(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=n.SIZE_OF_FLOAT64},o.writeFloat=function(t){this.validateBuffer(n.SIZE_OF_FLOAT32),this.data.setFloat32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=n.SIZE_OF_FLOAT32},o.writeInt=function(t){this.validateBuffer(n.SIZE_OF_INT32),this.data.setInt32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=n.SIZE_OF_INT32},o.writeShort=function(t){this.validateBuffer(n.SIZE_OF_INT16),this.data.setInt16(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=n.SIZE_OF_INT16},o.writeUnsignedInt=function(t){this.validateBuffer(n.SIZE_OF_UINT32),this.data.setUint32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=n.SIZE_OF_UINT32},o.writeUnsignedShort=function(t){this.validateBuffer(n.SIZE_OF_UINT16),this.data.setUint16(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=n.SIZE_OF_UINT16},o.writeUTF=function(t){var i=this.encodeUTF8(t),a=i.length;this.validateBuffer(n.SIZE_OF_UINT16+a),this.data.setUint16(this.position,a,this.endian==e.LITTLE_ENDIAN),this.position+=n.SIZE_OF_UINT16,this._writeUint8Array(i,!1)},o.writeUTFBytes=function(t){this._writeUint8Array(this.encodeUTF8(t))},o.writeStringBytes=function(t){this.writeUTFBytes(t)},o.writeUShort=function(t){this.writeUnsignedShort(t)},o.writeUInt=function(t){this.writeUnsignedInt(t)},o.writeUByte=function(t){this.validateBuffer(n.SIZE_OF_BOOLEAN),this.data.setUint8(this.position++,t)},o.writeBuf=function(t){this.writeBytes(t)},o.readStringBytes=function(t){return this.readUTFBytes(t)},o.readUShort=function(){return this.readUnsignedShort()},o.readUInt=function(){return this.readUnsignedInt()},o.readUByte=function(){return this.validate(n.SIZE_OF_BOOLEAN)?this.data.getUint8(this.position++):null},o.readBuf=function(t){return this.readUTFBytes(t)},o.setPos=function(t){return this.position=t,this},o.getPos=function(){return this.position},o.getLen=function(){return this.length},o.getAvailable=function(){return this.bytesAvailable},o.readRawByte=function(){return this.readByte()},o.writeRawByte=function(t){return this.writeByte(t),this},o.toString=function(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable},o._writeUint8Array=function(t,e){void 0===e&&(e=!0),e&&this.validateBuffer(this.position+t.length);for(var n=0;n<t.length;n++)this.data.setUint8(this.position++,t[n])},o.validate=function(e){return this.data.byteLength>0&&this._position+e<=this.data.byteLength?!0:void t.$error(1025)},o.validateBuffer=function(t,e){if(void 0===e&&(e=!1),this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this.data.byteLength<t||e){var n=new Uint8Array(new ArrayBuffer(t+this.BUFFER_EXT_SIZE)),i=Math.min(this.data.buffer.byteLength,t+this.BUFFER_EXT_SIZE);n.set(new Uint8Array(this.data.buffer,0,i)),this.buffer=n.buffer}},o.encodeUTF8=function(t){for(var e=0,n=this.stringToCodePoints(t),i=[];n.length>e;){var a=n[e++];if(this.inRange(a,55296,57343))this.encoderError(a);else if(this.inRange(a,0,127))i.push(a);else{var s,o;for(this.inRange(a,128,2047)?(s=1,o=192):this.inRange(a,2048,65535)?(s=2,o=224):this.inRange(a,65536,1114111)&&(s=3,o=240),i.push(this.div(a,Math.pow(64,s))+o);s>0;){var r=this.div(a,Math.pow(64,s-1));i.push(128+r%64),s-=1}}}return new Uint8Array(i)},o.decodeUTF8=function(t){for(var e,n=!1,i=0,a="",s=0,o=0,r=0,c=0;t.length>i;){var h=t[i++];if(h==this.EOF_byte)e=0!=o?this.decoderError(n):this.EOF_code_point;else if(0==o)this.inRange(h,0,127)?e=h:(this.inRange(h,194,223)?(o=1,c=128,s=h-192):this.inRange(h,224,239)?(o=2,c=2048,s=h-224):this.inRange(h,240,244)?(o=3,c=65536,s=h-240):this.decoderError(n),s*=Math.pow(64,o),e=null);else if(this.inRange(h,128,191))if(r+=1,s+=(h-128)*Math.pow(64,o-r),r!==o)e=null;else{var u=s,l=c;s=0,o=0,r=0,c=0,e=this.inRange(u,l,1114111)&&!this.inRange(u,55296,57343)?u:this.decoderError(n,h)}else s=0,o=0,r=0,c=0,i--,e=this.decoderError(n,h);null!==e&&e!==this.EOF_code_point&&(65535>=e?e>0&&(a+=String.fromCharCode(e)):(e-=65536,a+=String.fromCharCode(55296+(e>>10&1023)),a+=String.fromCharCode(56320+(1023&e))))}return a},o.encoderError=function(e){t.$error(1026,e)},o.decoderError=function(e,n){return e&&t.$error(1027),n||65533},o.inRange=function(t,e,n){return t>=e&&n>=t},o.div=function(t,e){return Math.floor(t/e)},o.stringToCodePoints=function(t){for(var e=[],n=0,i=t.length;n<t.length;){var a=t.charCodeAt(n);if(this.inRange(a,55296,57343))if(this.inRange(a,56320,57343))e.push(65533);else if(n==i-1)e.push(65533);else{var s=t.charCodeAt(n+1);if(this.inRange(s,56320,57343)){var o=1023&a,r=1023&s;n+=1,e.push(65536+(o<<10)+r)}else e.push(65533)}else e.push(a);n+=1}return e},n.SIZE_OF_BOOLEAN=1,n.SIZE_OF_INT8=1,n.SIZE_OF_INT16=2,n.SIZE_OF_INT32=4,n.SIZE_OF_UINT8=1,n.SIZE_OF_UINT16=2,n.SIZE_OF_UINT32=4,n.SIZE_OF_FLOAT32=4,n.SIZE_OF_FLOAT64=8,n}();t.ByteArray=n}(i||(i={}));var i;!function(t){var e=function(e){function n(i,a){void 0===i&&(i=""),void 0===a&&(a=0),e.call(this),this._writeMessage="",this._readMessage="",this._connected=!1,this._isReadySend=!1,this._bytesWrite=!1,this._type=n.TYPE_STRING,this._connected=!1,this._writeMessage="",this._readMessage="",this.socket=new t.ISocket,this.socket.addCallBacks(this.onConnect,this.onClose,this.onSocketData,this.onError,this)}s(n,e);var i=a,o=n,r=o.prototype;return r.connect=function(t,e){this.socket.connect(t,e)},r.connectByUrl=function(t){this.socket.connectByUrl(t)},r.close=function(){this.socket.close()},r.onConnect=function(){this._connected=!0,this.dispatchEventWith(n.Event.CONNECT)},r.onClose=function(){this._connected=!1,this.dispatchEventWith(n.Event.CLOSE)},r.onError=function(){this.dispatchEventWith(n.Event.IO_ERROR)},r.onSocketData=function(t){"string"==typeof t?this._readMessage+=t:this._readByte._writeUint8Array(new Uint8Array(t)),this.dispatchEventWith(n.Event.SOCKET_DATA)},r.flush=function(){return this._connected?(this._writeMessage&&(this.socket.send(this._writeMessage),this._writeMessage=""),this._bytesWrite&&(this.socket.send(this._writeByte.buffer),this._bytesWrite=!1,this._writeByte.clear()),void(this._isReadySend=!1)):void t.$warn(3101)},r.writeUTF=function(e){return this._connected?(this._type==n.TYPE_BINARY?(this._bytesWrite=!0,this._writeByte.writeUTF(e)):this._writeMessage+=e,void this.flush()):void t.$warn(3101)},r.readUTF=function(){var t;return this._type==n.TYPE_BINARY?(this._readByte.position=0,t=this._readByte.readUTF(),this._readByte.clear()):(t=this._readMessage,this._readMessage=""),t},r.writeBytes=function(e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),this._connected?this._writeByte?(this._bytesWrite=!0,this._writeByte.writeBytes(e,n,i),void this.flush()):void t.$warn(3102):void t.$warn(3101)},r.readBytes=function(e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),this._readByte?(this._readByte.position=0,this._readByte.readBytes(e,n,i),void this._readByte.clear()):void t.$warn(3102)},i(r,"connected",function(){return this._connected}),i(r,"type",function(){return this._type},function(e){this._type=e,e!=n.TYPE_BINARY||this._writeByte||(this._readByte=new t.ByteArray,this._writeByte=new t.ByteArray)}),n.TYPE_STRING="webSocketTypeString",n.TYPE_BINARY="webSocketTypeBinary",n.Event={CONNECT:"CONNECT",CLOSE:"CLOSE",IO_ERROR:"IO_ERROR",SOCKET_DATA:"SOCKET_DATA"},n}(t.EventDispatcher);t.WebSocket=e}(i||(i={}));var i;!function(t){!function(){var e=function(){function e(){this.host="",this.port=0,window.WebSocket||t.$error(3100)}var n=e,i=n.prototype;return i.addCallBacks=function(t,e,n,i,a){this.onConnect=t,this.onClose=e,this.onSocketData=n,this.onError=i,this.thisObject=a},i.connect=function(t,e){this.host=t,this.port=e;var n="ws://"+this.host+":"+this.port;this.socket=new window.WebSocket(n,["ipalmplay-PP"]),this.socket.binaryType="arraybuffer",this._bindEvent()},i.connectByUrl=function(t){this.socket=new window.WebSocket(t,["ipalmplay-PP"]),this.socket.binaryType="arraybuffer",this._bindEvent()},i._bindEvent=function(){var t=this,e=this.socket;e.onopen=function(){t.onConnect&&t.onConnect.call(t.thisObject)},e.onclose=function(e){t.onClose&&t.onClose.call(t.thisObject)},e.onerror=function(e){t.onError&&t.onError.call(t.thisObject)},e.onmessage=function(e){t.onSocketData&&t.onSocketData.call(t.thisObject,e.data)}},i.send=function(t){this.socket.send(t)},i.close=function(){this.socket.close()},e}();t.ISocket=e}()}(i||(i={})),i.$error=function(t,e){cc.error("error code = "+t+" msg = "+e)},i.$warn=function(t,e){cc.warn("error code = "+t+" msg = "+e)},e.exports=i,cc._RFpop()},{}],ExpressionWin:[function(t,e,n){"use strict";cc._RFpush(e,"31edeA5HTxM+5PjyFKtgaRR","ExpressionWin");var i=t("Router");cc.Class({"extends":cc.Component,properties:{layout:{"default":null,type:cc.Layout},spriteAtlas:{"default":null,type:cc.SpriteAtlas},expressionPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){i.expressionAtlas=this.spriteAtlas,this.scheduleOnce(function(){for(var t=1;27>=t;t++){var e=cc.instantiate(this.expressionPrefab);e.getComponent("Expression").init(t),this.layout.node.addChild(e)}},0)}}),cc._RFpop()},{Router:"Router"}],Expression:[function(t,e,n){"use strict";cc._RFpush(e,"21fcexQKKNKwKL0voq2OT8J","Expression");var i=t("Game"),a=t("Router");cc.Class({"extends":cc.Component,properties:{id:-1,spriteAtlas:{"default":null,type:cc.SpriteAtlas},sprite:{"default":null,type:cc.Sprite}},onLoad:function(){this.sprite.node.on(cc.Node.EventType.TOUCH_END,this.sendExpression,this),this.sprite.node.on(cc.Node.EventType.MOUSE_DOWN,this.sendExpression,this)},init:function(t){this.id=t,this.updateSprite()},updateSprite:function(){this.id>0&&(this.sprite.spriteFrame=this.spriteAtlas.getSpriteFrame("expression-"+this.id))},sendExpression:function(t){i.socket.sendExpression(this.id),a.tabel&&a.tabel.closeExpressionWin()}}),cc._RFpop()},{Game:"Game",Router:"Router"}],FSM:[function(t,e,n){"use strict";cc._RFpush(e,"b65120mDuBO+pruUzeHxls5","FSM"),function(){var t={VERSION:"2.3.5",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,n){var i="string"==typeof e.initial?{state:e.initial}:e.initial,a=e.terminal||e["final"],s=n||e.target||{},o=e.events||[],r=e.callbacks||{},c={},h={},u=function(e){var n=e.from instanceof Array?e.from:e.from?[e.from]:[t.WILDCARD];c[e.name]=c[e.name]||{};for(var i=0;i<n.length;i++)h[n[i]]=h[n[i]]||[],h[n[i]].push(e.name),c[e.name][n[i]]=e.to||n[i]};i&&(i.event=i.event||"startup",u({name:i.event,from:"none",to:i.state}));for(var l=0;l<o.length;l++)u(o[l]);for(var d in c)c.hasOwnProperty(d)&&(s[d]=t.buildEvent(d,c[d]));for(var d in r)r.hasOwnProperty(d)&&(s[d]=r[d]);return s.current="none",s.is=function(t){return t instanceof Array?t.indexOf(this.current)>=0:this.current===t},s.can=function(e){return!this.transition&&(c[e].hasOwnProperty(this.current)||c[e].hasOwnProperty(t.WILDCARD))},s.cannot=function(t){return!this.can(t)},s.transitions=function(){return h[this.current]},s.isFinished=function(){return this.is(a)},s.error=e.error||function(t,e,n,i,a,s,o){throw o||s},i&&!i.defer&&s[i.event](),s},doCallback:function(e,n,i,a,s,o){if(n)try{return n.apply(e,[i,a,s].concat(o))}catch(r){return e.error(i,a,s,o,t.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",r)}},beforeAnyEvent:function(e,n,i,a,s){return t.doCallback(e,e.onbeforeevent,n,i,a,s)},afterAnyEvent:function(e,n,i,a,s){return t.doCallback(e,e.onafterevent||e.onevent,n,i,a,s)},leaveAnyState:function(e,n,i,a,s){return t.doCallback(e,e.onleavestate,n,i,a,s)},enterAnyState:function(e,n,i,a,s){return t.doCallback(e,e.onenterstate||e.onstate,n,i,a,s)},changeState:function(e,n,i,a,s){return t.doCallback(e,e.onchangestate,n,i,a,s)},beforeThisEvent:function(e,n,i,a,s){return t.doCallback(e,e["onbefore"+n],n,i,a,s)},afterThisEvent:function(e,n,i,a,s){return t.doCallback(e,e["onafter"+n]||e["on"+n],n,i,a,s)},leaveThisState:function(e,n,i,a,s){return t.doCallback(e,e["onleave"+i],n,i,a,s)},enterThisState:function(e,n,i,a,s){return t.doCallback(e,e["onenter"+a]||e["on"+a],n,i,a,s)},beforeEvent:function(e,n,i,a,s){return!1===t.beforeThisEvent(e,n,i,a,s)||!1===t.beforeAnyEvent(e,n,i,a,s)?!1:void 0},afterEvent:function(e,n,i,a,s){t.afterThisEvent(e,n,i,a,s),t.afterAnyEvent(e,n,i,a,s)},leaveState:function(e,n,i,a,s){var o=t.leaveThisState(e,n,i,a,s),r=t.leaveAnyState(e,n,i,a,s);return!1===o||!1===r?!1:t.ASYNC===o||t.ASYNC===r?t.ASYNC:void 0},enterState:function(e,n,i,a,s){t.enterThisState(e,n,i,a,s),t.enterAnyState(e,n,i,a,s)},buildEvent:function(e,n){return function(){var i=this.current,a=n[i]||n[t.WILDCARD]||i,s=Array.prototype.slice.call(arguments);if(this.transition)return this.error(e,i,a,s,t.Error.PENDING_TRANSITION,"event "+e+" inappropriate because previous transition did not complete");if(this.cannot(e))return this.error(e,i,a,s,t.Error.INVALID_TRANSITION,"event "+e+" inappropriate in current state "+this.current);if(!1===t.beforeEvent(this,e,i,a,s))return t.Result.CANCELLED;if(i===a)return t.afterEvent(this,e,i,a,s),t.Result.NOTRANSITION;var o=this;this.transition=function(){return o.transition=null,o.current=a,t.enterState(o,e,i,a,s),t.changeState(o,e,i,a,s),t.afterEvent(o,e,i,a,s),t.Result.SUCCEEDED},this.transition.cancel=function(){o.transition=null,t.afterEvent(o,e,i,a,s)};var r=t.leaveState(this,e,i,a,s);return!1===r?(this.transition=null,t.Result.CANCELLED):t.ASYNC===r?t.Result.PENDING:this.transition?this.transition():void 0}}};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=t),n.StateMachine=t):"function"==typeof define&&define.amd?define(function(e){return t}):"undefined"!=typeof window?window.StateMachine=t:"undefined"!=typeof self&&(self.StateMachine=t)}(),cc._RFpop()},{}],FloatAni:[function(t,e,n){"use strict";cc._RFpush(e,"d9436ECem9Gk43gfDFxIWCf","FloatAni"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},start:function(){var t=cc.moveBy(.5,cc.p(0,25)),e=cc.moveBy(.5,cc.p(0,-25));this.node.runAction(cc.repeatForever(cc.sequence(t,e)))}}),cc._RFpop()},{}],FrameAnimation:[function(t,e,n){"use strict";cc._RFpush(e,"feeceRd4nBHkIVQRQhxiejK","FrameAnimation"),cc.Class({"extends":cc.Component,properties:{count:0,loopNum:2,sprite:null,interval:.3,loop:!1,cb:null,frameList:[],stopFlag:!0,spriteAtlas:{"default":null,type:cc.SpriteAtlas}},onLoad:function(){this.updateTimer=0},init:function(t,e){this.spriteAtlas=t,this.sprite=this.node.addComponent(cc.Sprite);var n=this.sprite.spriteFrame=t.getSpriteFrame(e);this.addFrame(n)},run:function(t){this.stopFlag=!1,t&&(this.cb=t)},stop:function(){this.stopFlag=!0},addFrame:function(t){this.frameList.push(t)},autoAddFrame:function(t,e){for(var n=e,i=this.spriteAtlas.getSpriteFrame(t+n);i;)this.addFrame(i),n++,i=this.spriteAtlas.getSpriteFrame(t+n)},update:function(t){if(!(this.stopFlag||(this.updateTimer+=t,this.updateTimer<this.interval))){if(this.updateTimer=0,this.count==this.frameList.length*this.loopNum)return this.loop?void(this.count=0):(this.cb&&this.cb(),void(this.stopFlag=!0));this.sprite.spriteFrame=this.frameList[this.count%this.frameList.length],this.count++}}}),cc._RFpop()},{}],GAME_SOCKET_PROTOCOL:[function(t,e,n){"use strict";cc._RFpush(e,"88617mcmodLSrmgXOvjPGvl","GAME_SOCKET_PROTOCOL");var i=t("PACKET_DATA_TYPE"),a={};a.CONFIG={};var s=a,o=a.CONFIG;s.KEEP_ALIVE=1,o[s.KEEP_ALIVE]=null,s.CLI_LOGIN=8193,o[s.CLI_LOGIN]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"mtkey",type:i.STRING}]},s.SVR_LOGIN_RET=8194,o[s.SVR_LOGIN_RET]={ver:1,fmt:[{name:"ret",type:i.UINT},{name:"tid",type:i.UINT}]},s.SVR_DOUBLE_LOGIN=8195,o[s.SVR_DOUBLE_LOGIN]={ver:1,fmt:[{name:"ret",type:i.UINT}]},s.GET_ROOM=12304,o[s.GET_ROOM]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"blind",type:i.ULONG},{name:"num",type:i.BYTE},{name:"roomType",type:i.BYTE},{name:"tid",type:i.UINT}]},s.ENTER_ROOM=12305,o[s.ENTER_ROOM]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"tid",type:i.UINT}]},s.QUICK_START=12306,o[s.QUICK_START]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"money",type:i.ULONG}]},s.GET_ROOM_RET=12320,o[s.GET_ROOM_RET]={ver:1,fmt:[{name:"tid",type:i.UINT},{name:"svid",type:i.UINT}]},s.CLI_JOIN=16387,o[s.CLI_JOIN]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"tid",type:i.UINT},{name:"userinfo",type:i.STRING}]},s.CLI_LEAVE=16389,o[s.CLI_LEAVE]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.CLI_SIT_DOWN=16391,o[s.CLI_SIT_DOWN]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"seatId",type:i.BYTE}]},s.CLI_STAND_UP=16386,o[s.CLI_STAND_UP]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.CLI_DO=16392,o[s.CLI_DO]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"betX",type:i.BYTE}]},s.CLI_SEND_ROOM_BROADCAST=16393,o[s.CLI_SEND_ROOM_BROADCAST]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"tid",type:i.INT},{name:"param",type:i.INT},{name:"content",type:i.STRING}]},s.SVR_JOIN_SUCCESS=16641,o[s.SVR_JOIN_SUCCESS]={ver:1,fmt:[{name:"blind",type:i.ULONG},{name:"minBuyIn",type:i.ULONG},{name:"roomName",type:i.STRING},{name:"roomType",type:i.UINT},{name:"seatChips",type:i.ULONG},{name:"gameStatus",type:i.BYTE},{name:"seatNum",type:i.BYTE},{name:"roundCount",type:i.UINT},{name:"dealerSeatId",type:i.BYTE},{name:"venue",type:i.USHORT},{name:"xs",type:i.BYTE},{name:"score",type:i.USHORT},{name:"playerList",type:i.ARRAY,fmt:[{name:"seatId",type:i.BYTE},{name:"uid",type:i.UINT},{name:"seatChips",type:i.ULONG},{name:"point",type:i.ULONG},{name:"vip",type:i.BYTE},{name:"nick",type:i.STRING},{name:"gender",type:i.STRING},{name:"img",type:i.STRING},{name:"win",type:i.UINT},{name:"lose",type:i.UINT},{name:"extInfo",type:i.STRING},{name:"state",type:i.BYTE},{name:"betX",type:i.BYTE}]},{name:"handCardFlag",type:i.BYTE},{name:"handCards",type:i.ARRAY,depends:function(t){return 1==t.handCardFlag},fixedLength:5,fmt:{type:i.USHORT}},{name:"cardType",type:i.BYTE,depends:function(t){return 1==t.handCardFlag}},{name:"cardTypeX",type:i.BYTE,depends:function(t){return 1==t.handCardFlag}}]},s.SVR_JOIN_FAIL=16898,o[s.SVR_JOIN_FAIL]={ver:1,fmt:[{name:"errorCode",type:i.USHORT}]},s.SVR_LEAVE_SUCCESS=16937,o[s.SVR_LEAVE_SUCCESS]={ver:1},s.SVR_GAME_START=16903,o[s.SVR_GAME_START]={ver:1,fmt:[{name:"roundCount",type:i.UINT},{name:"timeout",type:i.BYTE},{name:"playerList",type:i.ARRAY,fmt:[{name:"seatId",type:i.BYTE},{name:"uid",type:i.UINT},{name:"seatChips",type:i.ULONG}]},{name:"handCard1",type:i.USHORT},{name:"handCard2",type:i.USHORT},{name:"handCard3",type:i.USHORT},{name:"handCard4",type:i.USHORT},{name:"seatChips",type:i.ULONG}]},s.SVR_GAME_OVER=16910,o[s.SVR_GAME_OVER]={ver:1,fmt:[{name:"seatChangeList",type:i.ARRAY,fmt:[{name:"seatId",type:i.BYTE},{name:"seatChips",type:i.LONG},{name:"point",type:i.LONG}]},{name:"playerCardsList",type:i.ARRAY,fmt:[{name:"seatId",type:i.BYTE},{name:"handCard1",type:i.USHORT},{name:"handCard2",type:i.USHORT},{name:"handCard3",type:i.USHORT},{name:"handCard4",type:i.USHORT},{name:"handCard5",type:i.USHORT},{name:"cardType",type:i.BYTE},{name:"cardTypeX",type:i.BYTE}]}]},s.SVR_SIT_DOWN=16901,o[s.SVR_SIT_DOWN]={ver:1,fmt:[{name:"seatId",type:i.BYTE},{name:"uid",type:i.UINT},{name:"seatChips",type:i.ULONG},{name:"point",type:i.ULONG},{name:"vip",type:i.BYTE},{name:"nick",type:i.STRING},{name:"gender",type:i.STRING},{name:"img",type:i.STRING},{name:"win",type:i.UINT},{name:"lose",type:i.UINT},{name:"extInfo",type:i.STRING}]},s.SVR_SIT_DOWN_FAIL=16900,o[s.SVR_SIT_DOWN_FAIL]={ver:1,fmt:[{name:"errorCode",type:i.USHORT}]},s.SVR_STAND_UP=16902,o[s.SVR_STAND_UP]={ver:1,fmt:[{name:"seatId",type:i.BYTE},{name:"seatChips",type:i.ULONG}]},s.SVR_DO_SUCCESS=16904,o[s.SVR_DO_SUCCESS]={ver:1,fmt:[{name:"seatId",type:i.BYTE},{name:"state",type:i.BYTE},{name:"betX",type:i.BYTE}]},s.SVR_DEAL_ONE_CARD=16905,o[s.SVR_DEAL_ONE_CARD]={ver:1,fmt:[{name:"handCard5",type:i.USHORT},{name:"cardType",type:i.BYTE},{name:"cardTypeX",type:i.BYTE}]},s.SVR_TURN_TO=16908,o[s.SVR_TURN_TO]={ver:1,fmt:[{name:"gameStatus",type:i.ULONG},{name:"timeout",type:i.BYTE},{name:"bankerSeatId",type:i.BYTE}]},s.SVR_CMD_USER_CRASH=16915,o[s.SVR_CMD_USER_CRASH]={ver:1,fmt:[{name:"times",type:i.BYTE},{name:"remark",type:i.LONG}]},s.SVR_SEND_ROOM_BROADCAST=16913,o[s.SVR_SEND_ROOM_BROADCAST]=o[s.CLI_SEND_ROOM_BROADCAST],s.SVR_CMD_SERVER_UPGRADE=17665,o[s.SVR_CMD_SERVER_UPGRADE]=null,s.SVR_KICK_USER=17667,o[s.SVR_KICK_USER]=null,s.BROADCAST_MONEY_CHANGE_RET=28689,o[s.BROADCAST_MONEY_CHANGE_RET]={ver:1,fmt:[{name:"money",type:i.ULONG},{name:"remark",type:i.UINT}]},s.BROADCAST_EXP_CHANGE_RET=28705,o[s.BROADCAST_EXP_CHANGE_RET]={ver:1,fmt:[{name:"exp",type:i.ULONG},{name:"remark",type:i.UINT}]},s.BROADCAST_DIAMOND_CHANGE_RET=28691,o[s.BROADCAST_DIAMOND_CHANGE_RET]={ver:1,fmt:[{name:"diamond",type:i.ULONG},{name:"remark",type:i.UINT}]},s.BROADCAST_USER_MESSAGE_RET=28693,o[s.BROADCAST_USER_MESSAGE_RET]={ver:1,fmt:[{name:"message",type:i.STRING}]},s.BROADCAST_ALL_MESSAGE_RET=28695,o[s.BROADCAST_ALL_MESSAGE_RET]={ver:1,fmt:[{name:"message",type:i.STRING}]},s.HUNDRED_CLI_JOIN=40961,o[s.HUNDRED_CLI_JOIN]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"tid",type:i.UINT},{name:"userinfo",type:i.STRING}]},s.HUNDRED_SVR_JOIN_SUCCESS=40962,o[s.HUNDRED_SVR_JOIN_SUCCESS]={ver:1,fmt:[{name:"seatId",type:i.UINT},{name:"blind",type:i.ULONG},{name:"minBuyIn",type:i.ULONG},{name:"maxBuyIn",type:i.ULONG},{name:"roomName",type:i.STRING},{name:"roomType",type:i.UINT},{name:"roomField",type:i.UINT},{name:"seatNum",type:i.BYTE},{name:"gameStatus",type:i.BYTE},{name:"betExpire",type:i.INT},{name:"minDealerBuyin",type:i.ULONG},{name:"minSitdownBuyin",type:i.ULONG},{name:"inApplyDealer",type:i.UINT},{name:"pots",type:i.ARRAY,fmt:[{name:"potId",type:i.UINT},{name:"totalChips",type:i.ULONG},{name:"meBetChips",type:i.ULONG}]},{name:"playerList",type:i.ARRAY,fmt:[{name:"seatId",type:i.UINT},{name:"uid",type:i.UINT},{name:"nick",type:i.STRING},{name:"vip",type:i.BYTE},{name:"img",type:i.STRING},{name:"gender",type:i.STRING},{name:"buyinChips",type:i.ULONG},{name:"platFlag",type:i.INT},{name:"giftId",type:i.INT},{name:"exp",type:i.UINT},{name:"win",type:i.UINT},{name:"lose",type:i.UINT},{name:"diamondCount",type:i.ULONG},{name:"extInfo",type:i.STRING},{name:"homeTown",type:i.STRING},{name:"totalWinChips",type:i.ULONG},{name:"totalLoseChips",type:i.LONG},{name:"otherChips",type:i.ULONG},{name:"totalAddBuyin",type:i.ULONG}]},{name:"luckPotChips",type:i.ULONG}]},s.HUNDRED_SVR_JOIN_FAIL=40963,o[s.HUNDRED_SVR_JOIN_FAIL]={ver:1,fmt:[{name:"errorCode",type:i.USHORT}]},s.HUNDRED_CLI_SIT_DOWN=40964,o[s.HUNDRED_CLI_SIT_DOWN]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"seatId",type:i.UINT}]},s.HUNDRED_SVR_SIT_DOWN=40965,o[s.HUNDRED_SVR_SIT_DOWN]={ver:1,fmt:[{name:"seatId",type:i.UINT},{name:"uid",type:i.UINT},{name:"nick",type:i.STRING},{name:"vip",type:i.BYTE},{name:"img",type:i.STRING},{name:"gender",type:i.STRING},{name:"buyinChips",type:i.ULONG},{name:"platFlag",type:i.INT},{name:"giftId",type:i.INT},{name:"exp",type:i.UINT},{name:"win",type:i.UINT},{name:"lose",type:i.UINT},{name:"diamondCount",type:i.ULONG},{name:"extInfo",type:i.STRING},{name:"homeTown",type:i.STRING}]},s.HUNDRED_SVR_SIT_DOWN_FAIL=40966,o[s.HUNDRED_SVR_SIT_DOWN_FAIL]={ver:1,fmt:[{name:"errorCode",type:i.USHORT}]},s.HUNDRED_CLI_STAND_UP=40967,o[s.HUNDRED_CLI_STAND_UP]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.HUNDRED_SVR_STAND_UP=40968,o[s.HUNDRED_SVR_STAND_UP]={ver:1,fmt:[{name:"seatId",type:i.UINT}]},s.HUNDRED_SVR_STAND_UP_FAIL=40969,o[s.HUNDRED_SVR_STAND_UP_FAIL]={ver:1,fmt:[{name:"errorCode",type:i.USHORT}]},s.HUNDRED_CLI_LEAVE=40976,o[s.HUNDRED_CLI_LEAVE]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.HUNDRED_SVR_HALFWAY_LEAVE=40977,o[s.HUNDRED_SVR_HALFWAY_LEAVE]={ver:1},s.HUNDRED_SVR_LEAVE_RET=40978,o[s.HUNDRED_SVR_LEAVE_RET]={ver:1,fmt:[{name:"code",type:i.UINT}]},s.HUNDRED_CLI_MULTI_BET=40979,o[s.HUNDRED_CLI_MULTI_BET]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"bets",type:i.ARRAY,fmt:[{name:"potId",type:i.UINT},{name:"betChips",type:i.ULONG}]}]},s.HUNDRED_SVR_BET_FAIL=40980,o[s.HUNDRED_SVR_BET_FAIL]={ver:1,fmt:[{name:"errorCode",type:i.USHORT},{name:"buyinChips",type:i.ULONG},{name:"acceptChips",type:i.ULONG}]},s.HUNDRED_SVR_MULTI_BET_SUCCESS=40981,o[s.HUNDRED_SVR_MULTI_BET_SUCCESS]={ver:1,fmt:[{name:"buyinChips",type:i.ULONG},{name:"meAcceptChips",type:i.ULONG},{name:"dealerAcceptChips",type:i.ULONG},{name:"betsResult",type:i.ARRAY,fmt:[{name:"potId",type:i.UINT},{name:"betChips",type:i.ULONG},{name:"totalChips",type:i.ULONG}]}]},s.HUNDRED_SVR_GAME_START=40982,o[s.HUNDRED_SVR_GAME_START]={ver:1,fmt:[{name:"seatId",type:i.UINT},{name:"uid",type:i.UINT},{name:"nick",type:i.STRING},{name:"vip",type:i.BYTE},{name:"img",type:i.STRING},{name:"gender",type:i.STRING},{name:"buyinChips",type:i.ULONG},{name:"otherChips",type:i.ULONG},{name:"platFlag",type:i.INT},{name:"giftId",type:i.INT},{name:"exp",type:i.UINT},{name:"win",type:i.UINT},{name:"lose",type:i.UINT},{name:"diamondCount",type:i.ULONG},{name:"extInfo",type:i.STRING},{name:"homeTown",type:i.STRING},{name:"acceptChips",type:i.ULONG},{name:"playerList",type:i.ARRAY,fmt:[{name:"seatId",type:i.UINT},{name:"uid",type:i.UINT},{name:"buyinChips",type:i.ULONG}]}]},s.HUNDRED_SVR_GAME_OVER=40983,o[s.HUNDRED_SVR_GAME_OVER]={ver:1,fmt:[{name:"seatId",type:i.UINT},{name:"exp",type:i.UINT},{name:"buyinChips",type:i.ULONG},{name:"totalWinChips",type:i.ULONG},{name:"totalLoseChips",type:i.LONG},{name:"dealerCard1",type:i.USHORT},{name:"dealerCard2",type:i.USHORT},{name:"dealerCard3",type:i.USHORT},{name:"dealerCard4",type:i.USHORT},{name:"dealerCard5",type:i.USHORT},{name:"dealerCardType",type:i.BYTE},{name:"pokers",type:i.ARRAY,fmt:[{name:"potId",type:i.UINT},{name:"multiple",type:i.INT},{name:"handCard1",type:i.USHORT},{name:"handCard2",type:i.USHORT},{name:"handCard3",type:i.USHORT},{name:"handCard4",type:i.USHORT},{name:"handCard5",type:i.USHORT},{name:"cardType",type:i.BYTE}]},{name:"bets",type:i.ARRAY,fmt:[{name:"potId",type:i.UINT},{name:"seatId",type:i.UINT},{name:"betChips",type:i.ULONG}]},{name:"seatChangeList",type:i.ARRAY,fmt:[{name:"seatId",type:i.UINT},{name:"uid",type:i.UINT},{name:"chips",type:i.LONG
},{name:"buyinChips",type:i.ULONG}]},{name:"winners",type:i.ARRAY,fmt:[{name:"uid",type:i.UINT},{name:"img",type:i.STRING},{name:"chips",type:i.LONG},{name:"nick",type:i.STRING}]},{name:"luckChips",type:i.ULONG},{name:"luckPotChips",type:i.ULONG},{name:"luckPotId",type:i.ULONG}]},s.HUNDRED_CLI_APPLY_DEALER=40984,o[s.HUNDRED_CLI_APPLY_DEALER]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"buyin",type:i.ULONG}]},s.HUNDRED_SVR_APPLY_DEALER_SUCCESS=40985,o[s.HUNDRED_SVR_APPLY_DEALER_SUCCESS]={ver:1,fmt:[{name:"number",type:i.UINT}]},s.HUNDRED_SVR_APPLY_DEALER_FAIL=40992,o[s.HUNDRED_SVR_APPLY_DEALER_FAIL]={ver:1,fmt:[{name:"minDealerBuyin",type:i.ULONG}]},s.HUNDRED_CLI_CANCEL_DEALER=40993,o[s.HUNDRED_CLI_CANCEL_DEALER]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.HUNDRED_SVR_CANCEL_DEALER_SUCCESS=40994,o[s.HUNDRED_SVR_CANCEL_DEALER_SUCCESS]={ver:1},s.HUNDRED_SVR_SYNC_BET_INFO=40995,o[s.HUNDRED_SVR_SYNC_BET_INFO]={ver:1,fmt:[{name:"seatId",type:i.UINT},{name:"bets",type:i.ARRAY,fmt:[{name:"potId",type:i.UINT},{name:"seatId",type:i.UINT},{name:"betChips",type:i.ULONG}]},{name:"isEnd",type:i.USHORT}]},s.HUNDRED_OFFLINE=40996,o[s.HUNDRED_OFFLINE]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.HUNDRED_CLI_LIST_DEALER=40997,o[s.HUNDRED_CLI_LIST_DEALER]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.HUNDRED_SRV_LIST_RET=40998,o[s.HUNDRED_SRV_LIST_RET]={ver:1,fmt:[{name:"players",type:i.ARRAY,fmt:[{name:"uid",type:i.UINT},{name:"nick",type:i.STRING},{name:"vip",type:i.BYTE},{name:"img",type:i.STRING},{name:"gender",type:i.STRING},{name:"buyinChips",type:i.ULONG},{name:"readyBuyin",type:i.ULONG}]}]},s.HUNDRED_CLI_LIST_NO_SEAT_PLAYER=40999,o[s.HUNDRED_CLI_LIST_NO_SEAT_PLAYER]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.HUNDRED_CLI_LIST_RECORD=41e3,o[s.HUNDRED_CLI_LIST_RECORD]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.HUNDRED_SRV_LIST_RECORD=41001,o[s.HUNDRED_SRV_LIST_RECORD]={ver:1,fmt:[{name:"records",type:i.ARRAY,fmt:[{name:1,type:i.BYTE},{name:2,type:i.BYTE},{name:3,type:i.BYTE},{name:4,type:i.BYTE}]}]},s.HUNDRED_CLI_SEND_ROOM_BROADCAST=41008,o[s.HUNDRED_CLI_SEND_ROOM_BROADCAST]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"tid",type:i.INT},{name:"param",type:i.INT},{name:"content",type:i.STRING}]},s.HUNDRED_SVR_SEND_ROOM_BROADCAST=41009,o[s.HUNDRED_SVR_SEND_ROOM_BROADCAST]=o[s.HUNDRED_CLI_SEND_ROOM_BROADCAST],s.HUNDRED_CLI_SEND_EXPRESSION=41010,o[s.HUNDRED_CLI_SEND_EXPRESSION]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"expressionType",type:i.INT},{name:"expressionId",type:i.UINT}]},s.HUNDRED_SVR_SEND_EXPRESSION=41011,o[s.HUNDRED_SVR_SEND_EXPRESSION]={ver:1,fmt:[{name:"seatId",type:i.BYTE},{name:"expressionType",type:i.INT},{name:"expressionId",type:i.UINT},{name:"minusChips",type:i.LONG},{name:"totalChips",type:i.LONG}]},s.HUNDRED_CLI_ADD_FRIEND=41014,o[s.HUNDRED_CLI_ADD_FRIEND]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"fromSeatId",type:i.BYTE},{name:"toSeatId",type:i.BYTE}]},s.HUNDRED_SVR_ADD_FRIEND=41015,o[s.HUNDRED_SVR_ADD_FRIEND]={ver:1,fmt:[{name:"fromSeatId",type:i.BYTE},{name:"toSeatId",type:i.BYTE}]},s.HUNDRED_CLI_LIST_LUCK_RECORD=41016,o[s.HUNDRED_CLI_LIST_LUCK_RECORD]={ver:1,fmt:[{name:"uid",type:i.UINT}]},s.HUNDRED_SRV_LIST_LUCK_RECORD=41017,o[s.HUNDRED_SRV_LIST_LUCK_RECORD]={ver:1,fmt:[{name:"luckPotChips",type:i.ULONG},{name:"handCard1",type:i.USHORT},{name:"handCard2",type:i.USHORT},{name:"handCard3",type:i.USHORT},{name:"handCard4",type:i.USHORT},{name:"handCard5",type:i.USHORT},{name:"cardType",type:i.BYTE},{name:"totalChips",type:i.ULONG},{name:"createTime",type:i.UINT},{name:"players",type:i.ARRAY,fmt:[{name:"uid",type:i.UINT},{name:"img",type:i.STRING},{name:"winChips",type:i.ULONG},{name:"vip",type:i.BYTE},{name:"nick",type:i.STRING},{name:"gender",type:i.STRING}]}]},s.HUNDRED_SRV_LIST_LUCK_RECORD_FAIL=41024,o[s.HUNDRED_SRV_LIST_LUCK_RECORD_FAIL]={ver:1,fmt:[{name:"errorCode",type:i.USHORT}]},s.HUNDRED_SVR_CANCEL_DEALER_FAIL=41025,o[s.HUNDRED_SVR_CANCEL_DEALER_FAIL]={ver:1},s.HUNDRED_SRV_LIST_NO_SEAT_PLAYER_RET=41026,o[s.HUNDRED_SRV_LIST_NO_SEAT_PLAYER_RET]={ver:1,fmt:[{name:"players",type:i.ARRAY,fmt:[{name:"uid",type:i.UINT},{name:"nick",type:i.STRING},{name:"vip",type:i.BYTE},{name:"img",type:i.STRING},{name:"gender",type:i.STRING},{name:"buyinChips",type:i.ULONG}]}]},s.HUNDRED_RELOAD_ROOM=41027,o[s.HUNDRED_RELOAD_ROOM]={ver:1,fmt:[{name:"key",type:i.STRING}]},s.HUNDRED_SERVER_UPGRADE=41028,o[s.HUNDRED_SERVER_UPGRADE]={ver:1,fmt:[{name:"key",type:i.STRING}]},s.HUNDRED_SVR_SERVER_UPGRADE=41029,o[s.HUNDRED_SVR_SERVER_UPGRADE]={ver:1},s.HUNDRED_KICK_USER=41030,o[s.HUNDRED_KICK_USER]={ver:1,fmt:[{name:"uid",type:i.INT},{name:"key",type:i.STRING}]},s.GAME_SVR_KICK_USER=41031,o[s.GAME_SVR_KICK_USER]={ver:1},s.HUNDRED_CLI_ADD_BUYIN=41032,o[s.HUNDRED_CLI_ADD_BUYIN]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"addBuyin",type:i.ULONG}]},s.HUNDRED_SRV_ADD_BUYIN_SUCCESS=41033,o[s.HUNDRED_SRV_ADD_BUYIN_SUCCESS]={ver:1,fmt:[{name:"totalAddBuyin",type:i.ULONG},{name:"otherChips",type:i.ULONG}]},s.HUNDRED_SRV_ADD_BUYIN_FAIL=41040,o[s.HUNDRED_SRV_ADD_BUYIN_FAIL]={ver:1,fmt:[{name:"errorCode",type:i.USHORT}]},s.HUNDRED_SVR_NOTIFY_WAITING_DEALER=41041,o[s.HUNDRED_SVR_NOTIFY_WAITING_DEALER]={ver:1,fmt:[{name:"errorCode",type:i.USHORT}]},s.HUNDRED_CLI_REBUY=41042,o[s.HUNDRED_CLI_REBUY]={ver:1,fmt:[{name:"uid",type:i.UINT},{name:"money",type:i.ULONG}]},s.HUNDRED_SRV_REBUY=41043,o[s.HUNDRED_SRV_REBUY]={ver:1,fmt:[{name:"buyinChips",type:i.ULONG}]},s.HUNDRED_SRV_REBUY_FAILED=41044,o[s.HUNDRED_SRV_REBUY_FAILED]={ver:1,fmt:[]},e.exports=a,cc._RFpop()},{PACKET_DATA_TYPE:"PACKET_DATA_TYPE"}],GameData:[function(t,e,n){"use strict";cc._RFpush(e,"2126c8xf5hESoWYM10pxlw1","GameData");var i={SIGNAL_STRENGTH:0,IN_HALL:0,IN_GAME:0,BROADCAST_NEWS:[]};e.exports=t("DataProxy").extend(i),cc._RFpop()},{DataProxy:"DataProxy"}],GameManager:[function(t,e,n){"use strict";cc._RFpush(e,"4a56dFBeM5FzZgGhnB8Radl","GameManager");var i=t("Http");cc.Class({"extends":cc.Component,properties:{mainPage:{"default":null,type:cc.Node},coursePage:{"default":null,type:cc.Node},turnplate:{"default":null,type:cc.Node}},onLoad:function(){1==i.userData.isNew?(this.startCourse(),i.userData.point-=2e4,i.userData.point<0&&(i.userData.point=0)):this.startGame()},start:function(){this._initTurnPlateData()},startCourse:function(){this.mainPage.active=!1,this.coursePage.active=!0},startGame:function(){1==i.userData.isNew?i.updateNewUser(this.updateUserSucceed.bind(this),function(){}):(this.mainPage.active=!0,this.coursePage.active=!1)},showMainPage:function(){this.mainPage.active=!0,i.userData.point+=1e4},updateUserSucceed:function(){i.userData.point+=2e4,i.userData.isNew=0,this.mainPage.active=!0,this.coursePage.active=!1},_initTurnPlateData:function(){var t=cc.director.getScene().getChildByName("CoursePage");t&&(t.activeInHierarchy||0==i.userData.isNew&&i.userData.isFirstLogin&&i.getTurnplateData(function(t){this.openTurnPlateWin(),this.turnplate.getComponent("Turnplate").initConfig(t.loginWheel)}.bind(this)))},openTurnPlateWin:function(){this.turnplate.active=!0,this.turnplate.getComponent("NodeTransition").show()},closeTurnPlateWin:function(){this.turnplate.getComponent("NodeTransition").hide()}}),cc._RFpop()},{Http:"Http"}],GameSocket:[function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}cc._RFpush(e,"3c229I/KedMDrnJTkQVpMew","GameSocket");var a=t("SocketService"),s=t("GAME_SOCKET_PROTOCOL"),o=t("Http"),r=t("SchedulerPool"),c=t("GameData"),h=t("BroadcastReceiver"),u=cc.Class({"extends":a,ctor:function(){var t;a.prototype.init.call(this,s),this.schedulerPool=new r,this.loginTimeOutCount=0,this.isLogin=!1,this.sendBuff=[],this.mapFun=(t={},i(t,s.SVR_LOGIN_RET,this.SVR_LOGIN_RET),i(t,s.SVR_DOUBLE_LOGIN,this.SVR_DOUBLE_LOGIN),i(t,s.GET_ROOM_RET,this.GET_ROOM_RET),i(t,s.SVR_JOIN_SUCCESS,this.SVR_JOIN_SUCCESS),i(t,s.BROADCAST_DIAMOND_CHANGE_RET,this.BROADCAST_DIAMOND_CHANGE_RET),i(t,s.BROADCAST_MONEY_CHANGE_RET,this.BROADCAST_MONEY_CHANGE_RET),i(t,s.BROADCAST_ALL_MESSAGE_RET,this.BROADCAST_ALL_MESSAGE_RET),i(t,s.SVR_JOIN_FAIL,this.SVR_JOIN_FAIL),i(t,s.SVR_CMD_USER_CRASH,this.SVR_CMD_USER_CRASH),i(t,s.HUNDRED_SVR_JOIN_SUCCESS,this.HUNDRED_SVR_JOIN_SUCCESS),i(t,s.HUNDRED_SVR_JOIN_FAIL,this.HUNDRED_SVR_JOIN_FAIL),t)},onProcessPacket:function(t){"function"==typeof this.mapFun[t.cmd]&&this.mapFun[t.cmd].call(this,t)},onAfterConnected:function(){this.sendLogin()},onAfterConnectFailure:function(){this.isLogin=!1;var t=this,e=cc.director.getScene().getChildByName("Canvas");e.getComponent("PopUp").showDlg("网络异常，重新连接服务器！",function(){t.connect(t.ip_,t.port_)})},onClose:function(t){this.isLogin=!1,a.prototype.onClose.call(this,t)},onHeartBeatReceived:function(t){var e;e=.4>t?4:.8>t?3:1.2>t?2:1,c.SIGNAL_STRENGTH=e},buildHeartBeatPack:function(){return this.createPacketBuilder(s.KEEP_ALIVE).build()},sendLogin:function(){this.loginTimeoutHandle_=this.schedulerPool.delayCall(function(){cc.warn("login room timeout.."),this.loginTimeoutHandle_=null,this.loginTimeOutCount=this.loginTimeOutCount+1,this.loginTimeOutCount>5?this.reconnect_():this.schedulerPool.delayCall(this.sendLogin,this,2)},this,3),this.sendCmd(s.CLI_LOGIN,{uid:o.userData.uid,mtkey:o.userData.sk})},sendData:function(t,e){this.isLogin?a.prototype.sendCmd.call(this,t,e):this.sendBuff.push([t,e])},sendJoinRoom:function(t){this.sendData(s.ENTER_ROOM,{uid:o.userData.uid,tid:parseInt(t)})},sendQuickStart:function(){this.sendData(s.QUICK_START,{uid:o.userData.uid,money:o.userData.point})},sendLeaveRoom:function(){this.sendData(s.CLI_LEAVE,{uid:o.userData.uid})},sendSitDown:function(t){this.sendData(s.CLI_SIT_DOWN,{uid:o.userData.uid,seatId:parseInt(t)})},sendStandUp:function(){this.sendData(s.CLI_STAND_UP,{uid:o.userData.uid})},sendDo:function(t){this.sendData(s.CLI_DO,{uid:o.userData.uid,betX:parseInt(t)})},sendExpression:function(t){this.sendMsg_(0,parseInt(t),"")},sendMessage:function(t){this.sendMsg_(1,0,t)},sendMsg_:function(t,e,n){this.sendData(s.CLI_SEND_ROOM_BROADCAST,{uid:o.userData.uid,tid:t,param:e,content:n})},getUserInfo:function(){var t=o.userData;return{uid:t.uid,seatChips:t.point,point:t.score,vip:0,nick:t.name,img:t.image,gender:"f",win:0,lose:0,extInfo:""}},sendSitDown_Hundred:function(t){this.sendData(s.HUNDRED_CLI_SIT_DOWN,{uid:o.userData.uid,seatId:parseInt(t)})},sendStandUp_Hundred:function(){this.sendData(s.HUNDRED_CLI_STAND_UP,{uid:o.userData.uid})},sendLeaveRoom_Hundred:function(){console.log("发送离开包"),this.sendData(s.HUNDRED_CLI_LEAVE,{uid:o.userData.uid})},sendBetChips_Hundred:function(t){this.sendData(s.HUNDRED_CLI_MULTI_BET,{uid:o.userData.uid,bets:t})},sendApplyBanker_Hundred:function(t){this.sendData(s.HUNDRED_CLI_APPLY_DEALER,{uid:o.userData.uid,buyin:t})},sendCancelBanker_Hundred:function(){this.sendData(s.HUNDRED_CLI_CANCEL_DEALER,{uid:o.userData.uid})},sendRequestListDealer_Hundred:function(){this.sendData(s.HUNDRED_CLI_LIST_DEALER,{uid:o.userData.uid})},sendRequestListNoSeatDealer_Hundred:function(){this.sendData(s.HUNDRED_CLI_LIST_NO_SEAT_PLAYER,{uid:o.userData.uid})},sendRequestListRecord_Hundred:function(){this.sendData(s.HUNDRED_CLI_LIST_RECORD,{uid:o.userData.uid})},sendLuckRecord_Hundred:function(){this.sendData(s.HUNDRED_CLI_LIST_LUCK_RECORD,{uid:o.userData.uid})},sendAddBuyin_Hundred:function(t){this.sendData(s.HUNDRED_CLI_ADD_BUYIN,{uid:o.userData.uid,addBuyin:t})},SVR_LOGIN_RET:function(t){if(0==t.ret){this.isLogin=!0,this.scheduleHeartBeat(s.KEEP_ALIVE,5,3),this.schedulerPool.clear(this.loginTimeoutHandle_);for(var e=0;e<this.sendBuff.length;e++){var n=this.sendBuff.shift();cc.info(n),this.sendData(n[0],n[1])}if(t.tid>0){this.pause();var i=cc.director.getScene().getChildByName("Canvas");i.getComponent("PopUp").showLoadding(),this.sendJoinRoom(t.tid)}else if(1==c.IN_GAME){var i=cc.director.getScene().getChildByName("Canvas");i.getComponent("PopUp").showLoadding("网络异常，正在离开房间"),cc.director.loadScene("MainScene")}}},GET_ROOM_RET:function(t){if(t.tid>0){if(58==t.tid)return void this.sendData(s.HUNDRED_CLI_JOIN,{uid:o.userData.uid,tid:t.tid,userinfo:JSON.stringify(this.getUserInfo())});this.sendData(s.CLI_JOIN,{uid:o.userData.uid,tid:t.tid,userinfo:JSON.stringify(this.getUserInfo())})}},SVR_DOUBLE_LOGIN:function(t){this.disconnect(!1);var e=cc.director.getScene().getChildByName("Canvas");e.getComponent("PopUp").showDlg("重复登录，断开连接！",function(){window.gotoHome&&window.gotoHome()})},SVR_JOIN_SUCCESS:function(t){cc.director.loadScene("TableScene")},HUNDRED_SVR_JOIN_SUCCESS:function(t){console.log("切换场景到百人场"),cc.director.loadScene("HundredScene")},HUNDRED_SVR_JOIN_FAIL:function(t){console.log("加入百人场失败"),this.resume();var e=cc.director.getScene().getChildByName("Canvas");e.getComponent("PopUp").removeLoadding();var n="服务器繁忙，请稍后再试！";2==t.errorCode&&(n="服务器正在升级，请稍后再试！"),e.getComponent("PopUp").showDlg(n)},SVR_JOIN_FAIL:function(t){this.resume();var e=cc.director.getScene().getChildByName("Canvas");e.getComponent("PopUp").removeLoadding();var n="服务器繁忙，请稍后再试！";2==t.errorCode&&(n="服务器正在升级，请稍后再试！"),e.getComponent("PopUp").showDlg(n)},BROADCAST_DIAMOND_CHANGE_RET:function(t){o.userData.score=t.diamond},BROADCAST_MONEY_CHANGE_RET:function(t){11005!=t.remark&&(o.userData.point=t.money)},BROADCAST_ALL_MESSAGE_RET:function(t){h.addMessageToList(t)},SVR_CMD_USER_CRASH:function(t){var e=cc.director.getScene().getChildByName("Canvas");o.getBankruptInfo(function(t){e.getComponent("PopUp").showBankruptWin(t.reward.chips,t.bankruptCount+1,function(){o.getBankruptReward(function(t){e.getComponent("PopUp").closeBankruptWin(),e.getComponent("PopUp").playMoneyPar()},function(t){e.getComponent("PopUp").showDlg("领取破产补助失败,请重试",null,null)})})},function(t){console.log(t),e.getComponent("PopUp").showDlg("已经没有破产补助了,请充值~",function(){window.gotoPay&&window.gotoPay()},null)})}});e.exports=u,cc._RFpop()},{BroadcastReceiver:"BroadcastReceiver",GAME_SOCKET_PROTOCOL:"GAME_SOCKET_PROTOCOL",GameData:"GameData",Http:"Http",SchedulerPool:"SchedulerPool",SocketService:"SocketService"}],Game:[function(t,e,n){"use strict";cc._RFpush(e,"280c3rsZJJKnZ9RqbALVwtK","Game");var i=t("Http"),a=t("GameSocket"),s=(t("GAME_SOCKET_PROTOCOL"),t("BroadcastReceiver")),o=t("Router"),r=cc.Class({"extends":cc.Component,properties:{boradcastItemPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){if(!r.socket){var t=i.getConfigData().serverList[0];r.socket=new a,r.socket.connect(t[0],t[1])}o.boradcastItemPrefab=this.boradcastItemPrefab,s.init()}});cc._RFpop()},{BroadcastReceiver:"BroadcastReceiver",GAME_SOCKET_PROTOCOL:"GAME_SOCKET_PROTOCOL",GameSocket:"GameSocket",Http:"Http",Router:"Router"}],HandPoker:[function(t,e,n){"use strict";cc._RFpush(e,"b9c77lak1JKzKZ9Tw3v45j2","HandPoker");var i=t("Poker");cc.Class({"extends":cc.Component,properties:{isFinish:!1,spriteAtlas:{"default":null,type:cc.SpriteAtlas},pokers:{"default":[],type:[i]},pokerPrefab:cc.Prefab,result:{"default":null,type:cc.Sprite},one:{"default":null,type:cc.Sprite},two:{"default":null,type:cc.Sprite},result2:{"default":null,type:cc.Sprite},three:{"default":null,type:cc.Sprite},table:{"default":null,type:cc.Node},finishLabel:{"default":null,type:cc.Sprite}},onLoad:function(){},setTable:function(t){this.table=t},getTableForNodePos:function(){var t=this.table.parent.convertToWorldSpaceAR(cc.v2(0,0)),e=this.node.parent.convertToNodeSpaceAR(t);return cc.p(e.x-this.node.getPositionX(),e.y)},setPokers:function(t){for(var e=0;e<t.length;e++){var n=cc.instantiate(this.pokerPrefab);n.getComponent("Poker").init(t[e]),this.pokers.push(n),this.node.addChild(n),n.scale=.3,n.getComponent("Poker").node.setPosition(this.getTableForNodePos()),n.getComponent("Poker").updateSprites();var i=cc.spawn(cc.moveTo(.3,cc.p(23+15*e,0)),cc.scaleTo(.3,.7),cc.callFunc(function(){cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_deal_card.mp3"))},this));n.getComponent("Poker").node.runAction(cc.sequence(cc.delayTime(.25*e),i))}},doDealFourPoker:function(t){for(var e=0;e<t.length;e++){var n=cc.instantiate(this.pokerPrefab);n.getComponent("Poker").init(t[e]),n.scale=.7,this.pokers.push(n),this.node.addChild(n)}this.updatePokers()},doDealFourPoker_Ani:function(t,e){for(var n=0,i=0;i<t.length;i++){var a=cc.instantiate(this.pokerPrefab);a.getComponent("Poker").init(t[i]),this.pokers.push(a),this.node.addChild(a),a.scale=.3,a.getComponent("Poker").node.setPosition(this.getTableForNodePos()),a.getComponent("Poker").updateSprites();var s=cc.spawn(cc.moveTo(.5,cc.p(23+15*i,0)).easing(cc.easeOut(3)),cc.scaleTo(.5,.7),cc.callFunc(function(){cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_deal_card.mp3"))},this)),o=cc.callFunc(function(){++n,4==n&&e()},this);a.getComponent("Poker").node.runAction(cc.sequence(cc.delayTime(.1*i),o,s))}},updataPoker:function(t){if(t)for(var e=0;e<t.length;e++){cc.instantiate(this.pokerPrefab);this.pokers[e]&&(this.pokers[e].getComponent("Poker").scale=.7,this.pokers[e].getComponent("Poker").init(t[e]))}},updatePokers:function(){for(var t=0;t<this.pokers.length;t++){var e=this.pokers[t];e.getComponent("Poker").node.setPositionX(23+15*t)}},show:function(t){for(var e=0;e<this.pokers.length;e++){var n=this.pokers[e];n.getComponent("Poker").setState(!0)}this.result.node.active=!0,this.result.node.zIndex=this.node.childrenCount+10;var i="fnt_mei",a="fnt_niu2";0===t?(i="fnt_mei",a="fnt_niu2"):10===t?(i="fnt_niu",a="fnt_niu"):t>0&&10>t?(i="fnt_niu2",a="fnt_"+t):this.result.node.active=!1,this.one.spriteFrame=this.spriteAtlas.getSpriteFrame(i),this.two.spriteFrame=this.spriteAtlas.getSpriteFrame(a);var s="";11==t?s="fnt_niu_shunzi":12==t?s="fnt_niu_sandai":13==t?s="fnt_niu_xiao":14==t?s="fnt_niu_quanda":15==t?s="fnt_niu_zhadan":this.result2.node.active=!1;var o=this.spriteAtlas.getSpriteFrame(s);""!==s&&o&&(this.result2.node.active=!0,this.result2.node.zIndex=this.node.childrenCount+11,this.three.spriteFrame=o)},removePokers:function(){for(var t=0;t<this.pokers.length;t++){var e=this.pokers[t];e.removeFromParent()}this.pokers=[],this.result&&(this.result.node.active=!1,this.result2.node.active=!1)},addPoker:function(t){var e=cc.instantiate(this.pokerPrefab);e.getComponent("Poker").init(t),e.getComponent("Poker").node.setPosition(this.getTableForNodePos());var n=cc.p(83,0);this.pokers.push(e),this.node.addChild(e,5),e.scale=.3,e.getComponent("Poker").updateSprites(),e.getComponent("Poker").node.runAction(cc.spawn(cc.moveTo(.5,n),cc.scaleTo(.5,.7)))},doFinish:function(){this.finishLabel&&(this.finishLabel.node.active=!0,this.finishLabel.node.zIndex=this.node.childrenCount+12,this.isFinish=!0)},annulFinish:function(){this.finishLabel&&(this.isFinish=!1,this.finishLabel.node.active=!1)}}),cc._RFpop()},{Poker:"Poker"}],HandlePanel:[function(t,e,n){"use strict";cc._RFpush(e,"154c8H7Pq9K7a9vnp/U45XI","HandlePanel");var i=t("Util"),a=t("HundredData"),s=t("HundredStates");cc.Class({"extends":cc.Component,properties:{_betBtns:[],nameLabel:{"default":null,type:cc.Label},scoreLabel:{"default":null,type:cc.Label},pointLabel:{"default":null,type:cc.Label},betBtnPrefab:{"default":null,type:cc.Prefab},spriteAtlas:{"default":null,type:cc.SpriteAtlas},bankerPanel:{"default":null,type:cc.Node},gainLabel:{"default":null,type:cc.Label},loseLabel:{"default":null,type:cc.Label},totalLabel:{"default":null,type:cc.Label}},onLoad:function(){console.log("百人场-启动-操控面板..."),this._pouringBtns=this.node.getChildByName("PouringBtns"),a.bindCallF("handlePanel:point",this._updatePoint.bind(this)),a.bindCallF("handlePanel:name",this._updateName.bind(this)),a.bindCallF("handlePanel:score",this._updateScore.bind(this)),a.bindCallF("handlePanel:type",this._updateType.bind(this)),a.bindCallF("handlePanel:2:gain",this._updateGain.bind(this)),a.bindCallF("handlePanel:2:lose",this._updateLose.bind(this)),a.bindCallF("handlePanel:2:total",this._updateTotal.bind(this)),a.bindCallF("acceptChips",this._updateAcceptChips.bind(this))},_updatePoint:function(t){return this.getComponent("UserComponent").setPoint(t),a.userPoint=t,t},_updateName:function(t){return this.nameLabel.string=i.formatName(t,6),t},_updateScore:function(t){return this.scoreLabel.string=i.bigNumToStr(t),t},_updateType:function(t){if(t!=a.handlePanel.preType){if(-2==a.handlePanel.preType)return this.node.setScale(1,0),this._updateType2(t),t;var e=cc.scaleTo(.2,1,0);this.node.runAction(cc.sequence(e,cc.callFunc(this._updateType2.bind(this,t),this)))}return t},_updateType2:function(t){if(-1!=t){2!=t?(this._pouringBtns.active=!0,this.bankerPanel.active=!1,this.updateBetBtns(a.handlePanel[t])):2==t&&(this._pouringBtns.active=!1,this.bankerPanel.active=!0,this.gainLabel.string=i.bigNumToStr2(a.handlePanel[t].gain),this.loseLabel.string=i.bigNumToStr2(a.handlePanel[t].lose),this.totalLabel.string=i.bigNumToStr2(a.handlePanel[t].total)),a.handlePanel.preType=t;var e=cc.scaleTo(.2,1,1);this.node.runAction(e)}},_updateGain:function(t){return this.gainLabel.string=i.bigNumToStr2(t),t},_updateLose:function(t){return this.loseLabel.string=i.bigNumToStr2(t),t},_updateTotal:function(t){return this.totalLabel.string=i.bigNumToStr2(t),t},_updateAcceptChips:function(t){return this.limitBetBtns(t),t},updateBetBtns:function(t){this._pouringBtns.removeAllChildren(),this._betBtns=[];for(var e=0;5>e;e++){var n=cc.instantiate(this.betBtnPrefab);n.getComponent("BetBtn").setSpriteAtlas(this.spriteAtlas),n.getComponent("BetBtn").setAttr("_type",e),n.getComponent("BetBtn").setAttr("_value",t[e]),n.parent=this._pouringBtns,n.on(cc.Node.EventType.TOUCH_END,this._handleClick.bind(this),this),this._betBtns.push(n)}this._betBtns[0].getComponent("BetBtn").setAttr("_isSelect",!0),a.handlePanel.selectValue=this._betBtns[0].getComponent("BetBtn")._value,s.getFsm().is("WaitingBet")?this.open():this.close(),this.limitBetBtns()},limitBetBtns:function(t){if(0!=this._betBtns.length){t||(t=a.acceptChips);for(var e in this._betBtns)this._betBtns[e].getComponent("BetBtn")._value>t?this._betBtns[e].getComponent("BetBtn").setAttr("_isActive",!1):(this._betBtns[e].getComponent("BetBtn").setAttr("_isActive",!0),this.selectBtn(e),a.handlePanel.selectValue=this._betBtns[e].getComponent("BetBtn")._value)}},_handleClick:function(t){if(t.currentTarget.getComponent("BetBtn")._isActive)for(var e in this._betBtns)this._betBtns[e]===t.currentTarget&&(a.handlePanel.selectValue=t.currentTarget.getComponent("BetBtn")._value,this.selectBtn(e))},selectBtn:function(t){for(var e in this._betBtns)e==t?this._betBtns[e].getComponent("BetBtn").setAttr("_isSelect",!0):this._betBtns[e].getComponent("BetBtn").setAttr("_isSelect",!1)},open:function(){for(var t in this._betBtns)this._betBtns[t].getComponent("BetBtn").setAttr("_isActive",!0);this.limitBetBtns()},close:function(){for(var t in this._betBtns)this._betBtns[t].getComponent("BetBtn").setAttr("_isActive",!1)}}),cc._RFpop()},{HundredData:"HundredData",HundredStates:"HundredStates",Util:"Util"}],HttpService:[function(t,e,n){"use strict";cc._RFpush(e,"91e4bxTUndPcrstQUxB8kW5","HttpService");var i=t("Zepto"),a=t("md5"),s=t("Util"),o=t("LocalStorage"),r=0,c={apiUrl:"http://game.manyouwei.cn/dice/api.php",uid:0,sk:"",requests:{},init:function(t,e){this.apiUrl=e,this.appId=t},setSessionKey:function(t,e){this.uid=t,this.sk=e},_makeSign:function(t){var e=[];for(var n in t)e.push(n);e.sort();for(var i="",s=0;s<e.length;s++)i=i+e[s]+"="+t[e[s]]+"&";i=i.substr(0,i.length-1)+"NPFCVTEIynqKyjUnDUPMQRMkjoLEkRZ3";var o=a(this._base64_encode(i));return o},_base64_encode:function(t){return s.base64_encode(t)},request:function(t,e,n,a){e=e||{};var s={appId:this.appId,uid:this.uid,sk:this.sk,action:t,param:JSON.stringify(e),t:(new Date).getTime()};s.encrptKey=this._makeSign(s),r++;var o=this,c=i.ajax({type:"POST",url:this.apiUrl,data:s,dataType:"json",timeout:2e3,success:function(t){if(t&&0===t.ret)"function"==typeof n&&n(t);else{if(t)return void(1007===t.ret?cc.warn("你的账户在别处登录， 请重新进入游戏"):"function"==typeof a&&a(t));"function"==typeof a&&a({ret:-1})}},error:function(t){var e=t;return function(t,n){0!=o.requests[e].status&&"function"==typeof a&&a({ret:-2,type:n})}}(r),complete:function(t){var e=t;return function(){o.requests[e]=null}}(r)});return this.requests[r]={xhr:c,status:1},r},cacheFile:function(t,e,n){var s=a(t),c=o.get(s,"");if(""!=c)return void e(JSON.parse(c));r++;var h=this,u=i.ajax({type:"GET",url:t,dataType:"json",timeout:2e3,success:function(t){e(t),o.set(s,JSON.stringify(t))},error:function(t){var e=t;return function(t,i){0!=h.requests[e].status&&"function"==typeof n&&n({ret:-2,type:i})}}(r),complete:function(t){var e=t;return function(){h.requests[e]=null}}(r)});return this.requests[r]={xhr:u,status:1},r},cancelRequest:function(t){t&&this.requests[t]&&(this.requests[t].status=0,this.requests[t].xhr.abort())}};e.exports=c,cc._RFpop()},{LocalStorage:"LocalStorage",Util:"Util",Zepto:"Zepto",md5:"md5"}],Http:[function(t,e,n){"use strict";cc._RFpush(e,"8989bqiru5JDKqdi7aXSo6t","Http");var i=t("HttpService"),a=t("DataProxy");window.USERDATA||(window.USERDATA={point:1500,score:0,uid:33,sk:"abc58ipalmplay85abc",name:"测试号哈",image:"http://game.manyouwei.cn/assets/photo/n4203.jpg",xmlevel:1,token:"",isNew:0,isFirstLogin:!1}),window.CONFIGDATA||(window.CONFIGDATA={apiUrl:"http://game-dev.manyouwei.cn/dice/api.php",roomList:"http://game.manyouwei.cn/assets/niuniu/roomlist/20160517192004.json",actJson:"http://game-dev.manyouwei.cn/assets/niuniu/act/201606242445.json",serverList:[["192.168.1.100","9902"],["192.168.1.100","9902"]]}),i.init(3,window.CONFIGDATA.apiUrl),i.setSessionKey(window.USERDATA.uid,window.USERDATA.sk);var s={getUserData:function(){return a.extend(window.USERDATA)},getConfigData:function(){return window.CONFIGDATA},cancelRequest:function(t){i.cancelRequest(t)},getRoomList:function(t){return i.cacheFile(this.getConfigData().roomList,t)},getTurnplateData:function(t){return i.cacheFile(this.getConfigData().actJson,t)},getOnlineAll:function(t,e){return i.request("niuniu.getOnlineAll",{},t,e)},getOnline:function(t,e,n){return i.request("niuniu.getOnline",{type:t},e,n)},quickGame:function(t,e){return i.request("niuniu.quickGame",{},t,e)},getTop:function(t,e){return i.request("game.top",{},t,e)},getScoreTop:function(t,e){return i.request("game.scoreTop",{},t,e)},getBankruptInfo:function(t,e){return i.request("bankrupt.getInfo",{},t,e)},getBankruptReward:function(t,e){return i.request("bankrupt.getReward",{},t,e)},updateNewUser:function(t,e){return i.request("user.isNewer",{},t,e)},loginWheel:function(t,e){return i.request("act.loginWheel",{},t,e)}},o=function(t,e,n,i){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n,set:i})};o(s,"userData",function(){return this.$userData||(this.$userData=this.getUserData()),this.$userData}),window.Http=s,e.exports=s,cc._RFpop()},{DataProxy:"DataProxy",HttpService:"HttpService"}],HundredBankerSeat:[function(t,e,n){"use strict";cc._RFpush(e,"c85c1Rc9/tCmZt9lHKIYSbO","HundredBankerSeat");var i=(t("Util"),t("HundredData"));cc.Class({"extends":cc.Component,properties:{id:-1,_isHold:!0,_oldPoint:0,pointLabel:{"default":null,type:cc.Node}},onLoad:function(){this._resultType=this.node.getChildByName("ResultType"),this.nameLabel=this.node.getChildByName("name"),this.imgSprite=this.node.getChildByName("img"),i.bindCallF("banker:isShowPokerType",this._updateIsShowPokerType.bind(this)),i.bindCallF("banker:point",this._updatePoint.bind(this)),i.bindCallF("banker:name",this._updateName.bind(this))},_updateView:function(t){return this.getComponent("UserComponent").setUserData(t.name,t.point,t.img),t},_updatePoint:function(t){return this.getComponent("UserComponent").setPoint(t),t},_updateName:function(t){return this.getComponent("UserComponent").setName(t),t},_updateIsShowPokerType:function(t){return this._resultType.active=t,t&&this._resultType.getComponent("CardTypeParse").setData(i.banker.cardType),t}}),cc._RFpop()},{HundredData:"HundredData",Util:"Util"}],HundredData:[function(t,e,n){"use strict";cc._RFpush(e,"77cf9uoIgJBw4/wIS42LNxB","HundredData");var i=t("DataMonitoring").extend({dataName:"HundredData",isAttend:!1,acceptChips:0,currentSeatId:-1,minSitdownBuyin:1e9,minDealerBuyin:1e9,userPoint:-1,requestBankerChips:-1,recordArr:[],seatChangeList:[],winnersList:[],syncBetData:{seatId:-1,bets:[]},banker:{uid:-1,name:"庄家",point:"10000",img:"",pokers:{0:774,1:774,2:774,3:774,4:774},cardType:0,isShowPokerType:!1},seats:{1:{isHold:!1,name:"1号座位",point:0,img:"",uid:0},2:{isHold:!1,name:"2号座位",point:0,img:"",uid:0},3:{isHold:!1,name:"3号座位",point:0,img:"",uid:0},4:{isHold:!1,name:"4号座位",point:0,img:"",uid:0}},betAreas:{point:"193991",1:{point:0,isActive:!1,isWin:!1,resultText:"",pokerType:0,isShowPokerType:!1,selfPoint:0,pokers:{0:774,1:774,2:774,3:774,4:774},cardType:0,multiple:0,participators:[]},2:{point:0,isActive:!1,isWin:!1,resultText:"",pokerType:0,isShowPokerType:!1,selfPoint:0,pokers:{0:774,1:774,2:774,3:774,4:774},cardType:0,multiple:0,participators:[]},3:{point:0,isActive:!1,isWin:!1,resultText:"",pokerType:0,isShowPokerType:!1,selfPoint:0,pokers:{0:774,1:774,2:774,3:774,4:774},cardType:0,multiple:0,participators:[]},4:{point:0,isActive:!1,isWin:!1,resultText:"",pokerType:0,isShowPokerType:!1,selfPoint:0,pokers:{0:774,1:774,2:774,3:774,4:774},cardType:0,multiple:0,participators:[]}},handlePanel:{preType:-2,type:-1,name:"",point:0,score:0,0:[100,1e3,5e3,1e4,1e5],1:[1e3,1e4,5e4,1e5,1e6],2:{gain:0,lose:0,total:1},selectValue:100},luckPound:{luckChips:0,luckPokers:[]}});e.exports=i,cc._RFpop()},{DataMonitoring:"DataMonitoring"}],HundredManager:[function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}cc._RFpush(e,"86c2fPRFrZCsaQ6m8/4VwBK","HundredManager");var a=t("Game"),s=t("Http"),o=t("GameSocket"),r=t("GAME_SOCKET_PROTOCOL"),c=t("Util"),h=t("BetLayer"),u=t("PopLayer"),l=t("IttLayer"),d=t("TableLayer"),p=t("HundredStates"),f=t("HundredData");cc.Class({"extends":cc.Component,properties:{tableLayer:{"default":null,type:d},betLayer:{"default":null,type:h},popLayer:{"default":null,type:u},ittLayer:{"default":null,type:l}},onLoad:function(){var t;console.log("百人场初始化"),this.fsm=p.instance({onopenRoom:this._openRoom.bind(this),onopenBet:this._openBet.bind(this),oncloseBet:this._closeBet.bind(this),onsendCards:this._sendCards.bind(this),onopenCards:this._openCards.bind(this),ondividePoint:this._dividePoint.bind(this),onenterWaitingBet:this._onbeforeWaitingBet.bind(this)}),this.mapFun=(t={},i(t,r.HUNDRED_SVR_JOIN_SUCCESS,this.HUNDRED_SVR_JOIN_SUCCESS),i(t,r.HUNDRED_SVR_SIT_DOWN,this.HUNDRED_SVR_SIT_DOWN),i(t,r.HUNDRED_SVR_SIT_DOWN_FAIL,this.HUNDRED_SVR_SIT_DOWN_FAIL),i(t,r.HUNDRED_SVR_STAND_UP,this.HUNDRED_SVR_STAND_UP),i(t,r.HUNDRED_SVR_STAND_UP_FAIL,this.HUNDRED_SVR_STAND_UP_FAIL),i(t,r.HUNDRED_SVR_HALFWAY_LEAVE,this.HUNDRED_SVR_HALFWAY_LEAVE),i(t,r.HUNDRED_SVR_LEAVE_RET,this.HUNDRED_SVR_LEAVE_RET),i(t,r.HUNDRED_SVR_MULTI_BET_SUCCESS,this.HUNDRED_SVR_MULTI_BET_SUCCESS),i(t,r.HUNDRED_SVR_SYNC_BET_INFO,this.HUNDRED_SVR_SYNC_BET_INFO),i(t,r.HUNDRED_SVR_BET_FAIL,this.HUNDRED_SVR_BET_FAIL),i(t,r.HUNDRED_SVR_GAME_START,this.HUNDRED_SVR_GAME_START),i(t,r.HUNDRED_SVR_GAME_OVER,this.HUNDRED_SVR_GAME_OVER),i(t,r.HUNDRED_SVR_APPLY_DEALER_SUCCESS,this.HUNDRED_SVR_APPLY_DEALER_SUCCESS),i(t,r.HUNDRED_SVR_APPLY_DEALER_FAIL,this.HUNDRED_SVR_APPLY_DEALER_FAIL),i(t,r.HUNDRED_SVR_CANCEL_DEALER_SUCCESS,this.HUNDRED_SVR_CANCEL_DEALER_SUCCESS),i(t,r.HUNDRED_SVR_CANCEL_DEALER_FAIL,this.HUNDRED_SVR_CANCEL_DEALER_FAIL),i(t,r.HUNDRED_SVR_NOTIFY_WAITING_DEALER,this.HUNDRED_SVR_NOTIFY_WAITING_DEALER),i(t,r.HUNDRED_SRV_LIST_RET,this.HUNDRED_SRV_LIST_RET),i(t,r.HUNDRED_SRV_LIST_NO_SEAT_PLAYER_RET,this.HUNDRED_SRV_LIST_NO_SEAT_PLAYER_RET),i(t,r.HUNDRED_SRV_LIST_RECORD,this.HUNDRED_SRV_LIST_RECORD),i(t,r.HUNDRED_SRV_LIST_LUCK_RECORD,this.HUNDRED_SRV_LIST_LUCK_RECORD),i(t,r.HUNDRED_SRV_LIST_LUCK_RECORD_FAIL,this.HUNDRED_SRV_LIST_LUCK_RECORD_FAIL),i(t,r.HUNDRED_SRV_ADD_BUYIN_SUCCESS,this.HUNDRED_SRV_ADD_BUYIN_SUCCESS),t)},start:function(){a.socket.addEventListener(o.EVT_PACKET_RECEIVED,this._onProcessPacket,this),
a.socket.resume()},_openRoom:function(){this.popLayer.showToast("等待游戏开始"),this.betLayer.closeBetAreas(),this.ittLayer.closeHandlePanel()},_openBet:function(){this.popLayer.showToast("开始下注..."),this.ittLayer.openHandlePanel()},_closeBet:function(){this.popLayer.showToast("等待发牌"),this.ittLayer.closeHandlePanel(),this.betLayer.closeBetAreas()},_sendCards:function(){this.betLayer.removeAllBetRequest(),this.popLayer.closeToast(),this.betLayer.sendPokers(function(){this.scheduleOnce(this.fsm.openCards.bind(this.fsm),1)}.bind(this))},_openCards:function(){this.betLayer.openPokers(),this.scheduleOnce(this.fsm.dividePoint.bind(this.fsm),1)},_dividePoint:function(){this.scheduleOnce(function(){this.betLayer.reSetBet(),this.popLayer.showToast("等待游戏开始")},2)},_onbeforeWaitingBet:function(){this.popLayer.showStartHint(function(){this.betLayer.openBetAreas()}.bind(this))},_onProcessPacket:function(t){var e=t.data;this.mapFun&&"function"==typeof this.mapFun[e.cmd]&&this.mapFun[e.cmd].call(this,e)},HUNDRED_SVR_JOIN_SUCCESS:function(t){console.log("自己的座位号 : "+t.seatId),f.currentSeatId=t.seatId,f.minSitdownBuyin=t.minSitdownBuyin,f.minDealerBuyin=t.minDealerBuyin,f.betAreas.point=t.luckPotChips,0==t.seatId?f.handlePanel.type=2:t.seatId>0&&t.seatId<5?f.handlePanel.type=1:f.handlePanel.type=0,f.handlePanel.point=s.userData.score;for(var e in t.playerList)0==t.playerList[e].seatId&&(f.banker.point=t.playerList[e].buyinChips,f.banker.name=t.playerList[e].nick),t.playerList[e].seatId<5&&t.playerList[e].seatId>0&&(f.seats[t.playerList[e].seatId].name=t.playerList[e].nick,f.seats[t.playerList[e].seatId].point=t.playerList[e].buyinChips,f.seats[t.playerList[e].seatId].img=t.playerList[e].img,f.seats[t.playerList[e].seatId].isHold=!0),t.playerList[e].seatId==t.seatId&&(0==t.seatId?(f.handlePanel.point=t.playerList[e].otherChips,f.handlePanel[2].gain=t.playerList[e].totalWinChips,f.handlePanel[2].lose=t.playerList[e].totalLoseChips,f.handlePanel[2].total=t.playerList[e].totalWinChips-t.playerList[e].totalLoseChips):(f.handlePanel.point=t.playerList[e].buyinChips,f.acceptChips=t.playerList[e].buyinChips),f.handlePanel.name=t.playerList[e].nick);for(var e in t.pots)f.betAreas[t.pots[e].potId].point=t.pots[e].totalChips,f.betAreas[t.pots[e].potId].selfPoint=t.pots[e].meBetChips;this.betLayer.restoreBetChips(),1==t.gameStatus?(this.fsm.openRoom(),this.fsm.openBet()):2==t.gameStatus?(this.fsm.openRoom(),this.fsm.openBet(),this.fsm.closeBet()):100==t.gameStatus?this.fsm.openRoom():0==t.gameStatus&&this.fsm.openRoom()},HUNDRED_SVR_GAME_START:function(t){if(f.syncBetData.seatId=-1,f.syncBetData.bets=[],f.acceptChips=t.acceptChips,s.userData.uid==t.uid)1==f.handlePanel.type&&(f.seats[f.currentSeatId].isHold=!1),f.handlePanel.type=2,f.handlePanel.point=t.otherChips,f.currentSeatId=0;else if(0==f.currentSeatId){f.handlePanel.type=0,f.currentSeatId=99;for(var e in t.playerList)99==t.playerList[e].seatId&&(f.handlePanel.point=t.playerList[e].buyinChips)}f.banker.point=t.buyinChips,f.banker.name=t.nick,f.banker.uid=t.uid,this.fsm.openBet()},HUNDRED_SVR_GAME_OVER:function(t){0==f.currentSeatId&&(f.handlePanel[2].gain=t.totalWinChips,f.handlePanel[2].lose=t.totalLoseChips,f.handlePanel[2].total=t.totalWinChips-t.totalLoseChips),f.banker.pokers={0:t.dealerCard1,1:t.dealerCard2,2:t.dealerCard3,3:t.dealerCard4,4:t.dealerCard5},f.banker.cardType=t.dealerCardType;for(var e=[],n=0;n<t.pokers.length;n++)f.betAreas[n+1].pokers={0:t.pokers[n].handCard1,1:t.pokers[n].handCard2,2:t.pokers[n].handCard3,3:t.pokers[n].handCard4,4:t.pokers[n].handCard5},f.betAreas[n+1].cardType=t.pokers[n].cardType,f.betAreas[n+1].multiple=t.pokers[n].multiple,t.pokers[n].multiple>0?e.push(1):e.push(0);f.recordArr.splice(0,0,e);var i={1:0,2:0,3:0,4:0};for(var a in t.bets){var s=t.bets[a];0!=s.betChips&&(i[s.potId]=s.betChips,99==s.seatId?c.contains(f.betAreas[s.potId].participators,5)||f.betAreas[s.potId].participators.push(5):100==s.seatId?c.contains(f.betAreas[s.potId].participators,6)||f.betAreas[s.potId].participators.push(6):s.seatId!=t.seatId&&(c.contains(f.betAreas[s.potId].participators,s.seatId)||f.betAreas[s.potId].participators.push(s.seatId)))}if(f.betAreas[1].point=i[1],f.betAreas[2].point=i[2],f.betAreas[3].point=i[3],f.betAreas[4].point=i[4],f.seatChangeList=t.seatChangeList,f.winnersList=t.winners,t.luckChips>0){f.luckPound.luckChips=t.luckChips;var o=t.pokers[t.luckPotId-1];f.luckPound.luckPokers=[o.handCard1,o.handCard2,o.handCard3,o.handCard4,o.handCard5]}this.fsm.sendCards()},HUNDRED_SVR_MULTI_BET_SUCCESS:function(t){f.acceptChips=t.meAcceptChips<t.dealerAcceptChips?t.meAcceptChips:t.dealerAcceptChips;for(var e in t.betsResult){var n=t.betsResult[e];f.betAreas[n.potId].selfPoint=n.betChips,this.betLayer.sendPoint(5,n.potId-1,this.betLayer._chipsToGold(n.betChips))}f.isAttend=!0},HUNDRED_SVR_BET_FAIL:function(t){console.log("下注失败"),f.acceptChips=t.acceptChips,console.log(t)},HUNDRED_SVR_SIT_DOWN:function(t){f.seats[t.seatId].isHold=!0,t.uid==s.userData.uid&&(this.popLayer.showHint("坐下成功"),f.currentSeatId=t.seatId,f.handlePanel.type=1),f.seats[t.seatId].name=t.nick,f.seats[t.seatId].point=t.buyinChips,f.seats[t.seatId].img=t.img,f.seats[t.seatId].uid=t.uid},HUNDRED_SVR_SIT_DOWN_FAIL:function(t){console.log(t)},HUNDRED_SVR_SYNC_BET_INFO:function(t){1==t.isEnd&&this.fsm.closeBet();for(var e in t.bets){if(t.seatId==t.bets[e].seatId)return void(f.betAreas[t.bets[e].potId].point=t.bets[e].betChips);if(t.bets[e].betChips>f.betAreas[t.bets[e].potId].point){var n=t.bets[e].betChips-f.betAreas[t.bets[e].potId].point,i=t.bets[e].seatId;this.betLayer.sendPoint(i>5?6:i,t.bets[e].potId-1,this.betLayer._chipsToGold(n))}}},HUNDRED_SVR_APPLY_DEALER_SUCCESS:function(t){console.log("申请上庄成功"),this.popLayer.showHint("申请上庄成功"),this.popLayer.closeBeBankerWin()},HUNDRED_SVR_APPLY_DEALER_FAIL:function(t){console.log("申请上庄失败"),this.popLayer.showHint("申请上庄失败"),console.log(t)},HUNDRED_SVR_STAND_UP:function(t){f.seats[t.seatId].uid=0,f.currentSeatId==t.seatId&&(console.log("站起成功"),this.popLayer.showHint("站起成功"),f.currentSeatId=99,f.handlePanel.type=0),f.seats[t.seatId].isHold=!1},HUNDRED_SVR_STAND_UP_FAIL:function(t){console.log("站起失败"),this.popLayer.showHint("站起失败"),console.log(t)},HUNDRED_SVR_CANCEL_DEALER_SUCCESS:function(t){this.popLayer.closeBeBankerWin(),console.log("成功请求下庄"),this.popLayer.showHint("成功请求下庄")},HUNDRED_SVR_CANCEL_DEALER_FAIL:function(t){console.log("请求下庄失败"),this.popLayer.showHint("请求下庄失败")},HUNDRED_SVR_NOTIFY_WAITING_DEALER:function(t){console.log("轮到上庄,条件不满足"),this.popLayer.showHint("上庄条件不满足")},HUNDRED_SRV_LIST_RET:function(t){this.popLayer.openBeBankerWin(t.players)},HUNDRED_SRV_LIST_NO_SEAT_PLAYER_RET:function(t){console.log(t),this.popLayer.openPlayerListWin(t.players)},HUNDRED_SRV_LIST_RECORD:function(t){for(var e=[],n=t.records.length-1,i=0;n>0&&(i++,!(i>7));n--)e.push([t.records[n][1],t.records[n][2],t.records[n][3],t.records[n][4]]);f.recordArr=e,this.popLayer.openRecordWin(f.recordArr)},HUNDRED_SRV_LIST_LUCK_RECORD:function(t){t.createTime=c.formatDate(t.createTime),this.popLayer.openPoundInfoWin(t)},HUNDRED_SRV_LIST_LUCK_RECORD_FAIL:function(t){console.log("请求幸运奖池记录失败"),console.log(t)},HUNDRED_SVR_LEAVE_RET:function(t){console.log("离开房间"),f.handlePanel.preType=-2,f.handlePanel.type=-1,f.removeAllHandles(),cc.director.loadScene("MainScene")},HUNDRED_SVR_HALFWAY_LEAVE:function(t){},HUNDRED_SRV_ADD_BUYIN_SUCCESS:function(t){this.popLayer.closeAddChumaWin(),this.popLayer.showHint("追加成功!"),f.handlePanel.point=t.otherChips,f.banker.point+=t.totalAddBuyin}}),cc._RFpop()},{BetLayer:"BetLayer",GAME_SOCKET_PROTOCOL:"GAME_SOCKET_PROTOCOL",Game:"Game",GameSocket:"GameSocket",Http:"Http",HundredData:"HundredData",HundredStates:"HundredStates",IttLayer:"IttLayer",PopLayer:"PopLayer",TableLayer:"TableLayer",Util:"Util"}],HundredSeat:[function(t,e,n){"use strict";cc._RFpush(e,"af796Nr62NL45FufYZ4UOXa","HundredSeat");var i=(t("Util"),t("HundredData")),a=t("Game");cc.Class({"extends":cc.Component,properties:{id:-1,_isHold:!1,_oldPoint:0},onLoad:function(){this._isChange=!0,this.nameLabel=this.node.getChildByName("name"),this.pointLabel=this.node.getChildByName("point"),this.imgSprite=this.node.getChildByName("img"),this.nullSprite=this.node.getChildByName("null"),this.node.on(cc.Node.EventType.TOUCH_END,this._handleClick.bind(this),this),i.bindCallF("seats:"+this.id+":isHold",this._updateIsHold.bind(this)),i.bindCallF("seats:"+this.id+":point",this._updatePoint.bind(this)),i.bindCallF("seats:"+this.id+":name",this._updateName.bind(this)),i.bindCallF("seats:"+this.id+":img",this._updateImg.bind(this))},_updateView:function(t){return this.getComponent("UserComponent").setUserData(t.name,t.point,t.img),t},_updatePoint:function(t){return this.getComponent("UserComponent").setPoint(t),t},_updateIsHold:function(t){return t?(this.nameLabel.active=!0,this.pointLabel.active=!0,this.imgSprite.active=!0,this.nullSprite.active=!1,this.nameLabel.y+=30,this.nameLabel.runAction(cc.moveBy(.5,0,-30).easing(cc.easeBackOut())),this.imgSprite.y+=30,this.imgSprite.runAction(cc.moveBy(.5,0,-30).easing(cc.easeBackOut())),this.pointLabel.y+=30,this.pointLabel.runAction(cc.moveBy(.5,0,-30).easing(cc.easeBackOut())),t):(this.getComponent("UserComponent").removeUserData(),this.nameLabel.active=!1,this.pointLabel.active=!1,this.imgSprite.active=!1,this.nullSprite.active=!0,t)},_updateName:function(t){return this.getComponent("UserComponent").setName(t),t},_updateImg:function(t){return this.getComponent("UserComponent").setHeadImg(t),t},_handleClick:function(t){i.seats[this.id].isHold||i.currentSeatId<5||i.handlePanel.point<i.minSitdownBuyin||a.socket.sendSitDown_Hundred(this.id)},executingGoldAni:function(){console.log("asdfasdfasfasdfasdf")}}),cc._RFpop()},{Game:"Game",HundredData:"HundredData",Util:"Util"}],HundredStates:[function(t,e,n){"use strict";cc._RFpush(e,"9f7593UlP1NNLSgJ9hZFTyU","HundredStates");var i=t("FSM"),a=cc.Class({properties:{isBanker:!1,isSit:!1,fsm:null},ctor:function(){cc.log("百人场-开启-状态管理器")},instance:function(t){return this.fsm=i.create({initial:"NullState",events:[{name:"openRoom",from:"NullState",to:"WaitingStart"},{name:"openBet",from:"WaitingStart",to:"WaitingBet"},{name:"closeBet",from:"WaitingBet",to:"WaitingSendCards"},{name:"sendCards",from:"WaitingSendCards",to:"WaitingOpenCards"},{name:"openCards",from:"WaitingOpenCards",to:"WaitingCount"},{name:"dividePoint",from:"WaitingCount",to:"WaitingStart"},{name:"closeRoom",from:"WaitingStart",to:"NullState"}],callbacks:t}),this.fsm},getFsm:function(){return this.fsm}});e.exports=new a,cc._RFpop()},{FSM:"FSM"}],ImageLoader:[function(t,e,n){"use strict";cc._RFpush(e,"b4f67E7a+hKhLPrzzij/sOL","ImageLoader");var i={};i.load=function(t,e){return cc.loader.load(t,function(t,n){if(t)e(!1,null);else{var i=new cc.Node,a=i.addComponent(cc.Sprite);a.spriteFrame=new cc.SpriteFrame(n),e(!0,i)}}),t},i.cancel=function(t){cc.loader.release(t)},e.exports=i,cc._RFpop()},{}],IttLayer:[function(t,e,n){"use strict";cc._RFpush(e,"06f22NzNINMuLqfJb2bh60u","IttLayer");var i=t("Game"),a=t("HandlePanel"),s=t("HundredData"),o=t("PopLayer"),r=t("HundredStates");cc.Class({"extends":cc.Component,properties:{handlePanel:{"default":null,type:a},beBankerIcon:{"default":null,type:cc.Sprite},standBtn:{"default":null,type:cc.Node},spriteAtlas:{"default":null,type:cc.SpriteAtlas},popLayer:{"default":null,type:o}},onLoad:function(){console.log("百人场-初始化交互层"),s.bindCallF("handlePanel:type",this._updateType.bind(this))},_updateType:function(t){return 2==t?this.beBankerIcon.spriteFrame=this.spriteAtlas.getSpriteFrame("fnt_xiazhuang"):this.beBankerIcon.spriteFrame=this.spriteAtlas.getSpriteFrame("fnt_shangzhuang"),1==t?this.standBtn.active=!0:this.standBtn.active=!1,t},openHandlePanel:function(){this.handlePanel.open()},closeHandlePanel:function(){this.handlePanel.close()},sendRecordRequest:function(){if(0==s.recordArr.length)return void i.socket.sendRequestListRecord_Hundred();for(var t=s.recordArr,e=[],n=0;n<t.length&&!(n>7);n++)e.push([t[n][0],t[n][1],t[n][2],t[n][3]]);this.popLayer.openRecordWin(e)},sendBeBankerListRequest:function(){return 2==s.handlePanel.type?void this.sendRequestBePlayer():void i.socket.sendRequestListDealer_Hundred()},sendPlayerListRequest:function(){i.socket.sendRequestListNoSeatDealer_Hundred()},sendPoundInfoRequest:function(){i.socket.sendLuckRecord_Hundred()},sendRequestBeBanker:function(){s.requestBankerChips<0||s.requestBankerChips<s.minDealerBuyin||i.socket.sendApplyBanker_Hundred(s.requestBankerChips)},sendRequestBePlayer:function(){i.socket.sendCancelBanker_Hundred()},sendStandUpRequest:function(){i.socket.sendStandUp_Hundred()},sendAddBuyinRequest:function(){s.requestBankerChips<0||i.socket.sendAddBuyin_Hundred(s.requestBankerChips)},leaveRoom:function(){if(r.getFsm().is("WaitingStart")||r.getFsm().is("NullState")){i.socket.sendLeaveRoom_Hundred();var t=cc.director.getScene().getChildByName("Canvas");t.getComponent("PopUp").showLoadding("正在离开")}else{var t=cc.director.getScene().getChildByName("Canvas");t.getComponent("PopUp").showDlg("正在打牌中,不能逃跑")}}}),cc._RFpop()},{Game:"Game",HandlePanel:"HandlePanel",HundredData:"HundredData",HundredStates:"HundredStates",PopLayer:"PopLayer"}],ListView_Item:[function(t,e,n){"use strict";cc._RFpush(e,"4155cxWxWpCGZehA7mc9W1b","ListView_Item");var i=t("ImageLoader"),a=t("Util");cc.Class({"extends":cc.Component,properties:{itemID:0,dataSource:[],spriteAtlas:{"default":null,type:cc.SpriteAtlas},nameLabel:{"default":null,type:cc.Label},valueLabel:{"default":null,type:cc.Label},valueSprite:{"default":null,type:cc.Sprite},headImg:{"default":null,type:cc.Sprite},number:{"default":null,type:cc.Sprite},number2:{"default":null,type:cc.Label}},updateItem:function(t,e){if(this.itemID=e,this.dataSource.length>0){var n=this.dataSource[e];this.parseData(n)}},setDataSource:function(t){this.dataSource=t},parseData:function(t){var e=this;this.nameLabel.string=a.formatName(t.name||"",10),this.valueLabel.string=a.bigNumToStr(t.point||t.score),t.image&&i.load(t.image,function(t,n){t&&e.headImg&&(e.headImg.getComponent(cc.Sprite).spriteFrame=n.getComponent(cc.Sprite).spriteFrame)}),this.itemID<=2?(this.number.node.active=!0,this.number2.node.active=!1,this.number.spriteFrame=this.spriteAtlas.getSpriteFrame("no"+(this.itemID+1))):(this.number2.node.active=!0,this.number.node.active=!1,this.number2.string=this.itemID+1),t.point||(this.valueSprite.spriteFrame=this.spriteAtlas.getSpriteFrame("icon_jifen"))}}),cc._RFpop()},{ImageLoader:"ImageLoader",Util:"Util"}],ListView:[function(t,e,n){"use strict";cc._RFpush(e,"1ad23jM3g5K76F/7H40bDYd","ListView"),cc.Class({"extends":cc.Component,properties:{itemTemplate:{"default":null,type:cc.Prefab},scrollView:{"default":null,type:cc.ScrollView},spawnCount:0,totalCount:0,spacing:0,bufferZone:0},onLoad:function(){this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0},initialize:function(){this.content.height=this.totalCount*(this.itemTemplate.data.height+this.spacing)+this.spacing;for(var t=0;t<this.spawnCount;++t){var e=cc.instantiate(this.itemTemplate);this.content.addChild(e),e.setPosition(0,-e.height*(.5+t)-this.spacing*(t+1)),e.getComponent("ListView_Item").updateItem(t,t),this.items.push(e)}},initializeForData:function(t){this.items=[],this.content.height=0,this.content.removeAllChildren(),this.content.height=t.length*(this.itemTemplate.data.height+this.spacing)+this.spacing;for(var e=0;e<this.spawnCount;++e){if(e>=t.length)return;var n=cc.instantiate(this.itemTemplate);n.getComponent("ListView_Item").setDataSource(t),this.content.addChild(n),n.setPosition(0,-n.height*(.5+e)-this.spacing*(e+1)),n.getComponent("ListView_Item").updateItem(e,e),this.items.push(n)}},getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position),n=this.scrollView.node.convertToNodeSpaceAR(e);return n},update:function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var e=this.items,n=this.bufferZone,i=this.scrollView.content.y<this.lastContentPosY,a=(this.itemTemplate.data.height+this.spacing)*e.length,s=0;s<e.length;++s){var o=this.getPositionInView(e[s]);if(i){if(o.y<-n&&e[s].y+a<0){e[s].setPositionY(e[s].y+a);var r=e[s].getComponent("ListView_Item"),c=r.itemID-e.length;r.updateItem(s,c)}}else if(o.y>n&&e[s].y-a>-this.content.height){e[s].setPositionY(e[s].y-a);var r=e[s].getComponent("ListView_Item"),c=r.itemID+e.length;r.updateItem(s,c)}}this.lastContentPosY=this.scrollView.content.y}}}),cc._RFpop()},{}],LocalStorage:[function(t,e,n){"use strict";cc._RFpush(e,"5614aFUhGVNn7L11ExTqLAD","LocalStorage");var i=t("Util"),a={};a.set=function(t,e){cc.sys.localStorage.setItem(t,i.base64_encode(e))},a.get=function(t,e){var n=cc.sys.localStorage.getItem(t);return null==n?e:i.base64_decode(n)},e.exports=a,cc._RFpop()},{Util:"Util"}],MainMenu:[function(t,e,n){"use strict";cc._RFpush(e,"b7e21CskWlPYaNSy8jYaLi8","MainMenu"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},onReturn:function(){window.gotoHome&&window.gotoHome()},onGotoPay:function(){window.gotoPay&&window.gotoPay()},onGotoGameDesc:function(){window.gotoGameDesc&&window.gotoGameDesc()}}),cc._RFpop()},{}],MainPageBtn:[function(t,e,n){"use strict";cc._RFpush(e,"6b39br7eudOzrsCBAZUOXEY","MainPageBtn");var i=t("Http"),a=t("GameData"),s=t("Game");cc.Class({"extends":cc.Component,properties:{menuSprites:{"default":[],type:cc.SpriteFrame},menuPrefab:{"default":null,type:cc.Prefab},playerInfo:{"default":null,type:cc.Node},mainNode:{"default":null,type:cc.Node},returnBtn:{"default":null,type:cc.Node},menuBtn:{"default":null,type:cc.Node},roomList:{"default":null,type:cc.Node},menuState:0},onLoad:function(){1==a.IN_HALL?this.roomListPressed():this.onReturnClick()},menuPressed:function(){if(1==this.menuState)this.menuState=0,this.menuBtn.getComponent(cc.Sprite).spriteFrame=this.menuSprites[0],this.menu&&this.playerInfo.parent.removeChild(this.menu);else if(0==this.menuState){this.menuState=1,this.menuBtn.getComponent(cc.Sprite).spriteFrame=this.menuSprites[1],this.menu=cc.instantiate(this.menuPrefab),this.menu.parent=this.playerInfo.parent;var t=this;this.menu.on(cc.Node.EventType.TOUCH_END,function(){t.menuPressed()})}else 2==this.menuState},startPressed:function(){a.IN_HALL=0;var t=cc.director.getScene().getChildByName("CoursePage");if(1==i.userData.isNew&&t)return void t.getComponent("CoursePage").startCourseTable();var e=cc.director.getScene().getChildByName("Canvas");if(i.userData.point<1500)e.getComponent("PopUp").showDlg("您的游戏币不足, 去充值吗？",function(){window.gotoPay&&window.gotoPay()},function(){});else{s.socket.pause();var e=cc.director.getScene().getChildByName("Canvas");e.getComponent("PopUp").showLoadding(),s.socket.sendQuickStart()}},joinHundred:function(){s.socket.pause();var t=cc.director.getScene().getChildByName("Canvas");t.getComponent("PopUp").showLoadding(),s.socket.sendJoinRoom(58)},roomListPressed:function(){this.mainNode.active=!1,this.roomListIn(),this.menuBtn.active=!1,this.returnBtn.active=!0,a.IN_HALL=1},onReturnClick:function(){this.roomList.active=!1,this.mainNode.active=!0,this.menuBtn.active=!0,this.returnBtn.active=!1,a.IN_HALL=0},roomListIn:function(){this.roomList.active=!0},gotoPay:function(){window.gotoPay&&window.gotoPay()}}),cc._RFpop()},{Game:"Game",GameData:"GameData",Http:"Http"}],MainPage:[function(t,e,n){"use strict";cc._RFpush(e,"bcb0b8GlStFQL1Q71y4f47v","MainPage");var i=t("Http"),a=t("Util"),s=t("GameData");cc.Class({"extends":cc.Component,properties:{score:{"default":null,type:cc.Label},point:{"default":null,type:cc.Label},userIcon:{"default":null,type:cc.Sprite},onLineAll:{"default":null,type:cc.Label},logo:{"default":null,type:cc.Node}},onLoad:function(){s.IN_GAME=0,this.setUserData();var t=cc.moveBy(.8,0,10);t.easing(cc.easeElasticIn(1))},setUserData:function(){var e=this,n=t("ImageLoader"),s=i.userData;this.scoreHandler_=s.addDataObserver("score",function(){e.score&&(e.score.string=a.bigNumToStr(this.score))}),this.pointHandler_=s.addDataObserver("point",function(){e.point&&(e.point.string=a.bigNumToStr(this.point))}),this.getOnlineReq_=i.getOnlineAll(function(t){e.onLineAll.string="在线人数："+t.count+"人"});var o=s.image;n.load(o,function(t,n){if(t){n.parent=e.userIcon.node;var i=e.getScaleNum(e.userIcon.node.width,e.userIcon.node.height,n.width,n.height);n.scaleX=i.scaleX,n.scaleY=i.scaleY}})},getScaleNum:function(t,e,n,i){var a=t/n||1,s=e/i||1;return{scaleX:a,scaleY:s}},onDestroy:function(){i.cancelRequest(this.getOnlineReq_),i.userData.removeDataObserver("score",this.scoreHandler_),i.userData.removeDataObserver("point",this.pointHandler_)}}),cc._RFpop()},{GameData:"GameData",Http:"Http",ImageLoader:"ImageLoader",Util:"Util"}],MaskLayer:[function(t,e,n){"use strict";cc._RFpush(e,"f4943fWq5RNPo+eJxlKlSB1","MaskLayer"),cc.Class({"extends":cc.Component,properties:{maskNodes:[cc.Node]},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.TOUCH_END,this)},TOUCH_END:function(t){if(0!=this.maskNodes.length)for(var e=0;e<this.maskNodes.length;e++)this._isClick(this.maskNodes[e],t.getLocation())&&this._handlerEvent(this.maskNodes[e])},_isClick:function(t,e){var n=t.getBoundingBoxToWorld();return!!this._isInRect(n,e)},_handlerEvent:function(t){if(!t.maskEvent||!t.maskEvent()){var e=t.getComponent(cc.Button).clickEvents;if(e)for(var n=0;n<e.length;n++){var i=e[n],a=i.target,s=a.getComponent(i.component)[i.handler];"function"==typeof s&&s.call(a.getComponent(i.component))}}},_isInRect:function(t,e){return t.x<e.x&&e.x<t.x+t.width&&t.y<e.y&&e.y<t.y+t.height},addMaskNode:function(t){this.maskNodes.push(t)}}),cc._RFpop()},{}],NodeTransition:[function(t,e,n){"use strict";cc._RFpush(e,"063bc2C8URJvYzhlAp9dLFz","NodeTransition"),cc.Class({"extends":cc.Component,properties:{inType:-1,inTime:.5,outTime:.5,outType:-1},onLoad:function(){},onEnable:function(){},onDestroy:function(){this.unscheduleAllCallbacks()},_getInAction:function(){var t=null;switch(this.inType){case-1:break;case 0:t=cc.moveTo(this.inTime,cc.p(0,0)).easing(cc.easeBackOut());break;case 1:t=cc.scaleTo(this.inTime,1).easing(cc.easeBackOut());break;case 2:var e=cc.scaleTo(this.inTime,1,1).easing(cc.easeBackOut());t=cc.sequence(e,cc.callFunc(function(){},this))}return t},_initInState:function(t){switch(this.inType){case-1:break;case 0:this.node.x=500;break;case 1:this.node.setScale(.2);break;case 2:this.node.setScale(1,0)}},_getOutAction:function(){var t=null;switch(this.outType){case-1:break;case 0:t=cc.moveTo(this.outTime,cc.p(-500,0)).easing(cc.easeBackOut());break;case 1:t=cc.scaleTo(this.outTime,0).easing(cc.easeElasticIn(8));break;case 2:this.node.anchorY=1,t=cc.scaleTo(this.outTime,1,0)}return t},_initOutState:function(t){switch(this.inType){case-1:break;case 0:this.node.x=0;break;case 1:this.node.setScale(1);break;case 2:this.node.anchorY=.5,this.node.setScale(1,1)}},_showNode:function(){var t=this._getInAction();return t?void this.node.runAction(t):void 0},_hideNode:function(t){var e=this._getOutAction();if(e){var n=function(e){t&&t(),e.active=!1}.bind(this,this.node);return void this.node.runAction(cc.sequence(e,cc.callFunc(n,this)))}this.node.active=!1},show:function(t){t&&(this.inType=t),this._initInState(),this._showNode()},hide:function(t){t&&(this.outType=t),this._initOutState(),this._hideNode()},timingHide:function(t,e,n){return t&&(this.outType=t),this.unscheduleAllCallbacks(),this.scheduleOnce(function(){this._initOutState(),this._hideNode(n)},e)}}),cc._RFpop()},{}],OpeningPoundWin:[function(t,e,n){"use strict";cc._RFpush(e,"0ed3avCr+BNRYxnWzK38EPl","OpeningPoundWin");var i=t("HundredData");cc.Class({"extends":cc.Component,properties:{poundValueLabel:{"default":null,type:cc.Label},pokers:{"default":null,type:cc.Node}},onLoad:function(){},onEnable:function(){if(!(i.luckPound.luckChips<=0)){var t={point:i.luckPound.luckChips,pokers:i.luckPound.luckPokers};console.log(t),this.init(t)}},init:function(t){this.poundValueLabel.string=t.point,this._initPokers(t.pokers)},_initPokers:function(t){if(5==t.length)for(var e in this.pokers.children){var n=this.pokers.children[e].getComponent("Poker");n.init(t[e])}}}),cc._RFpop()},{HundredData:"HundredData"}],PACKET_DATA_TYPE:[function(t,e,n){"use strict";cc._RFpush(e,"14c20HULyBFy5LQ14RhkE9N","PACKET_DATA_TYPE");var i={};i.UBYTE="ubyte",i.BYTE="byte",i.SHORT="short",i.USHORT="ushort",i.INT="int",i.UINT="uint",i.LONG="long",i.ULONG="ulong",i.STRING="string",i.ARRAY="array",i.BUF="buf",e.exports=i,cc._RFpop()},{}],PacketBuilder:[function(t,e,n){"use strict";cc._RFpush(e,"243aeJJM7hPPIh+QD8kRVJs","PacketBuilder");var i=t("PACKET_DATA_TYPE"),a=t("Egret"),s=t("Zepto"),o=cc.Class({ctor:function(){},init:function(t,e){return this.cmd_=t,this.config_=e,this.params_={},this},setParameter:function(t,e){return this.params_[t]=e,this},setParameters:function(t){return s.extend(this.params_,t),this},writeData:function(t,e,n,o,r){if(e==i.UBYTE)"string"==typeof n&&1==n.length?t.writeUByte(n.charCodeAt(0)):t.writeUByte(Number(n)||0);else if(e==i.BYTE)if("string"==typeof n&&1==n.length)t.writeByte(n.charCodeAt(0));else{var c=Number(n);c&&0>c&&(c+=Math.pow(2,8)),t.writeByte(c||0)}else if(e==i.INT)t.writeInt(Number(n)||0);else if(e==i.UINT)t.writeUInt(Number(n)||0);else if(e==i.SHORT)t.writeShort(Number(n)||0);else if(e==i.USHORT)t.writeUShort(Number(n)||0);else if(e==i.LONG){n=Number(n)||0;var h=Math.abs(n),u=h%Math.pow(2,31);0>n&&(u=-u);var l=Math.floor(h/Math.pow(2,31));0>n&&(l=-l),t.writeInt(l),t.writeInt(u)}else if(e==i.ULONG){n=Number(n)||0;var u=n%Math.pow(2,32),l=n/Math.pow(2,32);t.writeUInt(l),t.writeUInt(u)}else if(e==i.STRING){n=String(n)||"";var d=new a.ByteArray,p=d.encodeUTF8(n).length;t.writeUInt(p+1),t.writeStringBytes(n),t.writeByte(0)}else if(e==i.BUF)t.writeUInt(n.length),t.writeBuf(n);else if(e==i.ARRAY){var f=0;if(void 0!=o.fixedLength)f=o.fixedLength;else if(n&&(f=n.length),o.lengthType){if(o.lengthType==i.UBYTE)t.writeUByte(f);else if(o.lengthType==i.BYTE)t.writeByte(f);else if(o.lengthType==i.INT)t.writeInt(f);else if(o.lengthType==i.UINT)t.writeUInt(f);else if(o.lengthType==i.LONG){var u=f%Math.pow(2,32),l=f/Math.pow(2,32);t.writeUInt(l),t.writeUInt(u)}else if(o.lengthType==i.ULONG){var u=f%Math.pow(2,32),l=f/Math.pow(2,32);t.writeUInt(l),t.writeUInt(u)}}else t.writeUByte(f);if(f>0)for(var m=0;m<n.length;m++){var _=n[m];if(s.isArray(o.fmt)&&"object"==typeof o.fmt[0])for(var g=0;g<o.fmt.length;g++){var S=o.fmt[g],C=S.name,e=S.type,y=_[C],v=S.depends;(void 0==v||v(r,_))&&(cc.info("write [%s] %s.%s = %s",e,o.name,C,String(y)),this.writeData(t,e,y,S))}else cc.info("write [%s] %s.%d = %s",o.fmt.type,o.name,m,String(_)),this.writeData(t,o.fmt.type,_,o.fmt)}}},build:function(){var t=new a.ByteArray;if(t.writeStringBytes("PP"),t.writeUShort(this.cmd_),this.config_&&this.config_.ver?t.writeUShort(this.config_.ver):t.writeUShort(1),t.writeUShort(0),this.config_&&this.config_.fmt&&this.config_.fmt.length>0){for(var e=0;e<this.config_.fmt.length;e++){var n=this.config_.fmt[e],i=n.name,s=n.type,o=n.depends,r=this.params_[i];(void 0==o||o(this.params_,void 0))&&(cc.info("write [%s] %s = %s",s,i,String(r)),this.writeData(t,s,r,n,this.params_))}t.setPos(6),t.writeUShort(t.getLen()-8),t.setPos(t.getLen())}return cc.info("BUILD PACKET ==> %d(%s)",this.cmd_,t.getLen(),this.cmd_.toString(16)),t.cmd=this.cmd_,t}});e.exports=o,cc._RFpop()},{Egret:"Egret",PACKET_DATA_TYPE:"PACKET_DATA_TYPE",Zepto:"Zepto"}],PacketParser:[function(t,e,n){"use strict";function i(t){var e=-1,n=-1,i=t.getPos();return t.setPos(0),"PP"==t.readStringBytes(2)&&(e=t.readUShort(),t.setPos(6),n=t.readUShort()),t.setPos(i),[e,n]}cc._RFpush(e,"7238d/kOUBL8alA4pLgR4QD","PacketParser");var a=t("PACKET_DATA_TYPE"),s=t("Egret"),o=8,r=cc.Class({ctor:function(){},init:function(t){return this.config_=t.CONFIG,this.protocol_=t,this},reset:function(){this.buf_=null},read:function(t){for(var e=[];;){this.buf_?this.buf_.setPos(this.buf_.getLen()):this.buf_=new s.ByteArray;var n=t.getAvailable(),a=this.buf_.getLen();if(0>=n)break;var r=a>=o;if(!r){if(!(n+a>=o)){for(var c=0;n>c;c++)this.buf_.writeRawByte(t.readRawByte());break}for(var c=0;o-a>c;c++)this.buf_.writeRawByte(t.readRawByte());r=!0}if(r){var h=i(this.buf_),u=h[0],l=h[1];if(cc.info("headCompleted command %d bodylen %d",u,l),0==l)e[e.length]={cmd:u},this.reset();else{if(!(l>0))return!1;if(n=t.getAvailable(),a=this.buf_.getLen(),0>=n)break;if(!(n+a>=o+l)){for(var c=0;n>c;c++)this.buf_.writeRawByte(t.readRawByte());break}for(var c=0;o+l-a>c;c++)this.buf_.writeRawByte(t.readRawByte());var d=this.parsePacket_(this.buf_);d&&(e[e.length]=d),this.reset()}}}return e},readData_:function(t,e,n,i){var s;if(e.getAvailable()<=0&&1==i.optional)return null;if(n==a.UBYTE)s=e.readUByte(),0>s&&(s+=Math.pow(2,8));else if(n==a.BYTE)s=e.readByte(),s>Math.pow(2,7)-1&&(s-=Math.pow(2,8));else if(n==a.INT)s=e.readInt();else if(n==a.UINT)s=e.readUInt();else if(n==a.SHORT)s=e.readShort();else if(n==a.USHORT)s=e.readUShort();else if(n==a.LONG){var o=e.readInt(),r=e.readInt();s=o*Math.pow(2,31)+r}else if(n==a.ULONG){var o=e.readUInt(),r=e.readUInt();s=o*Math.pow(2,32)+r}else if(n==a.STRING){var c=e.readUInt(),h=e.getPos();e.setPos(h+c-1);var u=e.readByte();e.setPos(h),0==u?(s=e.readStringBytes(c-1),e.readByte()):s=e.readStringBytes(c)}else if(n==a.BUF){var c=e.readUInt();s=e.readBuf(c)}else if(n==a.ARRAY){s=[];var l=i.fmt;if(i.fixedLength)c=i.fixedLength;else if(i.lengthType){if(i.lengthType==a.UBYTE)c=e.readUByte(),cc.info("read ubyte length");else if(i.lengthType==a.BYTE)cc.info("read byte length"),c=e.readByte();else if(i.lengthType==a.INT)cc.info("read int length"),c=e.readInt();else if(i.lengthType==a.UINT)cc.info("read uint length"),c=e.readUInt();else if(i.lengthType==a.LONG){cc.info("read long length");var o=e.readInt(),r=e.readUInt();c=o*Math.pow(2,32)+r}else if(i.lengthType==a.ULONG){cc.info("read ulong length");var o=e.readInt(),r=e.readUInt();c=o*Math.pow(2,32)+r}}else c=e.readUByte();if(c>0)if(l instanceof Array&&1==l.length)for(var n=l[0].type,d=0;c>d;d++)"function"==typeof l[1].depends?l[1].depends(t)&&(s[s.length]=this.readData_(t,e,n,l[0])):s[s.length]=this.readData_(t,e,n,l[0]);else if(l instanceof Array||void 0==l.type)for(var d=0;c>d;d++){var p={};s[s.length]=p;for(var f=0;f<l.length;f++){var m=l[f],_=m.name,n=m.type;m&&"function"==typeof m.depends?m.depends(t,p)&&(p[_]=this.readData_(t,e,n,m)):p[_]=this.readData_(t,e,n,m)}}else for(var d=0;c>d;d++)"function"==typeof l.depends?l.depends(t)&&(s[s.length]=this.readData_(t,e,l.type,l)):s[s.length]=this.readData_(t,e,l.type,l)}return s},parsePacket_:function(t){cc.info("#[PACK_PARSE] len:"+t.getLen());var e={},n=t.setPos(2).readUShort(),i=t.readUShort(),a=this.config_[n];if(void 0!=a){var s=a.fmt;if(1!=i&&(s=a["fmt"+i]),t.setPos(o),"function"==typeof s)s(e,t);else if(s)for(var r=0;r<s.length;r++){var c=s[r],h=c.name,u=c.type,l=c.depends;if("function"==typeof l){if(l(e)){var d=t.getPos();e[h]=this.readData_(e,t,u,c);var p=t.getPos();"string"!=typeof e[h]?cc.info("[%03d-%03d][%03d]%s=%s",d,p-1,p-d,h,JSON.stringify(e[h])):cc.info("[%03d-%03d][%03d]%s=%s",d,p-1,p-d,h,e[h]),t.setPos(p)}}else{var d=t.getPos();e[h]=this.readData_(e,t,u,c);var p=t.getPos();"string"!=typeof e[h]?cc.info("[%03d-%03d][%03d]%s=%s",d,p-1,p-d,h,JSON.stringify(e[h])):cc.info("[%03d-%03d][%03d]%s=%s",d,p-1,p-d,h,e[h]),t.setPos(p)}}return e.cmd=n,e}return cc.info("========> [NOT_PROCESSED_PKG] ========> %d",n),null}});e.exports=r,cc._RFpop()},{Egret:"Egret",PACKET_DATA_TYPE:"PACKET_DATA_TYPE"}],PlayerListWin:[function(t,e,n){"use strict";cc._RFpush(e,"fa51c1lcNdBdb4Z7voc1+MJ","PlayerListWin"),cc.Class({"extends":cc.Component,properties:{numLabel:{"default":null,type:cc.Label},contentNode:{"default":null,type:cc.Node},noSeatPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){},init:function(t){if(!t||0==t.length)return void(this.numLabel.string=t.length+"人");this.numLabel.string=t.length+"人";for(var e in t){var n=cc.instantiate(this.noSeatPrefab);
n.getComponent("UserItem").init(t[e]),n.parent=this.contentNode}},clearChildren:function(){this.contentNode.removeAllChildren()}}),cc._RFpop()},{}],Poker:[function(t,e,n){"use strict";cc._RFpush(e,"05c0d+yd3VMWJL3s72jb2vw","Poker");var i=t("BaseComponent");cc.Class({"extends":i,properties:{cardUint:266,touchEvent:null,type:1,value:2,scale:1,isMoving:!1,isSelect:!1,isActive:!0,show:!1,back:{"default":null,type:cc.Sprite},background:{"default":null,type:cc.Sprite},spriteAtlas:{"default":null,type:cc.SpriteAtlas},valueLabel:{"default":null,type:cc.Sprite},typeLabel:{"default":null,type:cc.Sprite},bigTypeLabel:{"default":null,type:cc.Sprite}},onLoad:function(){this.updateSprites(),this.touchEvent=function(t){if(!this.isMoving){var e=null,t=new cc.Event.EventCustom("COUNT_POKER",!0);this.isSelect?(e=cc.moveBy(.1,0,-10),this.isSelect=!1,t.setUserData({msg:-this.value})):(e=cc.moveBy(.1,0,10),this.isSelect=!0,t.setUserData({msg:this.value})),e&&t&&(this.node.runAction(e),this.node.dispatchEvent(t))}}},init:function(t){this.cardUint=t,this.type=this.getVariety(this.cardUint),this.value=this.getValue(this.cardUint),14==this.value&&(this.value=1),this.updateSprites()},updateSprites:function(){var t="black",e="club";switch(this.type){case 1:t="red",e="diamond";break;case 2:t="black",e="club";break;case 3:t="red",e="heart";break;case 4:t="black",e="spade"}var n="card_value_big_"+t+"_"+(1==this.value?14:this.value);this.valueLabel.spriteFrame=this.spriteAtlas.getSpriteFrame(n);var i="card_variety_small_"+t+"_"+e;this.typeLabel.spriteFrame=this.spriteAtlas.getSpriteFrame(i);var a="card_variety_big_"+t+"_"+e;this.value>10&&(a+="_"+this.value),this.bigTypeLabel.spriteFrame=this.spriteAtlas.getSpriteFrame(a),this.show?this.back.node.active=!1:this.back.node.active=!0},getValue:function(t){return t%256},getVariety:function(t){return Math.floor(t/256)},setState:function(t){this.show=t,this.updateSprites()},addTouchEvent:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.touchEvent,this)},removeAllEvent:function(){this.touchEvent&&!this.isSelect&&this.node.off(cc.Node.EventType.TOUCH_END,this.touchEvent,this)},_updateNode:function(){this.updateSprites()}}),cc._RFpop()},{BaseComponent:"BaseComponent"}],PopLayer:[function(t,e,n){"use strict";cc._RFpush(e,"794c4HB17BFI6+np1FFxpOE","PopLayer"),cc.Class({"extends":cc.Component,properties:{_menuIsOpen:!1},onLoad:function(){this._startHint=this.node.getChildByName("StartHint"),this._playerListWin=this.node.getChildByName("PlayerListWin"),this._recordWin=this.node.getChildByName("RecordWin"),this._poundInfoWin=this.node.getChildByName("PoundInfoWin"),this._beBankerWin=this.node.getChildByName("BeBankerWin"),this._winningWin=this.node.getChildByName("OpenPoundWin"),this._addChumaWin=this.node.getChildByName("AddChumaWin"),this._menuListWin=this.node.getChildByName("MenuList"),this._resultWin=this.node.getChildByName("ResultWin"),this._hint=this.node.getChildByName("Hint"),this._toast=this.node.getChildByName("Toast")},showStartHint:function(t){this._startHint.active=!0,this._startHint.getComponent("NodeTransition").show(),this._startHint.getComponent("NodeTransition").timingHide(null,2,t)},showToast:function(t){this._toast.active=!0,this._toast.getChildByName("Lable").getComponent(cc.Label).string=t,this._toast.getComponent("NodeTransition").show()},closeToast:function(){this._toast.getComponent("NodeTransition").hide()},showHint:function(t){this._hint.active=!0,this._hint.getChildByName("Lable").getComponent(cc.Label).string=t,this._hint.getComponent("NodeTransition").show(),this._hint.getComponent("NodeTransition").timingHide(null,1.5)},closeHint:function(){this._hint.getComponent("NodeTransition").hide()},openPlayerListWin:function(t){this._playerListWin.active=!0,this._playerListWin.getComponent("PlayerListWin").init(t),this._playerListWin.getComponent("NodeTransition").show()},closePlayerListWin:function(){this._playerListWin.getComponent("PlayerListWin").clearChildren(),this._playerListWin.getComponent("NodeTransition").hide()},openMenu:function(){this._menuIsOpen=!this._menuIsOpen,this._menuIsOpen?(this._menuListWin.active=!0,this._menuListWin.getComponent("NodeTransition").show()):this._menuListWin.getComponent("NodeTransition").hide()},closeMenu:function(){this._menuListWin.getComponent("NodeTransition").hide()},openRecordWin:function(t){this._recordWin.active=!0,this._recordWin.getComponent("RecordWin").init(t),this._recordWin.getComponent("NodeTransition").show()},closeRecordWin:function(){this._recordWin.getComponent("NodeTransition").hide()},openPoundInfoWin:function(t){this._poundInfoWin.active=!0,this._poundInfoWin.getComponent("PoundInfoWin").init(t),this._poundInfoWin.getComponent("NodeTransition").show()},closePoundInfoWin:function(){this._poundInfoWin.getComponent("NodeTransition").hide(),this._poundInfoWin.getComponent("PoundInfoWin").onCloseWin()},openBeBankerWin:function(t){this._beBankerWin.active=!0,this._beBankerWin.getComponent("BeBankerWin").init(t),this._beBankerWin.getComponent("NodeTransition").show()},closeBeBankerWin:function(){this._beBankerWin.getComponent("BeBankerWin").clearChildren(),this._beBankerWin.getComponent("NodeTransition").hide()},openWinningWin:function(){this._winningWin.active=!0,this._winningWin.getComponent("NodeTransition").show()},closeWinningWin:function(){this._winningWin.getComponent("NodeTransition").hide()},openAddChumaWin:function(){this._addChumaWin.active=!0,this._addChumaWin.getComponent("NodeTransition").show()},closeAddChumaWin:function(){this._addChumaWin.getComponent("NodeTransition").hide()},openResultWin:function(){this._resultWin.active=!0,this._resultWin.getComponent("NodeTransition").show()},closeResultWin:function(){this._resultWin.getComponent("NodeTransition").hide()}}),cc._RFpop()},{}],PopUp:[function(t,e,n){"use strict";cc._RFpush(e,"2cb125Y8jdNbKurTvc5w7Or","PopUp"),cc.Class({"extends":cc.Component,properties:{loaddingPrefab:{"default":null,type:cc.Prefab},promptBoxPrefab:{"default":null,type:cc.Prefab},bankruptWinPrefab:{"default":null,type:cc.Prefab},moneyParPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){cc.audioEngine.playMusic(cc.url.raw("resources/sound/game_music.mp3"),!0)},showDlg:function(t,e,n){var i=cc.instantiate(this.promptBoxPrefab),a=cc.director.getScene().getChildByName("Canvas"),s=i.getComponent("PromptBox");s.disabledUnderTouch(),s.showPromptInfo(t,e,n),a.addChild(i,1e3,1e3)},showLoadding:function(t){var e=cc.instantiate(this.loaddingPrefab);e.name="loading";var n=cc.director.getScene().getChildByName("Canvas");n.addChild(e,1e3,2e3),t&&(e.getChildByName("label").getComponent(cc.Label).string=t+"...")},removeLoadding:function(){var t=cc.director.getScene().getChildByName("Canvas"),e=t.getChildByName("loading");e&&e.removeFromParent()},showBankruptWin:function(t,e,n){var i=cc.instantiate(this.bankruptWinPrefab);i.name="bankrupt";var a=cc.director.getScene().getChildByName("Canvas"),s=i.getComponent("BankruptWin");s.setPoint(t,e),n&&s.setCallBack(n),a.addChild(i,999,999)},closeBankruptWin:function(){var t=cc.director.getScene().getChildByName("Canvas");t.getChildByName("bankrupt").removeFromParent()},playMoneyPar:function(){cc.director.getScene().getChildByName("Canvas");this.node.addChild(cc.instantiate(this.moneyParPrefab))}}),cc._RFpop()},{}],PoundInfoWin:[function(t,e,n){"use strict";cc._RFpush(e,"76b83+ReZhPeJg4NWRRgxBg","PoundInfoWin");var i=t("BaseComponent");cc.Class({"extends":i,properties:{_data:null,poundValueLabel:{"default":null,type:cc.Label},lastValueLabel:{"default":null,type:cc.Label},lastPokers:{"default":null,type:cc.Node},lastTimeLabel:{"default":null,type:cc.Label},content:{"default":null,type:cc.Node},noSeatPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){this._isChange=!0},init:function(t){this._data=t,this._initPokers([t.handCard1,t.handCard2,t.handCard3,t.handCard4,t.handCard5]),this._updateNode(),this._initPlayerList(t.players)},_updateNode:function(){this._data&&(this.poundValueLabel.string=this._data.luckPotChips,this.lastValueLabel.string=this._data.totalChips,this.lastTimeLabel.string=this._data.createTime)},_initPokers:function(t){for(var e in this.lastPokers.children){var n=this.lastPokers.children[e].getComponent("Poker");n.init(t[e])}},_initPlayerList:function(t){for(var e in t){t[e].readyBuyin=t[e].winChips;var n=cc.instantiate(this.noSeatPrefab);n.getComponent("UserItem")._orderId=parseInt(e)+1,n.getComponent("UserItem").init(t[e]),n.parent=this.content}},onCloseWin:function(){this.content.removeAllChildren()}}),cc._RFpop()},{BaseComponent:"BaseComponent"}],PromptBox:[function(t,e,n){"use strict";cc._RFpush(e,"f7f94ySrdJCoIQuq2CoH2Ij","PromptBox"),cc.Class({"extends":cc.Component,properties:{promptInfo:{"default":null,type:cc.Label},confirmCallback:null,cancelCallback:null},onLoad:function(){this.disabledUnderTouch()},showPromptInfo:function(t,e,n){this.promptInfo&&(this.promptInfo.string=t||"请点击确定按钮"),this.confirmCallback=e,"function"!=typeof n?this.cancelCallback=e:this.cancelCallback=n},disabledUnderTouch:function(){this.node.on("mousedown",function(t){t.stopPropagation()},this),this.node.on("touchstart",function(t){t.stopPropagation()},this)},confirmPressed:function(){var t=cc.director.getScene().getChildByName("Canvas");t.removeChildByTag(1e3),"function"==typeof this.confirmCallback&&this.confirmCallback()},cancelPressed:function(){var t=cc.director.getScene().getChildByName("Canvas");t.removeChildByTag(1e3),"function"==typeof this.cancelCallback&&this.cancelCallback()}}),cc._RFpop()},{}],QuickStartBtn:[function(t,e,n){"use strict";cc._RFpush(e,"fc83cDvObVN+46zZfKvOZNc","QuickStartBtn");var i=t("Http"),a=t("Game");cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},quickStartPressed:function(){var t=cc.director.getScene().getChildByName("Canvas");i.userData.point<1500?t.getComponent("PopUp").showDlg("您的游戏币不足,去充值吗？",function(){window.gotoPay&&window.gotoPay()},function(){}):(a.socket.pause(),t.getComponent("PopUp").showLoadding(),a.socket.sendQuickStart())}}),cc._RFpop()},{Game:"Game",Http:"Http"}],Rank:[function(t,e,n){"use strict";cc._RFpush(e,"29279BL8q1NnoKBi+pFbjhv","Rank");var i=t("FSM"),a=t("Http");cc.Class({"extends":cc.Component,properties:{scoreBtn:{"default":null,type:cc.Button},richBtn:{"default":null,type:cc.Button}},onLoad:function(){this.fsm=i.create({initial:"StateRich",events:[{name:"openScore",from:"StateRich",to:"StateScore"},{name:"openRich",from:"StateScore",to:"StateRich"}],callbacks:{onenterStateRich:this.initRichList.bind(this),onleaveStateRich:this.onleaveStateRich.bind(this),onenterStateScore:this.initScoreList.bind(this),onleaveStateScore:this.onleaveStateScore.bind(this)}})},initRichList:function(){var t=this.getComponent("ListView");a.getTop(function(e){t.initializeForData(e.list)},function(t){}),this.richBtn.getComponent(cc.Button).interactable=!1},initScoreList:function(){var t=this.getComponent("ListView");a.getScoreTop(function(e){t.initializeForData(e.list)},function(t){}),this.scoreBtn.getComponent(cc.Button).interactable=!1},changeToRich:function(){this.fsm.can("openRich")&&this.fsm.openRich()},changeToScore:function(){this.fsm.can("openScore")&&this.fsm.openScore()},onleaveStateScore:function(){this.scoreBtn.getComponent(cc.Button).interactable=!0},onleaveStateRich:function(){this.richBtn.getComponent(cc.Button).interactable=!0}}),cc._RFpop()},{FSM:"FSM",Http:"Http"}],RecordWin:[function(t,e,n){"use strict";cc._RFpush(e,"9f943DKBslFWasJ83fGh/82","RecordWin");var i=t("BaseComponent");cc.Class({"extends":i,properties:{_data:null,contentNode:{"default":null,type:cc.Node},winSpriteFrame:{"default":null,type:cc.SpriteFrame},loseSpriteFrame:{"default":null,type:cc.SpriteFrame}},onLoad:function(){this._isChange=!0},init:function(t){this._data=t,this._updateNode()},_updateNode:function(){this._data&&this.paseData(this._data)},paseData:function(t){for(var e=this.contentNode.children,n=0;n<e.length;n++)for(var i=0;i<e[n].children.length;i++)t[n]&&1==t[n][i]?e[n].children[i].getComponent(cc.Sprite).spriteFrame=this.winSpriteFrame:e[n].children[i].getComponent(cc.Sprite).spriteFrame=this.loseSpriteFrame}}),cc._RFpop()},{BaseComponent:"BaseComponent"}],ResultPanel:[function(t,e,n){"use strict";cc._RFpush(e,"3cbf4oX4jBNnLz8GQaqYx83","ResultPanel"),cc.Class({"extends":cc.Component,properties:{handSeat:{"default":null,type:cc.Node},labels:{"default":[],type:[cc.Label]},numbers:[],but0:{"default":null,type:cc.Button},but1:{"default":null,type:cc.Button}},onLoad:function(){},addPoker:function(t){if(t>0){if(this.numbers.length>=3)return void console.log("已经选择了3个了,不能再选择");this.numbers.push(t)}else{3==this.numbers.length&&(this.handSeat.getComponent("HandPoker").addPokerTouch(),this.but0.getComponent(cc.Button).interactable=!0);var e=this.numbers.indexOf(-t);this.numbers.splice(e,1)}for(var n=0,i=0;i<this.numbers.length;i++)n+=this.numbers[i];this.updateLabels(),this.labels[3].string=n,3==this.numbers.length&&(this.isNiu(this.numbers)&&(this.but0.getComponent(cc.Button).interactable=!0),n%10==0&&(this.but0.getComponent(cc.Button).interactable=!0),this.handSeat.getComponent("HandPoker").removePokerTouch())},updateLabels:function(){for(var t=0;3>t;t++)t<this.numbers.length?this.labels[t].string=this.numbers[t]:this.labels[t].string=0},clearAll:function(){this.numbers=[],this.labels[3].string="0",this.updateLabels()},isNiu:function(t){for(var e=t[0],n=0;n<t.length;n++)if(t[n]!=e)return!1;return!0}}),cc._RFpop()},{}],ResultWin:[function(t,e,n){"use strict";cc._RFpush(e,"1c621qX0tJHGrPINzwQT9zt","ResultWin");var i=t("UserComponent"),a=t("BaseComponent"),s=t("HundredData");cc.Class({"extends":a,properties:{_data:null,items:[i],winLabel:{"default":null,type:cc.Node},loseLabel:{"default":null,type:cc.Node}},onLoad:function(){this._isChange=!0,this._data={type:0,list:[{name:"我",point:1110,img:""},{name:"one",point:110,img:""},{name:"two",point:-10,img:""},{name:"three",point:3330,img:""},{name:"four",point:-9999,img:""}]}},onEnable:function(){s.winnersList&&this.init(s.winnersList)},init:function(t){var e=[],n=0;for(var i in t)t[i].uid==Http.userData.uid&&e.push({name:t[i].nick,point:t[i].chips,img:t[i].img});for(var i in t)t[i].uid!=Http.userData.uid&&e.push({name:t[i].nick,point:t[i].chips,img:t[i].img});this._data={type:n,list:e},this._updateNode()},_updateNode:function(){this._parseData(this._data)},_parseData:function(t){0==t.type?(this.winLabel.active=!0,this.loseLabel.active=!1):(this.winLabel.active=!1,this.loseLabel.active=!0);for(var e in this.items)t.list[e]?(this.items[e].node.active=!0,this.items[e].setUserData(t.list[e].name,t.list[e].point,t.list[e].img)):this.items[e].node.active=!1}}),cc._RFpop()},{BaseComponent:"BaseComponent",HundredData:"HundredData",UserComponent:"UserComponent"}],RoomItem:[function(t,e,n){"use strict";cc._RFpush(e,"5c465e+Dw1MxopJ1PAbckzX","RoomItem");var i=t("Game"),a=t("Util");cc.Class({"extends":cc.Component,properties:{roomIcon:{"default":null,type:cc.Sprite},roomId:{"default":null,type:cc.Label},minBuyin:{"default":null,type:cc.Label},sblind:{"default":null,type:cc.Label},renIcon:{"default":null,type:cc.Sprite},onlineNum:{"default":null,type:cc.Label}},onLoad:function(){},setData:function(t,e,n,i){this.roomId.string=t||"0",this.minBuyinInt=e,this.minBuyin.string=a.bigNumToStr2(e)||"0",this.sblind.string=a.bigNumToStr2(n)||"0",this.onlineNum.string=a.bigNumToStr2(i)||"0"},roomItemPressed:function(){this.controlRoomAccessed()},isRoomAccessed:function(){var e=parseInt(this.minBuyinInt),n=t("Http");return n.userData.point>=e},controlRoomAccessed:function(){if(parseInt(this.roomId.string)){var t=(this.isRoomAccessed(),cc.director.getScene().getChildByName("Canvas"));cc.info("enter room "),t.getComponent("PopUp").showLoadding(),i.socket.sendJoinRoom(parseInt(this.roomId.string)),i.socket.pause()}},onClick:function(){this.controlRoomAccessed()}}),cc._RFpop()},{Game:"Game",Http:"Http",Util:"Util"}],RoundEndBox:[function(t,e,n){"use strict";cc._RFpush(e,"b3f042aUNJAhrcduBHrnLDt","RoundEndBox");var i=t("Util");cc.Class({"extends":cc.Component,properties:{titles:{"default":[],type:cc.Node},meIcon:{"default":null,type:cc.Sprite},meProperty:{"default":null,type:cc.Label},playerLayout:{"default":null,type:cc.Node},itemPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){this.disabledUnderTouch()},start:function(){},setSelf:function(){},setTitle:function(t){0===t?(this.titles[0].active=!0,this.titles[1].active=!1,this.titles[2].active=!1):1===t?(this.titles[0].active=!1,this.titles[1].active=!0,this.titles[2].active=!1):2===t&&(this.titles[0].active=!1,this.titles[1].active=!1,this.titles[2].active=!0)},setProperty:function(t,e){e>0?(t.node.color=new cc.Color(255,255,0),t.string="+"+e):(t.node.color=new cc.Color(255,0,0),t.string=e+"")},init:function(t,e,n){for(var a=0,s=0;s<e.length;s++){if(e[s].player.id==n.getComponent("SelfSeat").id){a=e[s].change;break}var o=cc.instantiate(this.itemPrefab),r={name:e[s].player.nameStr,change:e[s].change,img:e[s].player.headImg.getComponent(cc.Sprite).spriteFrame};o.getComponent("UserComponent").pointType=1,o.getComponent("UserComponent").setUserData(r.name,r.change,r.img),this.addItem(o)}a>0?(this.setTitle(0),cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_win.mp3"))):0>a&&(this.setTitle(1),cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_lose.mp3"))),n&&this.meIcon&&(this.meIcon.getComponent(cc.Sprite).spriteFrame=n.getComponent("SelfSeat").headImg.getComponent(cc.Sprite).spriteFrame,this.meProperty.string=a>=0?"+"+i.bigNumToStr2(a):i.bigNumToStr2(a))},disabledUnderTouch:function(){this.node.on("mousedown",function(t){t.stopPropagation()},this),this.node.on("touchstart",function(t){t.stopPropagation()},this)},addItem:function(t){var e=this.playerLayout;e.addChild(t)},removeAllItem:function(){this.playerLayout&&this.playerLayout.removeAllChildren()},show:function(t,e){this.node.emit("fade-in");var n=this;setTimeout(function(){n.hide(),e&&e()},1e3*t)},hide:function(){this.node&&this.node.emit("fade-out"),this.removeAllItem()}}),cc._RFpop()},{Util:"Util"}],Router:[function(t,e,n){"use strict";cc._RFpush(e,"54222f1AC1IbIIyzRhbWVGZ","Router"),e.exports={tableManager:null,tabel:null,chatWin:null,expressionAtlas:null,boradcastItemPrefab:null},cc._RFpop()},{}],SchedulerPool:[function(t,e,n){"use strict";cc._RFpush(e,"f8c4c+0OTJMG5JL9+ePl7rX","SchedulerPool");var i=cc.Class({ctor:function(){this.pool_={},this.id=0},clearAll:function(){for(var t in this.pool_)this.clear(t);this.pool_={}},clear:function(t){null!=t&&this.pool_[t]&&(0===this.pool_[t][0]?clearTimeout(this.pool_[t][1]):clearInterval(this.pool_[t][1]),this.pool_[t]=null)},delayCall:function(t,e,n,i){this.id=this.id+1;var a=this.id,s=this,o=setTimeout(function(){s.pool_[a]=null,"function"==typeof t&&t.call(e,i)},1e3*n);return this.pool_[a]=[0,o],a},loopCall:function(t,e,n,i){this.id=this.id+1;var a=this.id,s=this,o=setInterval(function(){"function"==typeof t&&(t.call(e,i)||(clearInterval(s.pool_[a][1]),s.pool_[a]=null))},1e3*n);return this.pool_[a]=[1,o],a}});e.exports=i,cc._RFpop()},{}],Seat:[function(t,e,n){"use strict";cc._RFpush(e,"714a624yS1P6qR4PSnpfegN","Seat");var i=t("ImageLoader"),a=t("Util"),s=t("Router");cc.Class({"extends":cc.Component,properties:{_isChange:!1,posType:1,id:-1,posId:0,hold:!1,state:-1,multiple:-1,nameStr:"",score:0,point:0,playerMultiple:0,isBanker:!1,userData:null,data:null,spriteAtlas:{"default":null,type:cc.SpriteAtlas},holdPanel:{"default":null,type:cc.Node},noHoldPanel:{"default":null,type:cc.Node},userInfoPabel:{"default":null,type:cc.Node},handSeat:{"default":null,type:cc.Node},nameLabel:{"default":null,type:cc.Label},scoreLabel:{"default":null,type:cc.Label},pointLabel:{"default":null,type:cc.Label},headImg:{"default":null,type:cc.Sprite},multipleLabel:{"default":null,type:cc.Sprite},playerMultipleLabel:{"default":null,type:cc.Sprite},banker:{"default":null,type:cc.Sprite},sameBg:{"default":null,type:cc.Sprite},stateLabel:{"default":null,type:cc.Node},chatNode:{"default":null,type:cc.Node}},onLoad:function(){},start:function(){this._isChange=!0},update:function(){this._isChange&&(this.updateSeat(),this._isChange=!1)},_offChangeValue:function(){this._isChange=!0},updateSeat:function(){if(this.hold){if(this.noHoldPanel&&this.holdPanel&&(this.holdPanel.active=!0,this.noHoldPanel.active=!1),this.nameLabel.string=a.formatName(this.nameStr,6),this.scoreLabel.string=a.bigNumToStr(this.score),this.pointLabel.string=a.bigNumToStr(this.point),this.multiple>=0){this.sameBg.node.active=!0,this.multipleLabel.node.active=!0;var t="fnt_bei"+this.multiple;0==this.multiple&&(t="fnt_bei5"),this.multipleLabel.spriteFrame=this.spriteAtlas.getSpriteFrame(t)}else this.multipleLabel.node.active=!1,this.sameBg.node.active=!1;if(this.playerMultiple>0){this.playerMultipleLabel.node.active=!0,this.sameBg.node.active=!0;var t="fnt_bei"+this.playerMultiple;5==this.playerMultiple&&(t="fnt_bei5_5"),this.playerMultipleLabel.spriteFrame=this.spriteAtlas.getSpriteFrame(t)}else this.playerMultipleLabel.node.active=!1,this.sameBg.node.active=!1;this.banker.node.active=this.isBanker}else this.noHoldPanel&&this.holdPanel&&(this.noHoldPanel.active=!0,this.holdPanel.active=!1)},updatePosType:function(){0==this.posType?(this.userInfoPabel.setPosition(cc.p(-55,0)),this.handSeat.setPosition(cc.p(-20,-15)),this.noHoldPanel.setPosition(cc.p(-55,0)),this.stateLabel.setPosition(cc.p(85,27))):(this.userInfoPabel.setPosition(cc.p(55,0)),this.handSeat.setPosition(cc.p(-80,-15)),this.noHoldPanel.setPosition(cc.p(55,0)),this.stateLabel.setPosition(cc.p(-85,27)))},updataHeadImg:function(t){var e=this,t=i.load(t,function(t,n){t&&e.headImg&&(e.headImg.getComponent(cc.Sprite).spriteFrame=n.getComponent(cc.Sprite).spriteFrame)})},toBeBanker:function(){this.isBanker=!0,this.updateSeat()},toAwayBanker:function(){this.isBanker=!1,this.updateSeat()},setUserData:function(t){this.hold||(this.hold=!0,this.nameStr=t.name,this.score=t.score,this.point=t.point,t.imgUrl&&this.updataHeadImg(t.imgUrl),this.updateSeat(),this.userData=t)},removeUserData:function(){this.hold=!1,this.state=-1,this.name="空座",this.score=0,this.point=0,this.updateSeat(),this.userData=null,this.handSeat.getComponent("HandPoker").removePokers(),this.scoreValue=null},clearUserData:function(){this.id=-2,this.hold=!1,this.state=-1,this.name="空座",this.score=0,this.point=0,this.updateSeat(),this.userData=null,this.handSeat.getComponent("HandPoker").removePokers(),this.scoreValue=null,this.node.getChildByTag(1e3)&&this.node.removeChildByTag(1e3)},setMultiple:function(t){this.multiple=t,this.updateSeat()},setPlayerMultiple:function(t){this.playerMultiple=t,this.updateSeat()},closePlayerMultiple:function(){this.playerMultiple=0,this.updateSeat()},dealPokers:function(t){this.hold&&this.handSeat.activeInHierarchy&&this.handSeat.getComponent("HandPoker").setPokers(t)},getFourPoker:function(t){var t=[258,259,260,261];this.handSeat.getComponent("HandPoker").doDealFourPoker(t)},doDealFourPoker_Ani:function(t,e){this.handSeat.getComponent("HandPoker").doDealFourPoker_Ani(t,e)},doDealFourPoker:function(t){},getFivePoker:function(t){var t=[258,259,260,261,262];this.handSeat.getComponent("HandPoker").doDealFourPoker(t)},showPokers:function(t){this.hold&&this.handSeat&&this.handSeat.getComponent("HandPoker").show(t)},getLastPoker:function(t){this.handSeat.getComponent("HandPoker").addPoker(t)},clickEvent:function(){var t=new cc.Event.EventCustom("SELECT_SEAT",!0);t.setUserData({msg:this.posId}),this.node.dispatchEvent(t)},removePokers:function(){this.handSeat.getComponent("HandPoker").removePokers()},updataHandPoker:function(t){this.handSeat.getComponent("HandPoker").updataPoker(t)},getPos:function(){var t=this.userInfoPabel.getPosition(),e=this.userInfoPabel.parent.convertToWorldSpaceAR(t),n=this.node.parent.convertToNodeSpaceAR(e);return n},countScore:function(t){if(!(this.state<0)){this.point+=t;var e=new cc.Node;e.addComponent(cc.Label),e.color=new cc.Color(255,255,0),e.getComponent(cc.Label).fontSize=18,e.getComponent(cc.Label).string=(t>0?"+":"-")+a.bigNumToStr(Math.abs(t)),e.opacity=0,this.node.addChild(e,1e3,1e3);var n=this.pointLabel.node.getPosition();n.x=n.x+40,n.y=n.y+20,e.setPosition(n),e.runAction(cc.sequence(cc.delayTime(2),cc.fadeIn(.1),cc.delayTime(.3),cc.moveBy(.8,0,30),cc.fadeOut(.2),cc.callFunc(function(){this.removeFromParent()},e)))}},setScore:function(t){this.point=t},removeFromParent:function(){this.node.removeFromParent()},setTable:function(t){this.handSeat.getComponent("HandPoker").setTable(t)},doFinish:function(){this.handSeat.getComponent("HandPoker").doFinish()},annulFinish:function(){this.handSeat.getComponent("HandPoker").annulFinish()},getUserUid:function(){var t=null;return this.hold&&(t=this.userData.uid),t},getUserPoint:function(){var t=null;return this.hold&&(t=this.userData.point),t},getUserData:function(){var t=null;return this.hold&&(t={name:this.userData.name,headImg:this.headImg.spriteFrame}),t},parseChatPack:function(t){t.uid==this.getUserUid()&&(this.updateChatNode(),this.addChatMsg(t))},updateChatNode:function(){if(this.chatNode)switch(this.posType){case 0:this.chatNode.setPosition(cc.p(97,0)),this.chatNode.getChildByName("Bg").rotation=-90;break;case 1:this.chatNode.setPosition(cc.p(-97,0)),this.chatNode.getChildByName("Bg").rotation=90}},addChatMsg:function(t){var e=this;switch(t.tid){case 0:cc.loader.loadRes("expression/expression_"+t.param,cc.SpriteAtlas,function(n,i){if(n)console.log(n);else{var a=new cc.Node,s=a.addComponent("FrameAnimation");s.init(i,"expression-"+t.param+"-0001"),e.userInfoPabel.addChild(a),s.autoAddFrame("expression-"+t.param+"-000",2),s.run(function(){a.removeFromParent()})}});break;case 1:var n=new cc.Node;if(n.addComponent(cc.Label),n.color=new cc.Color(255,255,0),n.getComponent(cc.Label).fontSize=16,n.width=100,n.getComponent(cc.Label).enableWrapText=!0,n.getComponent(cc.Label).lineHeight=17,n.getComponent(cc.Label).overflow=cc.Label.Overflow.RESIZE_HEIGHT,n.getComponent(cc.Label).TextAlignment=cc.TextAlignment.LEFT,n.getComponent(cc.Label).VerticalTextAlignment=cc.VerticalTextAlignment.TOP,n.getComponent(cc.Label).string=t.content,this.chatNode){this.chatNode.active=!0,this.chatNode.getChildByName("layout").removeAllChildren(),this.chatNode.getChildByName("layout").addChild(n),this.scheduleOnce(function(){this.chatNode.getChildByName("Bg").width=n.height+10},0),this.chatNode.opacity=255;var i=cc.fadeTo(.5,0);this.chatNode.runAction(cc.sequence(cc.delayTime(2),i)),s.chatWin.addChatRecord(this.getUserData(),t.content)}}}}),cc._RFpop()},{ImageLoader:"ImageLoader",Router:"Router",Util:"Util"}],SelectButton:[function(t,e,n){"use strict";cc._RFpush(e,"a0dec8UnypGVbj9D+2bvrBO","SelectButton"),cc.Class({"extends":cc.Component,properties:{id:0},onLoad:function(){},handleEvent:function(){var t=new cc.Event.EventCustom("SELECT_MULTIPLE",!0);t.setUserData({msg:this.id}),this.node.dispatchEvent(t)},handlePlayerMultiple:function(){var t=new cc.Event.EventCustom("PLAYER_SELECT_MULTIPLE",!0);t.setUserData({msg:this.id}),this.node.dispatchEvent(t)},handleCountEvent:function(){var t=new cc.Event.EventCustom("COUNT_HANDLEPOKER",!0);t.setUserData({msg:this.id}),this.node.dispatchEvent(t)}}),cc._RFpop()},{}],SelectPage:[function(t,e,n){"use strict";cc._RFpush(e,"bce2frnih9ARpE+KH+3RUAH","SelectPage");var i=t("CoursePage");cc.Class({"extends":cc.Component,properties:{coursePage:{"default":null,type:i},hint:{"default":null,type:cc.Node},selectIndex:0,selects:[cc.Node]},onLoad:function(){this.updateSelect(),this.hint.active=!1},handleClick:function(){return 1==this.selectIndex?void this.coursePage.handelNext():void this.showHint()},selectOne:function(){this.selectIndex=0,this.updateSelect()},selectTwo:function(){this.selectIndex=1,this.updateSelect()},updateSelect:function(){for(var t=0;t<this.selects.length;t++){var e=this.selects[t];t==this.selectIndex?e.active=!0:e.active=!1}},showHint:function(){this.hint.active=!0,this.hint.getComponent("NodeTransition").show(1),this.hint.getComponent("NodeTransition").timingHide(1,1.5)}}),cc._RFpop()},{CoursePage:"CoursePage"}],SelfHandPoker:[function(t,e,n){"use strict";cc._RFpush(e,"2f731LgNHVKLphuSmUKn6z4","SelfHandPoker");var i=t("HandPoker");cc.Class({"extends":i,properties:{},onLoad:function(){},updatePokers:function(){for(var t=0;t<this.pokers.length;t++){var e=this.pokers[t];e.getComponent("Poker").node.setPositionX(e.width*t)}},setPokers:function(t){for(var e=0;e<t.length;e++){var n=cc.instantiate(this.pokerPrefab);n.getComponent("Poker").init(t[e]),this.pokers.push(n),this.node.addChild(n),n.getComponent("Poker").node.setPosition(this.getTableForNodePos()),n.getComponent("Poker").node.setScale(.3),n.getComponent("Poker").updateSprites();var i=cc.spawn(cc.moveTo(.3,cc.p(e*n.getComponent("Poker").node.width,0)),cc.scaleTo(.3,1),cc.callFunc(function(){cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_deal_card.mp3"))},this));n.getComponent("Poker").node.runAction(cc.sequence(cc.delayTime(.1*e),i))}},doDealFourPoker_Ani:function(t,e){for(var n=0,i=0;i<t.length;i++){var a=cc.instantiate(this.pokerPrefab);a.getComponent("Poker").init(t[i]),this.pokers.push(a),this.node.addChild(a),a.scale=.3,a.getComponent("Poker").node.setPosition(this.getTableForNodePos()),a.getComponent("Poker").updateSprites();var s=cc.spawn(cc.moveTo(.5,cc.p(i*a.getComponent("Poker").node.width,0)),cc.scaleTo(.5,1),cc.callFunc(function(){cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_deal_card.mp3"))},this)),o=cc.callFunc(function(t){++n,4==n&&e()},this);a.getComponent("Poker").node.runAction(cc.sequence(cc.delayTime(.1*i),o,s))}},doDealFourPoker:function(t){for(var e=0;e<t.length;e++){var n=cc.instantiate(this.pokerPrefab);n.getComponent("Poker").init(t[e]),n.getComponent("Poker").node.setPosition(cc.p(e*n.getComponent("Poker").node.width,0)),this.pokers.push(n),this.node.addChild(n)}},show:function(t){for(var e=0;e<this.pokers.length;e++){var n=this.pokers[e];n.getComponent("Poker").setState(!0)}this.result.node.active=!0,this.result.node.zIndex=this.node.childrenCount+10;var i="fnt_mei",a="fnt_niu2";0===t?(i="fnt_mei",a="fnt_niu2"):10===t?(i="fnt_niu",a="fnt_niu"):t>0&&10>t?(i="fnt_niu2",a="fnt_"+t):this.result.node.active=!1,this.one.spriteFrame=this.spriteAtlas.getSpriteFrame(i),this.two.spriteFrame=this.spriteAtlas.getSpriteFrame(a);var s="";11==t?s="fnt_niu_shunzi":12==t?s="fnt_niu_sandai":13==t?s="fnt_niu_xiao":14==t?s="fnt_niu_quanda":15==t?s="fnt_niu_zhadan":this.result2.node.active=!1;var o=this.spriteAtlas.getSpriteFrame(s);""!=s&&o&&(this.result2.node.active=!0,this.result2.node.zIndex=this.node.childrenCount+11,this.three.spriteFrame=o)},addPokerTouch:function(){for(var t=0;t<this.pokers.length;t++){var e=this.pokers[t];e.getComponent("Poker").addTouchEvent()}},removePokerTouch:function(){for(var t=0;t<this.pokers.length;t++){var e=this.pokers[t];e.getComponent("Poker").removeAllEvent()}},addPoker:function(t){var e=cc.instantiate(this.pokerPrefab);e.getComponent("Poker").init(t),e.getComponent("Poker").node.setPosition(this.getTableForNodePos()),this.pokers.push(e),e.scale=.3,this.node.addChild(e);var n=cc.p(4*e.width,0);e.getComponent("Poker").node.runAction(cc.spawn(cc.moveTo(.5,n),cc.scaleTo(.5,1)))},updataPoker:function(t){if(t)for(var e=0;e<t.length;e++){cc.instantiate(this.pokerPrefab);this.pokers[e]&&this.pokers[e].getComponent("Poker").init(t[e])}}}),cc._RFpop()},{HandPoker:"HandPoker"}],SelfSeat:[function(t,e,n){"use strict";cc._RFpush(e,"98a4b+fXSJE7rJH/y5fbeOY","SelfSeat");var i=t("Seat"),a=t("Util"),s=t("Http"),o=t("Router");cc.Class({"extends":i,properties:{selectMultipleWin:{"default":null,type:cc.Node},palyerMultipleWin:{"default":null,type:cc.Node},resultPanel:{"default":null,type:cc.Node},count:0},onLoad:function(){this.node.on("COUNT_POKER",function(t){var e=t.getUserData().msg;this.count+=e,this.resultPanel.getComponent("ResultPanel").addPoker(e),t.stopPropagation()},this);var t=this;this.scoreHandler_=s.userData.addDataObserver("score",function(){
if(t.scoreValue){var e=this.score-t.scoreValue,n=t.scoreLabel.node.getPosition();n.x=n.x-40,n.y=n.y+20;var i=new cc.Node;i.addComponent(cc.Label),i.color=new cc.Color(255,255,0),i.getComponent(cc.Label).fontSize=18,i.getComponent(cc.Label).string=(e>0?"+":"-")+a.bigNumToStr(Math.abs(e)),i.opacity=0,i.parent=t.node,i.setPosition(n),i.runAction(cc.sequence(cc.delayTime(2),cc.fadeIn(.1),cc.delayTime(.3),cc.moveBy(.8,0,30),cc.fadeOut(.2),cc.callFunc(function(){this.removeFromParent()},i)))}t.scoreValue=this.score,t.scoreLabel.string=a.bigNumToStr(this.score)})},getFourPoker:function(t){var e=this.handSeat.getComponent("SelfHandPoker");e.doDealFourPoker(t),e.show()},showHandPoker:function(){this.handSeat.getComponent("SelfHandPoker").show()},doDealFourPoker_Ani:function(t,e){this.handSeat.getComponent("SelfHandPoker").doDealFourPoker_Ani(t,e)},showMultipleWin:function(t){this.selectMultipleWin.active=!0;var e=Math.floor(this.point/t);console.log("玩家抢庄限制: "+a.bigNumToStr(this.point)+" / "+a.bigNumToStr(t)+" = "+e),this.selectMultipleWin.getComponent("BtnsControl").show(e),this.node.on("SELECT_MULTIPLE",function(t){this.setMultiple(t.getUserData().msg),this.selectMultipleWin.active=!1},this)},showPalyerMultipleWin:function(t,e,n){var i=Math.floor(Math.min(t,this.point)/e/n);console.log("玩家叫倍限制: "+a.bigNumToStr(t)+" / "+a.bigNumToStr(e)+" / "+n+" = "+i),this.palyerMultipleWin.active=!0,this.palyerMultipleWin.getComponent("BtnsControl").show(i),this.node.on("PLAYER_SELECT_MULTIPLE",function(t){this.palyerMultipleWin.active=!1,this.playerMultiple=t.getUserData().msg},this)},showResultPanel:function(){this.resultPanel.active=!0,this.handSeat.getComponent("HandPoker").addPokerTouch()},getLastPoker:function(t){i.prototype.getLastPoker.call(this,t),this.handSeat.getComponent("HandPoker").show()},closeResultPanel:function(){this.resultPanel.getComponent("ResultPanel").clearAll(),this.resultPanel.active=!1},closeSelectMultipleWin:function(){this.selectMultipleWin.active=!1},closePalyerMultipleWin:function(){this.palyerMultipleWin.active=!1},updateSeat:function(){if(this.hold){if(this.noHoldPanel&&this.holdPanel&&(this.holdPanel.active=!0,this.noHoldPanel.active=!1),this.nameLabel.string=a.formatName(this.nameStr,6),this.pointLabel.string=a.bigNumToStr(this.point),this.multiple>=0){this.multipleLabel.node.active=!0;var t="fnt_bei"+this.multiple;0==this.multiple&&(t="fnt_bei5"),this.multipleLabel.spriteFrame=this.spriteAtlas.getSpriteFrame(t)}else this.multipleLabel.node.active=!1;if(this.playerMultiple>0){this.playerMultipleLabel.node.active=!0;var t="fnt_bei"+this.playerMultiple;5==this.playerMultiple&&(t="fnt_bei5_5"),this.playerMultipleLabel.spriteFrame=this.spriteAtlas.getSpriteFrame(t)}else this.playerMultipleLabel.node.active=!1;this.banker.node.active=this.isBanker}else this.noHoldPanel&&this.holdPanel&&(this.noHoldPanel.active=!0,this.holdPanel.active=!1)},onDestroy:function(){s.userData.removeDataObserver("score",this.scoreHandler_)},updateChatNode:function(){},addChatMsg:function(t){var e=this;switch(t.tid){case 0:cc.loader.loadRes("expression/expression_"+t.param,cc.SpriteAtlas,function(n,i){if(n)console.log(n);else{var a=new cc.Node,s=a.addComponent("FrameAnimation");s.init(i,"expression-"+t.param+"-0001"),e.userInfoPabel.addChild(a),s.autoAddFrame("expression-"+t.param+"-000",2),s.run(function(){a.removeFromParent()})}});break;case 1:var n=new cc.Node;if(n.addComponent(cc.Label),n.color=new cc.Color(255,255,0),n.getComponent(cc.Label).fontSize=16,n.width=100,n.getComponent(cc.Label).enableWrapText=!0,n.getComponent(cc.Label).lineHeight=17,n.getComponent(cc.Label).overflow=cc.Label.Overflow.RESIZE_HEIGHT,n.getComponent(cc.Label).TextAlignment=cc.TextAlignment.LEFT,n.getComponent(cc.Label).VerticalTextAlignment=cc.VerticalTextAlignment.TOP,n.getComponent(cc.Label).string=t.content,this.chatNode){this.chatNode.active=!0,this.chatNode.getChildByName("layout").removeAllChildren(),this.chatNode.getChildByName("layout").addChild(n),this.scheduleOnce(function(){this.chatNode.getChildByName("Bg").height=n.height+30},0),this.chatNode.opacity=255;var i=cc.fadeTo(.5,0);this.chatNode.runAction(cc.sequence(cc.delayTime(2),i)),o.chatWin.addChatRecord(this.getUserData(),t.content)}}}}),cc._RFpop()},{Http:"Http",Router:"Router",Seat:"Seat",Util:"Util"}],SocketService:[function(t,e,n){"use strict";cc._RFpush(e,"1fb8cM4AO1Ikq4C7zqyqrP4","SocketService");var i=t("Egret").WebSocket,a=t("Egret").EventDispatcher,s=t("Egret").ByteArray,o=t("PacketBuilder"),r=t("PacketParser"),c=t("SchedulerPool"),h=cc.Class({"extends":a,ctor:function(){},init:function(t){return this.protocol_=t,this.parser_=(new r).init(t),this.shouldConnect_=!1,this.isConnected_=!1,this.isConnecting_=!1,this.isPaused_=!1,this.delayPackCache_=null,this.retryLimit_=10,this.heartBeatSchedulerPool_=new c,this},createPacketBuilder:function(t){return(new o).init(t,this.protocol_.CONFIG[t])},connect:function(t,e,n){cc.info("connect to %s:%s",t,e),this.shouldConnect_=!0,this.ip_=t,this.port_=e,this.isConnected()?cc.info("isConnected true"):this.isConnecting_?cc.info("isConnecting true"):(this.isConnecting_=!0,cc.info("direct connect to %s:%s",this.ip_,this.port_),this.socket_||(this.socket_=new i,this.socket_.type=i.TYPE_BINARY,this.socket_.addEventListener(i.Event.CONNECT,this.onConnected,this),this.socket_.addEventListener(i.Event.SOCKET_DATA,this.onData,this),this.socket_.addEventListener(i.Event.CLOSE,this.onClose,this),this.socket_.addEventListener(i.Event.IO_ERROR,this.onConnectFailure,this)),this.socket_.connectByUrl("ws://"+t+":"+e)),this.retryConnectWhenFailure_=n||!1},isConnected:function(){return this.isConnected_},disconnect:function(t){if(cc.info("disconnect",t),this.shouldConnect_=!1,this.isConnecting_=!1,this.isConnected_=!1,this.unscheduleHeartBeat(),this.socket_){var e=this.socket_;this.socket_=null,t?(e.removeAllEventListeners(),e.close()):(e.close(),e.removeAllEventListeners())}},scheduleHeartBeat:function(t,e,n){this.heartBeatCommand_=t,this.heartBeatTimeout_=n,this.heartBeatTimeoutCount_=0,this.heartBeatSchedulerPool_.clearAll(),this.heartBeatSchedulerPool_.loopCall(this.onHeartBeat_,this,e)},unscheduleHeartBeat:function(){this.heartBeatTimeoutCount_=0,this.heartBeatSchedulerPool_.clearAll()},sendCmd:function(t,e){this.send(this.createPacketBuilder(t).setParameters(e).build())},send:function(t){this.socket_&&("string"==typeof t?this.socket_.writeUTF(t):this.socket_.writeBytes(t))},onConnected:function(t){cc.info("onConnected"),this.parser_.reset(),this.isConnected_=!0,this.isConnecting_=!1,this.heartBeatTimeoutCount_=0,this.onAfterConnected(),this.retryLimit_=10,this.dispatchEventWith(h.EVT_CONN_SUCCESS)},onClose:function(t){this.isConnected_=!1,this.unscheduleHeartBeat(),this.shouldConnect_?this.reconnect_()?cc.info("closed and reconnecting"):(this.onAfterConnectFailure(),this.dispatchEventWith(h.EVT_CONNECT_FAIL),cc.info("closed and reconnect fail")):(cc.info("closed and do not reconnect"),this.dispatchEventWith(h.EVT_CLOSE))},onData:function(t){var e=new s;t.currentTarget.readBytes(e);var n=this.parser_.read(e);if(n===!1)this.onError();else for(var i=0;i<n.length;i++){var a=n[i];cc.info("[====PACK====][%d]\n==>%s",a.cmd,JSON.stringify(a),a.cmd.toString(16)),this.onPacketReceived(a)}},onConnectFailure:function(t){this.isConnected_=!1,this.isConnecting_=!1,cc.info("connect failure ..."),this.reconnect_()||(this.onAfterConnectFailure(),this.dispatchEventWith(h.EVT_CONN_FAIL))},pause:function(){this.isPaused_=!0},resume:function(){if(this.isPaused_=!1,cc.info("resume event dispatching"),this.delayPackCache_&&this.delayPackCache_.length>0){for(var t=0;t<this.delayPackCache_.length;t++){var e=this.delayPackCache_[t];this.dispatchEventWith(h.EVT_PACKET_RECEIVED,!1,e)}this.delayPackCache_=null}},buildHeartBeatPack:function(){return cc.warn("not implemented method buildHeartBeatPack"),null},onHeartBeatTimeout:function(){cc.warn("not implemented method onHeartBeatTimeout")},onHeartBeatReceived:function(t){cc.warn("not implemented method onHeartBeatReceived")},onHeartBeat_:function(){var t=this.buildHeartBeatPack();return t&&(this.heartBeatPackSendTime_=(new Date).getTime(),this.send(t),this.heartBeatTimeoutId_=this.heartBeatSchedulerPool_.delayCall(this.onHeartBeatTimeout_,this,this.heartBeatTimeout_),cc.info("send heart beat packet")),!0},onHeartBeatTimeout_:function(){this.heartBeatTimeoutId_=null,this.heartBeatTimeoutCount_=(this.heartBeatTimeoutCount_||0)+1,this.onHeartBeatTimeout(this.heartBeatTimeoutCount_),cc.info("heart beat timeout",this.heartBeatTimeoutCount_)},onHeartBeatReceived_:function(){var t=((new Date).getTime()-this.heartBeatPackSendTime_)/1e3;this.heartBeatTimeoutId_?(this.heartBeatSchedulerPool_.clear(this.heartBeatTimeoutId_),this.heartBeatTimeoutId_=null,this.heartBeatTimeoutCount_=0,this.onHeartBeatReceived(t),cc.info("heart beat received",t)):cc.info("timeout heart beat received",t)},onPacketReceived:function(t){var e=t;e.cmd==this.heartBeatCommand_?this.heartBeatTimeoutId_&&this.onHeartBeatReceived_():(this.onProcessPacket(e),this.isPaused_?(this.delayPackCache_||(this.delayPackCache_=[]),this.delayPackCache_[this.delayPackCache_.length]=e,cc.info("paused cmd:%",e.cmd,e.cmd.toString(16))):(cc.info("dispatching cmd:%",e.cmd,e.cmd.toString(16)),this.dispatchEventWith(h.EVT_PACKET_RECEIVED,!1,t)))},reconnect_:function(){cc.info("try reconnect_"),this.isConnected_&&this.disconnect(!0),this.retryLimit_=this.retryLimit_-1;var t=!0;return this.retryLimit_>0||this.retryConnectWhenFailure_?this.connect(this.ip_,this.port_,this.retryConnectWhenFailure_):t=!1,t},onProcessPacket:function(t){cc.warn("not implemented method onProcessPacket")},onAfterConnected:function(){cc.warn("not implemented method onAfterConnected")},onAfterConnectFailure:function(){cc.warn("not implemented method onAfterConnectFailure")},onAfterDataError:function(){this.onAfterConnectFailure()},onError:function(){this.isConnected_=!1,this.disconnect(!0),cc.info("data error ..."),this.reconnect_()||(this.onAfterDataError(),this.dispatchEventWith(h.EVT_ERROR))}});h.EVT_PACKET_RECEIVED="SocketService.EVT_PACKET_RECEIVED",h.EVT_CONN_SUCCESS="SocketService.EVT_CONN_SUCCESS",h.EVT_CONN_FAIL="SocketService.EVT_CONN_FAIL",h.EVT_ERROR="SocketService.EVT_ERROR",h.EVT_CLOSE="SocketService.EVT_CLOSE",e.exports=h,cc._RFpop()},{Egret:"Egret",PacketBuilder:"PacketBuilder",PacketParser:"PacketParser",SchedulerPool:"SchedulerPool"}],TabItem:[function(t,e,n){"use strict";cc._RFpush(e,"11cd4byH5xMXI6eFMqOn9hX","TabItem"),cc.Class({"extends":cc.Component,properties:{roomItemPrefab:{"default":null,type:cc.Prefab},scrollView:{"default":null,type:cc.ScrollView},tabSprites:{"default":[],type:cc.SpriteFrame},chujiBtn:{"default":null,type:cc.Node},zhongjiBtn:{"default":null,type:cc.Node},gaojiBtn:{"default":null,type:cc.Node}},onLoad:function(){this.chujiPressed()},chujiPressed:function(t){this.btnPressed("chuji"),this.scrollView.content.removeAllChildren(),this.scrollView.content.setPosition(cc.v2(0,126)),this.showRoomList(1)},zhongjiPressed:function(){this.btnPressed("zhongji"),this.scrollView.content.removeAllChildren(),this.scrollView.content.setPosition(cc.v2(0,126)),this.showRoomList(2)},gaojiPressed:function(){this.btnPressed("gaoji"),this.scrollView.content.removeAllChildren(),this.scrollView.content.setPosition(cc.v2(0,126)),this.showRoomList(3)},btnPressed:function(t){"chuji"===t?(this.chujiBtn.getComponent(cc.Sprite).spriteFrame=this.tabSprites[1],this.chujiBtn.getChildByName("fontSprite").getComponent(cc.Sprite).spriteFrame=this.tabSprites[3],this.zhongjiBtn.getComponent(cc.Sprite).spriteFrame=this.tabSprites[0],this.zhongjiBtn.getChildByName("fontSprite").getComponent(cc.Sprite).spriteFrame=this.tabSprites[4],this.gaojiBtn.getComponent(cc.Sprite).spriteFrame=this.tabSprites[0],this.gaojiBtn.getChildByName("fontSprite").getComponent(cc.Sprite).spriteFrame=this.tabSprites[6]):"zhongji"===t?(this.chujiBtn.getComponent(cc.Sprite).spriteFrame=this.tabSprites[0],this.chujiBtn.getChildByName("fontSprite").getComponent(cc.Sprite).spriteFrame=this.tabSprites[2],this.zhongjiBtn.getComponent(cc.Sprite).spriteFrame=this.tabSprites[1],this.zhongjiBtn.getChildByName("fontSprite").getComponent(cc.Sprite).spriteFrame=this.tabSprites[5],this.gaojiBtn.getComponent(cc.Sprite).spriteFrame=this.tabSprites[0],this.gaojiBtn.getChildByName("fontSprite").getComponent(cc.Sprite).spriteFrame=this.tabSprites[6]):"gaoji"===t&&(this.chujiBtn.getComponent(cc.Sprite).spriteFrame=this.tabSprites[0],this.chujiBtn.getChildByName("fontSprite").getComponent(cc.Sprite).spriteFrame=this.tabSprites[2],this.zhongjiBtn.getComponent(cc.Sprite).spriteFrame=this.tabSprites[0],this.zhongjiBtn.getChildByName("fontSprite").getComponent(cc.Sprite).spriteFrame=this.tabSprites[4],this.gaojiBtn.getComponent(cc.Sprite).spriteFrame=this.tabSprites[1],this.gaojiBtn.getChildByName("fontSprite").getComponent(cc.Sprite).spriteFrame=this.tabSprites[7])},showRoomList:function(e){var n=this,e=e||1,i=t("Http");n.getRoomListReq_=i.getRoomList(function(t){n.listInfo=t,n.getOnlieReq_=i.getOnline(e,function(t){n.tIdAndOnlineInfo=t,n.listInfoInType=n.getInfo(n.listInfo,n.tIdAndOnlineInfo);for(var e=0;e<n.listInfoInType.length;e++){var i=cc.instantiate(n.roomItemPrefab);i.getComponent("RoomItem").setData(n.listInfoInType[e][0],n.listInfoInType[e][1],n.listInfoInType[e][2],n.listInfoInType[e][3]),n.scrollView.content.addChild(i)}})})},getInfo:function(t,e){var n=[];for(var i in e.data)for(var a=e.data[i],s=0;s<t.length;s++){var o=t[s][0];if(i==o){n.push([i,t[s][3],t[s][2],a]);break}}return n},onDestroy:function(){Http.cancelRequest(this.getRoomListReq_),Http.cancelRequest(this.getOnlieReq_)}}),cc._RFpop()},{Http:"Http"}],TableLayer:[function(t,e,n){"use strict";cc._RFpush(e,"642e1qX3dlH2Z8U+gEEb5h6","TableLayer");var i=t("HundredSeat"),a=t("HundredBankerSeat");cc.Class({"extends":cc.Component,properties:{bankerSeat:{"default":null,type:a},seats:[i]},onLoad:function(){console.log("百人场-启动-牌桌管理")},start:function(){}}),cc._RFpop()},{HundredBankerSeat:"HundredBankerSeat",HundredSeat:"HundredSeat"}],TableManager:[function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}cc._RFpush(e,"e1f89rtvcBAr5IaFAdALlfN","TableManager");var a=t("Game"),s=(t("GameData"),t("Http"),t("GameSocket")),o=t("GAME_SOCKET_PROTOCOL"),r=t("SchedulerPool"),c=new r,h=t("Router");cc.Class({"extends":cc.Component,properties:{tableNode:{"default":null,type:cc.Node}},onLoad:function(){var t;h.tableManager=this,this.table=this.tableNode.getComponent("Table"),this.mapFun=(t={},i(t,o.SVR_JOIN_SUCCESS,this.SVR_JOIN_SUCCESS),i(t,o.SVR_TURN_TO,this.SVR_TURN_TO),i(t,o.SVR_GAME_START,this.SVR_GAME_START),i(t,o.SVR_DO_SUCCESS,this.SVR_DO_SUCCESS),i(t,o.SVR_DEAL_ONE_CARD,this.SVR_DEAL_ONE_CARD),i(t,o.SVR_GAME_OVER,this.SVR_GAME_OVER),i(t,o.SVR_SIT_DOWN,this.SVR_SIT_DOWN),i(t,o.SVR_STAND_UP,this.SVR_STAND_UP),i(t,o.SVR_SIT_DOWN_FAIL,this.SVR_SIT_DOWN_FAIL),i(t,o.SVR_LEAVE_SUCCESS,this.SVR_LEAVE_SUCCESS),i(t,o.SVR_JOIN_FAIL,this.SVR_JOIN_FAIL),i(t,o.SVR_SEND_ROOM_BROADCAST,this.SVR_SEND_ROOM_BROADCAST),t)},start:function(){a.socket&&(a.socket.addEventListener(s.EVT_PACKET_RECEIVED,this._onProcessPacket,this),a.socket.resume())},onDestroy:function(){a.socket&&(a.socket.removeEventListener(s.EVT_PACKET_RECEIVED,this._onProcessPacket,this),c.clearAll())},_onProcessPacket:function(t){var e=t.data;"function"==typeof this.mapFun[e.cmd]&&this.mapFun[e.cmd].call(this,e)},handleLocalPacket:function(t){"function"==typeof this.mapFun[t.cmd]&&this.mapFun[t.cmd].call(this,t)},SVR_JOIN_SUCCESS:function(t){this.table.init(t),this.table.showTabelInfo(t.venue,t.blind,t.score),this.table.seatImportData(t.playerList),this.table.parseJoinPack(t),this.table.autoSitDown()},SVR_TURN_TO:function(t){switch(this.table.gameStatus=t.gameStatus,this.table.gameStatus){case 2:this.table.makeBanker(t.bankerSeatId),this.table.stateToNext(),this.table.showPalyerMultipleWin(t.timeout);break;case 3:this.table.isSit&&this.table.popupToast(null,t.timeout,"等待开牌:"),this.table.stateToNext()}},SVR_GAME_START:function(t){this.table.resetGame();var e=this.table.updateSeatGold(t.playerList);this.table.setStateForSeats(1),this.table.startHint.getComponent("Toast").show(this.table.startGame.bind(this.table,t,e))},SVR_DO_SUCCESS:function(t){switch(t.state){case 1:break;case 2:this.table.handleOtherSeat(function(e){e.id==t.seatId&&e.setMultiple(t.betX)});break;case 3:this.table.handleOtherSeat(function(e){e.id==t.seatId&&(e.setMultiple(-1),e.setPlayerMultiple(t.betX))});break;case 4:this.table.handleOtherSeat(function(e){e.id==t.seatId&&e.doFinish()})}},SVR_DEAL_ONE_CARD:function(t){this.table.finalPokerType=t.cardType,this.table.dealFivePoker(t.handCard5),this.table.stateToNext(),this.table.showResultPanel()},SVR_GAME_OVER:function(t){this.table.gameStatus=100;this.table.selfSeat.closeResultPanel();var e=this.table.getPlayers(t);this.table.showAllPokers(e,t)},SVR_SIT_DOWN:function(t){this.table.parseSitPack(t)},SVR_STAND_UP:function(t){this.table.parseStandUpPack(t)},SVR_SIT_DOWN_FAIL:function(t){this.table.showSitFailWin()},SVR_LEAVE_SUCCESS:function(t){console.log("退出房间成功!")},SVR_SEND_ROOM_BROADCAST:function(t){this.table.handleAllSeats(function(e){e.parseChatPack(t)})}}),cc._RFpop()},{GAME_SOCKET_PROTOCOL:"GAME_SOCKET_PROTOCOL",Game:"Game",GameData:"GameData",GameSocket:"GameSocket",Http:"Http",Router:"Router",SchedulerPool:"SchedulerPool"}],Table:[function(t,e,n){"use strict";cc._RFpush(e,"fac1bHgYopF5JgOqFuD/+OU","Table");var i=t("Game"),a=t("GameData"),s=t("Http"),o=(t("GAME_SOCKET_PROTOCOL"),t("SchedulerPool")),r=new o,c=t("Router"),h=(t("BroadcastReceiver"),t("Util")),u=t("SelfSeat");cc.Class({"extends":cc.Component,properties:{posList:{"default":[],type:[cc.Node]},seatPrefab:{"default":null,type:cc.Prefab},seats:{"default":[],type:[cc.Node]},startHint:{"default":null,type:cc.Node},selfSeat:{"default":null,type:u},endPanel:{"default":null,type:cc.Node},roomName:{"default":null,type:cc.Label},hint:{"default":null,type:cc.Prefab},expressionWin:{"default":null,type:cc.Node},chatWin:{"default":null,type:cc.Node},isSit:!1,gameStatus:0,finalPokerType:0,minBuyIn:0,blind:0,xs:3},onLoad:function(){c.tabel=this,a.IN_GAME=1,this.initSeats(),this.playerList=null,this.selectedSeat=null,this.oldHint=null,this.bankerSeat=null,this.node.on("SELECT_MULTIPLE",function(t){var e=t.getUserData().msg;this.selfSeat.setMultiple(e),t.stopPropagation(),i.socket.sendDo(e)},this),this.node.on("PLAYER_SELECT_MULTIPLE",function(t){var e=t.getUserData().msg;t.stopPropagation(),this.selfSeat.setPlayerMultiple(e),i.socket.sendDo(e)},this),this.node.on("COUNT_HANDLEPOKER",function(t){var e=t.getUserData().msg;0==e?(this.selfSeat.showPokers(this.finalPokerType),this.selfSeat.closeResultPanel(),i.socket.sendDo(1)):0==this.finalPokerType?(this.selfSeat.showPokers(this.finalPokerType),this.selfSeat.closeResultPanel(),i.socket.sendDo(0)):this.popupToast(null,3,"请再看看手牌!",!0),t.stopPropagation()},this),this.node.on("SELECT_SEAT",function(t){if(!this.isSit){var e=t.getUserData().msg;i.socket.sendSitDown(parseInt(e));var n=cc.director.getScene().getChildByName("Canvas");n.getComponent("PopUp").showLoadding("正在坐下")}},this)},init:function(t){this.roomName.string=t.roomName+" 底分:"+h.bigNumToStr2(t.blind),this.minBuyIn=t.minBuyIn,this.blind=t.blind,this.xs=t.xs,this.gameStatus=t.gameStatus,this.playerList=t.playerList,this.makeBanker(t.dealerSeatId)},makeBanker:function(t){-1>=t||this.handleAllSeats(function(e){e.id==t?(this.bankerSeat=e,e.toBeBanker(),0==e.multiple||-1==e.multiple?e.setMultiple(1):e.setMultiple(e.multiple)):e.setMultiple(-1)}.bind(this))},initSeats:function(){for(var t=0;t<this.posList.length;t++){var e=this.posList[t].getPosition(),n=cc.instantiate(this.seatPrefab);this.seats.push(n),this.node.addChild(n),n.setPosition(e);var i=n.getComponent("Seat");0==t||1==t||4==t?i.posType=0:i.posType=1,i.id=t,i.posId=t,i.updatePosType(),i.setTable(this.node)}},start:function(){},onDestroy:function(){},doLeaveRoom:function(){i.socket.sendLeaveRoom();var t=cc.director.getScene().getChildByName("Canvas");t.getComponent("PopUp").showLoadding("正在离开"),cc.director.loadScene("MainScene")},leaveRoom:function(){if(0==this.selfSeat.state||-1==this.selfSeat.state)return this.isSelfLeave=!0,void this.doLeaveRoom();if(100==this.gameStatus||0==this.gameStatus)return this.isSelfLeave=!0,void this.doLeaveRoom();var t=cc.director.getScene().getChildByName("Canvas");t.getComponent("PopUp").showDlg("正在打牌中,不能逃跑")},getTabelCenter:function(){var t=this.node.parent.convertToWorldSpace(cc.v2(0,0));return t},selectSeatDowm:function(t,e){this.isSit||(this.isSit=!0,this.seatImportData(e),this.setSelfSeatData(t))},setSelfSeatData:function(t,e,n){var i={name:s.userData.name,score:s.userData.score,point:n,imgUrl:s.userData.image,uid:s.userData.uid};this.isSit=!0,this.selfSeat.node.active=!0,this.selfSeat.setUserData(i),this.selfSeat.id=t,this.selfSeat.closePlayerMultiple(),this.selfSeat.state=e||0},clearSelfSeat:function(){this.isSit=!1,this.selfSeat.clearUserData(),this.selfSeat.node.active=!1},seatImportData:function(t){for(var e=0;e<this.seats.length;e++)for(var n=this.seats[e].getComponent("Seat"),i=0;i<t.length;i++){var a={name:t[i].nick,score:t[i].point,point:t[i].seatChips,imgUrl:t[i].img,uid:t[i].uid};n.id==this.playerList[i].seatId&&(n.setUserData(a),n.state=this.playerList[i].state)}},setStateForSeats:function(t){this.handleAllSeats(function(e){e.hold&&(e.state=t)})},stateToNext:function(){this.handleOtherSeat(function(t){t.hold&&t.state>0&&(t.state=(t.state+1)%5)}),this.selfSeat.state>0&&(this.selfSeat.state=(this.selfSeat.state+1)%5)},moveAllPosId:function(t){for(var e=4-t,n=0;n<this.seats.length;n++){var i=(n+e+5)%5,a=this.posList[i].getPosition();0==i||1==i||4==i?this.seats[n].getComponent("Seat").posType=0:this.seats[n].getComponent("Seat").posType=1,this.seats[n].setPosition(a)}this.handleOtherSeat(function(t){t.updatePosType()})},handleAllSeats:function(t){if(this.seats){for(var e=0;e<this.seats.length;e++)t(this.seats[e].getComponent("Seat"));this.isSit&&t(this.selfSeat)}},handleOtherSeat:function(t){for(var e=0;e<this.seats.length;e++)if(t(this.seats[e].getComponent("Seat")))return},clearBanker:function(){this.handleAllSeats(function(t){t.toAwayBanker()}),this.bankerSeat&&(this.bankerSeat.setMultiple(-1),this.bankerSeat.toAwayBanker()),this.bankerSeat=null},startGoldAni:function(t,e){for(var n=[],i=[],a=this,s=0;s<t.seatChangeList.length;s++){var o=t.seatChangeList[s];this.handleAllSeats(function(t){t&&(t.id!=a.bankerSeat.id&&t.id==o.seatId&&(o.seatChips<0?i.push(t):n.push(t)),t.id==o.seatId&&(t.countScore(o.seatChips),t.updateSeat()))})}var r=cc.p(0,0);a.bankerSeat&&(r=a.bankerSeat.getPos());for(var c=0;c<i.length;c++)i[c].getPos&&a.getComponent("Animation_0").runAni(i[c].getPos(),r,function(){0==n.length&&e&&e()});this.scheduleOnce(function(){for(var t=0;t<n.length;t++)n[t].getPos&&this.getComponent("Animation_0").runAni(r,n[t].getPos(),function(){e&&e()})},1)},popupToast:function(t,e,n,i,a){this.oldHint&&this.oldHint.removeFromParent();var s=cc.instantiate(this.hint);this.oldHint=s,s.getComponent("CountToast").setStartPos(t||cc.p(0,-30)),s.getComponent("CountToast").setContent(n),this.node.addChild(s),s.getComponent("CountToast").show(e,i||!1,function(){a&&a(),s.removeFromParent()})},openExpressionWin:function(){this.expressionWin.active=!0,this.expressionWin.getComponent("NodeTransition").show()},closeExpressionWin:function(){this.expressionWin.getComponent("NodeTransition").hide()},openChatWin:function(){this.chatWin.active=!0,this.chatWin.getComponent("ChatWin").scrollToBottom(),this.chatWin.getComponent("NodeTransition").show()},closeChatWin:function(){this.chatWin.getComponent("NodeTransition").hide()},showTabelInfo:function(t,e,n){var i=cc.director.getWinSizeInPixels(),a=Math.floor(t/100*e),s="每局扣"+h.bigNumToStr2(a)+"台费，获得"+h.bigNumToStr2(n)+"积分";this.popupToast(cc.p(0,i.height/2-60),5,s,!0)},autoSitDown:function(){if(!this.isSit){this.handleOtherSeat(function(t){if(!t.hold){var e=cc.director.getScene().getChildByName("Canvas");return e.getComponent("PopUp").showLoadding("正在坐下"),i.socket.sendSitDown(parseInt(t.id)),!0}})}},standUp:function(t){this.clearSelfSeat(),this.selectedSeat.node.active=!0,this.selectedSeat.id=t,this.selectedSeat=null},sitDown:function(t,e){var n=cc.director.getScene().getChildByName("Canvas");n.getComponent("PopUp").removeLoadding(),this.isSit=!0,this.setSelfSeatData(t.id,0,e.seatChips),this.selectedSeat=t,t.clearUserData(),t.node.active=!1,this.moveAllPosId(t.posId)},logAllSeat:function(){for(var t=0;t<this.seats.length;t++){var e=this.seats[t].getComponent("Seat");console.log("座位ID: "+e.id+"; 状态:"+e.state)}},parseSitPack:function(t){var e={name:t.nick,score:t.point,point:t.seatChips,imgUrl:t.img,uid:t.uid};this.handleOtherSeat(function(n){n.id==t.seatId&&(console.log("自己坐下"),n.setUserData(e),n.state=0,t.uid==s.userData.uid&&this.sitDown(n,t))}.bind(this))},parseJoinPack:function(t){for(var e=0;e<t.playerList.length;e++)if(t.playerList[e].uid==s.userData.uid){var n=t.playerList[e];switch(this.moveAllPosId(n.seatId),this.setSelfSeatData(n.seatId,n.state,n.seatChips),1==t.handCardFlag&&(void 0==t.handCards[4]||0==t.handCards[4]?(t.handCards.pop(),this.selfSeat.getFourPoker(t.handCards)):this.selfSeat.getFourPoker(t.handCards)),this.handleOtherSeat(function(t){t.id==n.seatId&&(this.selectedSeat=t,t.clearUserData(),t.node.active=!1)}.bind(this)),n.state){case 1:this.showMultipleWin(5);break;case 2:n.seatId==t.dealerSeatId?(this.selfSeat.toBeBanker(),this.popupToast(null,5,"等待玩家选择倍数:"),this.selfSeat.setMultiple(n.betX)):(this.selfSeat.showPalyerMultipleWin(this.bankerSeat.point,this.blind,this.xs),cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_notice.mp3")),this.popupToast(null,5,"请选择倍数:"));break;case 3:n.seatId!=t.dealerSeatId?this.selfSeat.setPlayerMultiple(n.betX):this.selfSeat.setMultiple(n.betX),cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_notice.mp3")),this.selfSeat.showResultPanel();break;case 4:}}else{var i=this;this.handleOtherSeat(function(n){if(n.id==t.playerList[e].seatId)switch(n.state){case 1:n.getFourPoker();break;case 2:n.getFourPoker(),n.id==t.dealerSeatId&&n.toBeBanker(),n.setMultiple(t.playerList[e].betX);break;case 3:n.getFivePoker(),n.id==t.dealerSeatId?(n.toBeBanker(),n.setMultiple(t.playerList[e].betX)):n.setPlayerMultiple(t.playerList[e].betX);break;case 4:100!=t.gameStatus?(n.getFivePoker(),n.id==t.dealerSeatId?(n.toBeBanker(),n.setMultiple(t.playerList[e].betX)):n.setPlayerMultiple(t.playerList[e].betX),n.doFinish()):i.popupToast(null,10,"等待游戏开始",!0)}})}},parseStandUpPack:function(t){if(this.handleOtherSeat(function(e){e.id==t.seatId&&e.removeUserData()}),t.seatId==this.selfSeat.id){if(this.isSelfLeave)return;var e="长时间未操作被踢起！";if(t.seatChips<1500)this.standUp(t.seatId);else{var n=this,i=cc.director.getScene().getChildByName("Canvas");i.getComponent("PopUp").showDlg(e,function(){n.doLeaveRoom()})}}},showPalyerMultipleWin:function(t){this.isSit&&this.selfSeat.state>0&&(this.selfSeat.id!=this.bankerSeat.id?(this.selfSeat.showPalyerMultipleWin(this.bankerSeat.point,this.blind,this.xs),this.popupToast(null,t,"请选择倍数:"),cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_notice.mp3"))):this.popupToast(null,t,"等待玩家选择倍数:")),this.isSit&&this.selfSeat.closeSelectMultipleWin()},showMultipleWin:function(t){this.isSit&&this.selfSeat.state>0&&(this.selfSeat.showMultipleWin(this.minBuyIn),cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_notice.mp3")),this.popupToast(null,t,"请抢庄:"))},showResultPanel:function(){this.isSit&&this.selfSeat.state>0&&setTimeout(function(){cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_notice.mp3")),this.selfSeat.showResultPanel(),this.selfSeat.closePalyerMultipleWin()}.bind(this),1e3)},showSitFailWin:function(){var t=cc.director.getScene().getChildByName("Canvas");t.getComponent("PopUp").removeLoadding(),s.userData.point<this.minBuyIn?t.getComponent("PopUp").showDlg("您的游戏币不足"+h.bigNumToStr2(this.minBuyIn)+",请去充值",function(){window.gotoPay&&window.gotoPay()},function(){}):t.getComponent("PopUp").showDlg("坐下失败,请重试",function(){})},startGame:function(t,e){var n=this,i=[t.handCard1,t.handCard2,t.handCard3,t.handCard4],a=-1,s=function o(){return++a,a==e.length?(n.selfSeat.showHandPoker(),n.showMultipleWin(t.timeout),!0):void e[a].doDealFourPoker_Ani(i,o)};s(),n.selfSeat.closeResultPanel()},resetGame:function(){this.handleAllSeats(function(t){t.setMultiple(-1),t.removePokers(),t.closePlayerMultiple()}),this.oldHint&&this.oldHint.removeFromParent(),this.clearBanker(),this.handleOtherSeat(function(t){t.annulFinish()}),this.gameStatus=1},showAllPokers:function(t,e){var n=0,i=this;this.h=r.loopCall(function(){var a=t[n++];if(!a)return!1;if(a.player.annulFinish&&a.player.annulFinish(),a&&a.player&&a.player.showPokers(a.pokerType),n==t.length){cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_move_chip.mp3"));for(var s=!1,o=0;o<e.seatChangeList.length;o++)if(i.selfSeat.id==e.seatChangeList[o].seatId){s=!0;break}return s&&i.isSit?(i.oldHint.removeFromParent(),i.endPanel.active=!0,i.endPanel.getComponent("RoundEndBox").init(1,t,this.selfSeat),i.endPanel.getComponent("NodeTransition").show(),i.endPanel.getComponent("NodeTransition").timingHide(null,5,function(){i.startGoldAni(e,function(){i.popupToast(null,15,"等待游戏开始",!0)}),i.endPanel.getComponent("RoundEndBox").removeAllItem()})):i.startGoldAni(e,function(){i.popupToast(null,15,"等待游戏开始",!0)}),i.stateToNext(),!1}return!0},this,.7)},updateSeatGold:function(t){for(var e=[],n=0;n<t.length;n++)this.handleAllSeats(function(i){i.id==t[n].seatId&&(e.push(i),i.setScore(t[n].seatChips),i.updateSeat())});return e},getPlayers:function(t){var e=[];return this.handleAllSeats(function(n){for(var i=0;i<t.playerCardsList.length;i++){var a=t.playerCardsList[i];if(a.seatId==n.id){var s={};s.player=n,s.change=t.seatChangeList[i].seatChips,s.pokerType=a.cardType,e.push(s),n.updataHandPoker([a.handCard1,a.handCard2,a.handCard3,a.handCard4,a.handCard5])}}}),e},dealFivePoker:function(t){cc.audioEngine.playEffect(cc.url.raw("resources/sound/game_deal_card.mp3")),this.handleAllSeats(function(e){e.state>0&&e.getLastPoker(t)}.bind(this))}}),cc._RFpop()},{BroadcastReceiver:"BroadcastReceiver",GAME_SOCKET_PROTOCOL:"GAME_SOCKET_PROTOCOL",Game:"Game",GameData:"GameData",Http:"Http",Router:"Router",SchedulerPool:"SchedulerPool",SelfSeat:"SelfSeat",Util:"Util"}],Toast:[function(t,e,n){"use strict";cc._RFpush(e,"c01a4D/QDtIuZG/+870Q6dh","Toast"),cc.Class({"extends":cc.Component,properties:{type:0,duration:0,content:""},onLoad:function(){this.outOfWorld=cc.p(3e3,0),this.node.position=this.outOfWorld;var t=cc.callFunc(this.onFadeOutFinish,this),e=cc.callFunc(this.onFadeInFinish,this);this.actionFadeIn=cc.sequence(cc.spawn(cc.fadeTo(this.duration,200),cc.scaleTo(this.duration,1)),e),this.actionFadeOut=cc.sequence(cc.spawn(cc.fadeTo(this.duration,0),cc.scaleTo(this.duration,1,0)),t),this.node.on("TOAST_IN",this.startFadeIn,this),this.node.on("TOAST_OUT",this.startFadeOut,this)},startFadeIn:function(){cc.eventManager.pauseTarget(this.node,!0),this.node.position=cc.p(0,0),this.node.setScale(1,0),this.node.runAction(this.actionFadeIn)},startFadeOut:function(){cc.eventManager.pauseTarget(this.node,!0),this.node.runAction(this.actionFadeOut)},onFadeInFinish:function(){cc.eventManager.resumeTarget(this.node,!0)},onFadeOutFinish:function(){this.node.position=this.outOfWorld},show:function(t){this.node.emit("TOAST_IN"),this.scheduleOnce(function(){this.hide(),t&&t()},1)},hide:function(){this.node.emit("TOAST_OUT")}}),cc._RFpop()},{}],Turnplate:[function(t,e,n){"use strict";cc._RFpush(e,"99e113sGltIOr+chxW4cQQS","Turnplate");var i=t("FSM"),a=t("Http");cc.Class({"extends":cc.Component,properties:{maxVr:100,ar:150,offset:9,endId:-1,endPoint:0,endNum:5,_fsm:null,_ar:0,
_vr:0,_hasRs:!1,_endId:-1,target:{"default":null,type:cc.Node},hintPanel:{"default":null,type:cc.Node},labels:[cc.Label],pointLabel:{"default":null,type:cc.Label},highLight:{"default":null,type:cc.Node},moneyParPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){this._fsm=i.create({initial:"waiting",events:[{name:"run",from:"waiting",to:"accelerating"},{name:"keep",from:"accelerating",to:"constanting"},{name:"slow",from:"constanting",to:"decelerating"},{name:"end",from:"decelerating",to:"waiting"}],callbacks:{onrun:this._onRun.bind(this),onkeep:this._onKeep.bind(this),onslow:this._onSlow.bind(this),onend:this._onEnd.bind(this)}})},initConfig:function(t){for(var e in this.labels)this.labels[e].string=t[e].num},update:function(t){this._vr+=this._ar*t,this._vr>this.maxVr&&this._fsm.keep(),this.target.rotation+=this._vr*t,this._fsm.is("decelerating")&&this._vr<0&&this._fsm.end(),this._hasRs&&this._fsm.is("constanting")&&this.target.rotation%360>=this._getRById()&&this._fsm.slow()},begin:function(){-1==this.endId&&a.loginWheel(function(t){console.log(t),this.endId=t.index,this.endPoint=t.point,this._fsm.can("run")&&this._fsm.run()}.bind(this),function(t){1==t.ret&&console.log("今日已经领取!")})},_onRun:function(){this._ar=this.ar,this.highLight.active=!1},_onKeep:function(){this._vr=this.maxVr,this._ar=0,this.scheduleOnce(function(){this._setEndId(this.endId),this._hasRs=!0},1)},_onSlow:function(){this.target.rotation=this._getRById(),this._ar=this._getArById()},_onEnd:function(){this.highLight.active=!0,this.target.rotation=this._getRById(),this._ar=0,this._vr=0,this.hintPanel.active=!0,this.hintPanel.getComponent("NodeTransition").show(),this.node.addChild(cc.instantiate(this.moneyParPrefab)),this.hintPanel.getComponent("NodeTransition").timingHide(null,2,function(){this.node.getComponent("NodeTransition").hide(),a.userData.point+=this.endPoint,a.userData.isFirstLogin=!1}.bind(this))},_getRById:function(){return this._endId<0?400:this._endId*(360/this.labels.length)},_getArById:function(){if(this._endId<0)return 0;var t=360*this.endNum+this.offset,e=this._vr,n=-(e*e)/(2*t);return n},_setEndId:function(t){this.pointLabel.string=this.endPoint,this._endId=0==t?0:8-t}}),cc._RFpop()},{FSM:"FSM",Http:"Http"}],UpDownAni:[function(t,e,n){"use strict";cc._RFpush(e,"bc7afVIPndAXJehC85uBIrf","UpDownAni"),cc.Class({"extends":cc.Component,properties:{_isMove:!1},onLoad:function(){this._startPos=null},play:function(){if(!this._isMove){this._isMove=!0,this._startPos||(this._startPos=this.node.getPosition()),this.node.setPosition(this._startPos);var t=cc.moveTo(.1,cc.p(this.node.x,this.node.y+10)),e=cc.moveTo(.1,this._startPos),n=cc.callFunc(function(){this._isMove=!1},this);this.node.runAction(cc.sequence(t,e,n))}}}),cc._RFpop()},{}],UserComponent:[function(t,e,n){"use strict";cc._RFpush(e,"c645dJEcxNGEYfVAWEzKLil","UserComponent");var i=t("BaseComponent"),a=t("Util"),s=t("ImageLoader");cc.Class({"extends":i,properties:{pointType:0,_nick:"",_point:0,_img:"",imgSprite:{"default":null,type:cc.Sprite},nameLabel:{"default":null,type:cc.Label},pointLabel:{"default":null,type:cc.Label}},onLoad:function(){this._isChange=!0,this._init&&this._init()},_updateNode:function(){if(this._nick&&(this.nameLabel.string=a.formatName(this._nick,6)),0==this.pointType)this.pointLabel.string=a.bigNumToStr(this._point);else if(1==this.pointType){var t=a.bigNumToStr2(this._point);this._point>0&&(t="+"+t),this.pointLabel.string=t}else this.pointLabel.string=a.bigNumToStr(this._point);if(this._img){var e=this;s.load(this._img,function(t,n){t&&(e.imgSprite.spriteFrame=n.getComponent(cc.Sprite).spriteFrame)})}},setUserData:function(t,e,n){this._nick=t,this._point=e,n instanceof cc.SpriteFrame?this.imgSprite.spriteFrame=n:this._img=n,this._updateNode()},removeUserData:function(){this._nick="",this._point=0,this._img="",this._updateNode()},setPoint:function(t){var e=t-this._point;if(this._point=t,this._updateNode(),0!=e){var n=new cc.Node;n.addComponent(cc.Label),n.color=new cc.Color(255,255,0),n.getComponent(cc.Label).fontSize=18,n.getComponent(cc.Label).string=(e>0?"+":"-")+a.bigNumToStr(Math.abs(e)),n.opacity=0,this.node.addChild(n,1e3,1e3);var i=this.pointLabel.node.getPosition();i.y=i.y+20,n.setPosition(i),n.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(.3),cc.moveBy(.8,0,30),cc.fadeOut(.2),cc.callFunc(function(){this.removeFromParent()},n)))}},setName:function(t){this._nick=t,this._updateNode()},setHeadImg:function(t){this._img=t,this._updateNode()}}),cc._RFpop()},{BaseComponent:"BaseComponent",ImageLoader:"ImageLoader",Util:"Util"}],UserItem:[function(t,e,n){"use strict";cc._RFpush(e,"8262a4xA4RJk6/uoPzrStYc","UserItem");var i=t("BaseComponent");t("Util");cc.Class({"extends":i,properties:{_data:null,_orderId:-1,_readyBuyin:0,orderLabel:{"default":null,type:cc.Label},bankerIcon:{"default":null,type:cc.Node}},onLoad:function(){this._isChange=!0},init:function(t){this._data=t,t.readyBuyin&&(this._readyBuyin=t.readyBuyin),this._updateNode()},_updateNode:function(){this.getComponent("UserComponent").setAttr("_nick",this._data.nick),this._orderId<0?(this.orderLabel.node.active=!1,this.bankerIcon.active=!1,this.getComponent("UserComponent").setAttr("_point",this._data.buyinChips)):0==this._orderId?(this.bankerIcon.active=!0,this.orderLabel.node.active=!1,this.getComponent("UserComponent").setAttr("_point",this._readyBuyin)):(this.getComponent("UserComponent").setAttr("_point",this._readyBuyin),this.bankerIcon.active=!1,this.orderLabel.node.active=!0,this.orderLabel.string=this._orderId)}}),cc._RFpop()},{BaseComponent:"BaseComponent",Util:"Util"}],Util:[function(t,e,n){"use strict";cc._RFpush(e,"fffc8V0k71J0p/gq/SIFvpa","Util");var i={formatMoney:function(t,e){if("undefined"==typeof e&&(e=0),/[^0-9\.]/.test(t))return"0";if(null==t||""==t)return"0";t=t.toString().replace(/^(\d*)$/,"$1."),t=(t+"00").replace(/(\d*\.\d\d)\d*/,"$1"),t=t.replace(".",",");for(var n=/(\d)(\d{3},)/;n.test(t);)t=t.replace(n,"$1,$2");if(t=t.replace(/,(\d\d)$/,".$1"),0==e){var i=t.split(".");"00"==i[1]&&(t=i[0])}return t},bigNumToStr:function(t){var e=t;return e=t>=1e8?(t/1e8).toFixed(3)+"亿":t>=1e5?(t/1e4).toFixed(2)+"万":this.formatMoney(t)},bigNumToStr2:function(t){var e=t;return t>=1e4?e=t/1e4+"万":-1e4>=t&&(e=t/1e4+"万"),e},formatName:function(t,e){for(var n=0,i=t,a=0,s=0;s<t.length;s++){if(null!=t[s].match(/[^x00-xff]/gi)?(n+=2,a++):n+=1,n>e){i=t.substring(0,e-a+1)+"...";break}n==e&&(i=t.substring(0,e-a))}return i},randomPos:function(t,e){var n={x:0,y:0},i=Math.random()>.5?1:-1,a=Math.random()>.5?1:-1;return n.x=Math.random()*t/2*i,n.y=Math.random()*e/2*a,n},contains:function(t,e){for(var n in t)if(t[n]==e)return!0;return!1},formatDate:function(t){var e=new Date(t),n=(e.getFullYear()+"-",(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"),i=e.getDate()+" ",a=e.getHours()+":",s=e.getMinutes()+":",o=e.getSeconds();return n+i+a+s+o},base64_decode:function(t){var e,n,i,a,s,o,r,c,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,l=0,d="",p=[];if(!t)return t;t+="";do a=h.indexOf(t.charAt(u++)),s=h.indexOf(t.charAt(u++)),o=h.indexOf(t.charAt(u++)),r=h.indexOf(t.charAt(u++)),c=a<<18|s<<12|o<<6|r,e=c>>16&255,n=c>>8&255,i=255&c,64===o?p[l++]=String.fromCharCode(e):64===r?p[l++]=String.fromCharCode(e,n):p[l++]=String.fromCharCode(e,n,i);while(u<t.length);return d=p.join(""),decodeURIComponent(escape(d.replace(/\0+$/,"")))},base64_encode:function(t){var e,n,i,a,s,o,r,c,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,l=0,d="",p=[];if(!t)return t;t=unescape(encodeURIComponent(t));do e=t.charCodeAt(u++),n=t.charCodeAt(u++),i=t.charCodeAt(u++),c=e<<16|n<<8|i,a=c>>18&63,s=c>>12&63,o=c>>6&63,r=63&c,p[l++]=h.charAt(a)+h.charAt(s)+h.charAt(o)+h.charAt(r);while(u<t.length);d=p.join("");var f=t.length%3;return(f?d.slice(0,f-3):d)+"===".slice(f||3)}};e.exports=i,cc._RFpop()},{}],Zepto:[function(t,e,n){"use strict";cc._RFpush(e,"2e07060BHpO3IhJp6am5yop","Zepto");var i=function(){function t(t){return null==t?String(t):J[$.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function a(e){return"object"==t(e)}function s(t){return a(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function o(t){return"number"==typeof t.length}function r(t){return D.call(t,function(t){return null!=t})}function c(t){return t.length>0?E.fn.concat.apply([],t):t}function h(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(t){return t in O?O[t]:O[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function l(t,e){return"number"!=typeof e||k[h(t)]?e:e+"px"}function d(t){var e,n;return U[t]||(e=B.createElement(t),B.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),U[t]=n),U[t]}function p(t){return"children"in t?A.call(t.children):E.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function f(t,e){var n,i=t?t.length:0;for(n=0;i>n;n++)this[n]=t[n];this.length=i,this.selector=e||""}function m(t,e,n){for(R in e)n&&(s(e[R])||Q(e[R]))?(s(e[R])&&!s(t[R])&&(t[R]={}),Q(e[R])&&!Q(t[R])&&(t[R]=[]),m(t[R],e[R],n)):e[R]!==T&&(t[R]=e[R])}function _(t,e){return null==e?E(t):E(t).filter(e)}function g(t,n,i,a){return e(n)?n.call(t,i,a):n}function S(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function C(t,e){var n=t.className||"",i=n&&n.baseVal!==T;return e===T?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function y(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?E.parseJSON(t):t):t}catch(e){return t}}function v(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)v(t.childNodes[n],e)}var T,R,E,N,b,L,I=[],P=I.concat,D=I.filter,A=I.slice,B=window.document,U={},O={},k={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},F=/^\s*<(\w+|!)[^>]*>/,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,H=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,x=/^(?:body|html)$/i,M=/([A-Z])/g,V=["val","css","html","text","data","width","height","offset"],G=["after","prepend","before","append"],W=B.createElement("table"),Y=B.createElement("tr"),q={tr:B.createElement("tbody"),tbody:W,thead:W,tfoot:W,td:Y,th:Y,"*":B.createElement("div")},j=/complete|loaded|interactive/,K=/^[\w-]*$/,J={},$=J.toString,Z={},z=B.createElement("div"),X={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Q=Array.isArray||function(t){return t instanceof Array};return Z.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,a=t.parentNode,s=!a;return s&&(a=z).appendChild(t),i=~Z.qsa(a,e).indexOf(t),s&&z.removeChild(t),i},b=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},L=function(t){return D.call(t,function(e,n){return t.indexOf(e)==n})},Z.fragment=function(t,e,n){var i,a,o;return w.test(t)&&(i=E(B.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(H,"<$1></$2>")),e===T&&(e=F.test(t)&&RegExp.$1),e in q||(e="*"),o=q[e],o.innerHTML=""+t,i=E.each(A.call(o.childNodes),function(){o.removeChild(this)})),s(n)&&(a=E(i),E.each(n,function(t,e){V.indexOf(t)>-1?a[t](e):a.attr(t,e)})),i},Z.Z=function(t,e){return new f(t,e)},Z.isZ=function(t){return t instanceof Z.Z},Z.init=function(t,n){var i;if(!t)return Z.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&F.test(t))i=Z.fragment(t,RegExp.$1,n),t=null;else{if(n!==T)return E(n).find(t);i=Z.qsa(B,t)}else{if(e(t))return E(B).ready(t);if(Z.isZ(t))return t;if(Q(t))i=r(t);else if(a(t))i=[t],t=null;else if(F.test(t))i=Z.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==T)return E(n).find(t);i=Z.qsa(B,t)}}return Z.Z(i,t)},E=function(t,e){return Z.init(t,e)},E.extend=function(t){var e,n=A.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){m(t,n,e)}),t},Z.qsa=function(t,e){var n,i="#"==e[0],a=!i&&"."==e[0],s=i||a?e.slice(1):e,o=K.test(s);return t.getElementById&&o&&i?(n=t.getElementById(s))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:A.call(o&&!i&&t.getElementsByClassName?a?t.getElementsByClassName(s):t.getElementsByTagName(e):t.querySelectorAll(e))},E.contains=B.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},E.type=t,E.isFunction=e,E.isWindow=n,E.isArray=Q,E.isPlainObject=s,E.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},E.inArray=function(t,e,n){return I.indexOf.call(e,t,n)},E.camelCase=b,E.trim=function(t){return null==t?"":String.prototype.trim.call(t)},E.uuid=0,E.support={},E.expr={},E.noop=function(){},E.map=function(t,e){var n,i,a,s=[];if(o(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&s.push(n);else for(a in t)n=e(t[a],a),null!=n&&s.push(n);return c(s)},E.each=function(t,e){var n,i;if(o(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},E.grep=function(t,e){return D.call(t,e)},window.JSON&&(E.parseJSON=JSON.parse),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()}),E.fn={constructor:Z.Z,length:0,forEach:I.forEach,reduce:I.reduce,push:I.push,sort:I.sort,splice:I.splice,indexOf:I.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=Z.isZ(e)?e.toArray():e;return P.apply(Z.isZ(this)?this.toArray():this,n)},map:function(t){return E(E.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return E(A.apply(this,arguments))},ready:function(t){return j.test(B.readyState)&&B.body?t(E):B.addEventListener("DOMContentLoaded",function(){t(E)},!1),this},get:function(t){return t===T?A.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return I.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):E(D.call(this,function(e){return Z.matches(e,t)}))},add:function(t,e){return E(L(this.concat(E(t,e))))},is:function(t){return this.length>0&&Z.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==T)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):o(t)&&e(t.item)?A.call(t):E(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return E(n)},has:function(t){return this.filter(function(){return a(t)?E.contains(this,t):E(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!a(t)?t:E(t)},last:function(){var t=this[this.length-1];return t&&!a(t)?t:E(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?E(t).filter(function(){var t=this;return I.some.call(n,function(e){return E.contains(e,t)})}):1==this.length?E(Z.qsa(this[0],t)):this.map(function(){return Z.qsa(this,t)}):E()},closest:function(t,e){var n=this[0],a=!1;for("object"==typeof t&&(a=E(t));n&&!(a?a.indexOf(n)>=0:Z.matches(n,t));)n=n!==e&&!i(n)&&n.parentNode;return E(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=E.map(n,function(t){return(t=t.parentNode)&&!i(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return _(e,t)},parent:function(t){return _(L(this.pluck("parentNode")),t)},children:function(t){return _(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||A.call(this.childNodes)})},siblings:function(t){return _(this.map(function(t,e){return D.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return E.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=E(t).get(0),a=i.parentNode||this.length>1;return this.each(function(e){E(this).wrapAll(n?t.call(this,e):a?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){E(this[0]).before(t=E(t));for(var e;(e=t.children()).length;)t=e.first();E(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=E(this),a=i.contents(),s=n?t.call(this,e):t;a.length?a.wrapAll(s):i.append(s)})},unwrap:function(){return this.parent().each(function(){E(this).replaceWith(E(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=E(this);(t===T?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return E(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return E(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;E(this).empty().append(g(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=g(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(a(t))for(R in t)S(this,R,t[R]);else S(this,t,g(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:T},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){S(this,t)},this)})},prop:function(t,e){return t=X[t]||t,1 in arguments?this.each(function(n){this[t]=g(this,e,n,this[t])}):this[0]&&this[0][t]},data:function tt(t,e){var n="data-"+t.replace(M,"-$1").toLowerCase(),tt=1 in arguments?this.attr(n,e):this.attr(n);return null!==tt?y(tt):T},val:function(t){return 0 in arguments?this.each(function(e){this.value=g(this,t,e,this.value)}):this[0]&&(this[0].multiple?E(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=E(this),i=g(this,t,e,n.offset()),a=n.offsetParent().offset(),s={top:i.top-a.top,left:i.left-a.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;if(!E.contains(B.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function et(e,n){if(arguments.length<2){var i,a=this[0];if(!a)return;if(i=getComputedStyle(a,""),"string"==typeof e)return a.style[b(e)]||i.getPropertyValue(e);if(Q(e)){var s={};return E.each(e,function(t,e){s[e]=a.style[b(e)]||i.getPropertyValue(e)}),s}}var et="";if("string"==t(e))n||0===n?et=h(e)+":"+l(e,n):this.each(function(){this.style.removeProperty(h(e))});else for(R in e)e[R]||0===e[R]?et+=h(R)+":"+l(R,e[R])+";":this.each(function(){this.style.removeProperty(h(R))});return this.each(function(){this.style.cssText+=";"+et})},index:function(t){return t?this.indexOf(E(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?I.some.call(this,function(t){return this.test(C(t))},u(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){N=[];var n=C(this),i=g(this,t,e,n);i.split(/\s+/g).forEach(function(t){E(this).hasClass(t)||N.push(t)},this),N.length&&C(this,n+(n?" ":"")+N.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===T)return C(this,"");N=C(this),g(this,t,e,N).split(/\s+/g).forEach(function(t){N=N.replace(u(t)," ")}),C(this,N.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=E(this),a=g(this,t,n,C(this));a.split(/\s+/g).forEach(function(t){(e===T?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===T?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===T?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=x.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(E(t).css("margin-top"))||0,n.left-=parseFloat(E(t).css("margin-left"))||0,i.top+=parseFloat(E(e[0]).css("border-top-width"))||0,i.left+=parseFloat(E(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||B.body;t&&!x.test(t.nodeName)&&"static"==E(t).css("position");)t=t.offsetParent;return t})}},E.fn.detach=E.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});E.fn[t]=function(a){var s,o=this[0];return a===T?n(o)?o["inner"+e]:i(o)?o.documentElement["scroll"+e]:(s=this.offset())&&s[t]:this.each(function(e){o=E(this),o.css(t,g(this,a,e,o[t]()))})}}),G.forEach(function(e,n){var i=n%2;E.fn[e]=function(){var e,a,s=E.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:Z.fragment(n)}),o=this.length>1;return s.length<1?this:this.each(function(t,e){a=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var r=E.contains(B.documentElement,a);s.forEach(function(t){if(o)t=t.cloneNode(!0);else if(!a)return E(t).remove();a.insertBefore(t,e),r&&v(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},E.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return E(t)[e](this),this}}),Z.Z.prototype=f.prototype=E.fn,Z.uniq=L,Z.deserializeValue=y,E.zepto=Z,E}();window.Zepto=i,void 0===window.$&&(window.$=i),function(t){function e(t){return t._zid||(t._zid=d++)}function n(t,n,s,o){if(n=i(n),n.ns)var r=a(n.ns);return(_[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||r.test(t.ns))&&(!s||e(t.fn)===e(s))&&(!o||t.sel==o)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function a(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function s(t,e){return t.del&&!S&&t.e in C||!!e}function o(t){return y[t]||S&&C[t]||t}function r(n,a,r,c,u,d,p){var f=e(n),m=_[f]||(_[f]=[]);a.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(r);var a=i(e);a.fn=r,a.sel=u,a.e in y&&(r=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=d;var f=d||r;a.proxy=function(t){if(t=h(t),!t.isImmediatePropagationStopped()){t.data=c;var e=f.apply(n,t._args==l?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},a.i=m.length,m.push(a),"addEventListener"in n&&n.addEventListener(o(a.e),a.proxy,s(a,p))})}function c(t,i,a,r,c){var h=e(t);(i||"").split(/\s/).forEach(function(e){n(t,e,a,r).forEach(function(e){delete _[h][e.i],"removeEventListener"in t&&t.removeEventListener(o(e.e),e.proxy,s(e,c))})})}function h(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(E,function(t,i){var a=n[t];e[t]=function(){return this[i]=v,a&&a.apply(n,arguments)},e[i]=T}),(n.defaultPrevented!==l?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=v)),e}function u(t){var e,n={originalEvent:t};for(e in t)R.test(e)||t[e]===l||(n[e]=t[e]);return h(n,t)}var l,d=1,p=Array.prototype.slice,f=t.isFunction,m=function(t){return"string"==typeof t},_={},g={},S="onfocusin"in window,C={focus:"focusin",blur:"focusout"},y={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",t.event={add:r,remove:c},t.proxy=function(n,i){var a=2 in arguments&&p.call(arguments,2);if(f(n)){var s=function(){return n.apply(i,a?a.concat(p.call(arguments)):arguments)};return s._zid=e(n),s}if(m(i))return a?(a.unshift(n[i],n),t.proxy.apply(null,a)):t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var v=function(){return!0},T=function(){return!1},R=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,a,s){var o,h,d=this;return e&&!m(e)?(t.each(e,function(t,e){d.on(t,n,i,e,s)}),d):(m(n)||f(a)||a===!1||(a=i,i=n,n=l),a!==l&&i!==!1||(a=i,i=l),a===!1&&(a=T),d.each(function(l,d){s&&(o=function(t){return c(d,t.type,a),a.apply(this,arguments)}),n&&(h=function(e){var i,s=t(e.target).closest(n,d).get(0);return s&&s!==d?(i=t.extend(u(e),{currentTarget:s,liveFired:d}),(o||a).apply(s,[i].concat(p.call(arguments,1)))):void 0}),r(d,e,a,i,n,h||o)}))},t.fn.off=function(e,n,i){var a=this;return e&&!m(e)?(t.each(e,function(t,e){a.off(t,n,e)}),a):(m(n)||f(i)||i===!1||(i=n,n=l),i===!1&&(i=T),a.each(function(){c(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):h(e),e._args=n,this.each(function(){e.type in C&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var a,s;return this.each(function(o,r){a=u(m(e)?t.Event(e):e),a._args=i,a.target=r,t.each(n(r,e.type||e),function(t,e){return s=e.proxy(a),a.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(g[t]||"Events"),i=!0;if(e)for(var a in e)"bubbles"==a?i=!!e[a]:n[a]=e[a];return n.initEvent(t,i,!0),h(n)}}(i),function(t){function e(e,n,i){var a=t.Event(n);return t(e).trigger(a,i),!a.isDefaultPrevented()}function n(t,n,i,a){return t.global?e(n||S,i,a):void 0}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function a(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function s(t,e){var i=e.context;return e.beforeSend.call(i,t,e)===!1||n(e,i,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,i,"ajaxSend",[t,e])}function o(t,e,i,a){var s=i.context,o="success";i.success.call(s,t,o,e),a&&a.resolveWith(s,[t,o,e]),n(i,s,"ajaxSuccess",[e,i,t]),c(o,e,i)}function r(t,e,i,a,s){var o=a.context;a.error.call(o,i,e,t),s&&s.rejectWith(o,[i,e,t]),n(a,o,"ajaxError",[i,a,t||e]),c(e,i,a)}function c(t,e,i){var s=i.context;i.complete.call(s,e,t),n(i,s,"ajaxComplete",[e,i]),a(i)}function h(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==R?"html":t==T?"json":y.test(t)?"script":v.test(t)&&"xml")||"text"}function l(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=l(e.url,e.data),e.data=void 0)}function p(e,n,i,a){return t.isFunction(n)&&(a=i,i=n,n=void 0),t.isFunction(i)||(a=i,i=void 0),{url:e,data:n,success:i,dataType:a}}function f(e,n,i,a){var s,o=t.isArray(n),r=t.isPlainObject(n);t.each(n,function(n,c){s=t.type(c),a&&(n=i?a:a+"["+(r||"object"==s||"array"==s?n:"")+"]"),!a&&o?e.add(c.name,c.value):"array"==s||!i&&"object"==s?f(e,c,i,n):e.add(n,c)})}var m,_,g=0,S=window.document,C=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,y=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,T="application/json",R="text/html",E=/^\s*$/,N=S.createElement("a");N.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var i,a,c=e.jsonpCallback,h=(t.isFunction(c)?c():c)||"jsonp"+ ++g,u=S.createElement("script"),l=window[h],d=function(e){t(u).triggerHandler("error",e||"abort")},p={abort:d};return n&&n.promise(p),t(u).on("load error",function(s,c){clearTimeout(a),t(u).off().remove(),"error"!=s.type&&i?o(i[0],p,e,n):r(null,c||"error",p,e,n),window[h]=l,i&&t.isFunction(l)&&l(i[0]),l=i=void 0}),s(p,e)===!1?(d("abort"),p):(window[h]=function(){i=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+h),S.head.appendChild(u),e.timeout>0&&(a=setTimeout(function(){d("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:T,xml:"application/xml, text/xml",html:R,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,a,c=t.extend({},e||{}),p=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===c[m]&&(c[m]=t.ajaxSettings[m]);i(c),c.crossDomain||(n=S.createElement("a"),n.href=c.url,n.href=n.href,c.crossDomain=N.protocol+"//"+N.host!=n.protocol+"//"+n.host),c.url||(c.url=window.location.toString()),(a=c.url.indexOf("#"))>-1&&(c.url=c.url.slice(0,a)),d(c);var f=c.dataType,g=/\?.+=\?/.test(c.url);if(g&&(f="jsonp"),c.cache!==!1&&(e&&e.cache===!0||"script"!=f&&"jsonp"!=f)||(c.url=l(c.url,"_="+Date.now())),"jsonp"==f)return g||(c.url=l(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),t.ajaxJSONP(c,p);var C,y=c.accepts[f],v={},T=function(t,e){v[t.toLowerCase()]=[t,e]},R=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,b=c.xhr(),L=b.setRequestHeader;if(p&&p.promise(b),c.crossDomain||T("X-Requested-With","XMLHttpRequest"),T("Accept",y||"*/*"),(y=c.mimeType||y)&&(y.indexOf(",")>-1&&(y=y.split(",",2)[0]),b.overrideMimeType&&b.overrideMimeType(y)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&T("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(_ in c.headers)T(_,c.headers[_]);if(b.setRequestHeader=T,b.onreadystatechange=function(){if(4==b.readyState){b.onreadystatechange=h,clearTimeout(C);var e,n=!1;if(b.status>=200&&b.status<300||304==b.status||0==b.status&&"file:"==R){if(f=f||u(c.mimeType||b.getResponseHeader("content-type")),"arraybuffer"==b.responseType||"blob"==b.responseType)e=b.response;else{e=b.responseText;try{"script"==f?(0,eval)(e):"xml"==f?e=b.responseXML:"json"==f&&(e=E.test(e)?null:t.parseJSON(e))}catch(i){n=i}if(n)return r(n,"parsererror",b,c,p)}o(e,b,c,p)}else r(b.statusText||null,b.status?"error":"abort",b,c,p)}},s(b,c)===!1)return b.abort(),r(null,"abort",b,c,p),b;if(c.xhrFields)for(_ in c.xhrFields)b[_]=c.xhrFields[_];var I="async"in c?c.async:!0;b.open(c.type,c.url,I,c.username,c.password);for(_ in v)L.apply(b,v[_]);return c.timeout>0&&(C=setTimeout(function(){b.onreadystatechange=h,b.abort(),r(null,"timeout",b,c,p)},c.timeout)),b.send(c.data?c.data:null),b},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",
t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var a,s=this,o=e.split(/\s/),r=p(e,n,i),c=r.success;return o.length>1&&(r.url=o[0],a=o[1]),r.success=function(e){s.html(a?t("<div>").html(e.replace(C,"")).find(a):e),c&&c.apply(s,arguments)},t.ajax(r),this};var b=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(b(e)+"="+b(n))},f(i,e,n),i.join("&").replace(/%20/g,"+")}}(i),e.exports=i,cc._RFpop()},{}],md5:[function(t,e,n){"use strict";function i(t){return s(a(o(t)))}function a(t){return c(h(r(t),8*t.length))}function s(t){try{}catch(e){g=0}for(var n,i=g?"0123456789ABCDEF":"0123456789abcdef",a="",s=0;s<t.length;s++)n=t.charCodeAt(s),a+=i.charAt(n>>>4&15)+i.charAt(15&n);return a}function o(t){for(var e,n,i="",a=-1;++a<t.length;)e=t.charCodeAt(a),n=a+1<t.length?t.charCodeAt(a+1):0,e>=55296&&56319>=e&&n>=56320&&57343>=n&&(e=65536+((1023&e)<<10)+(1023&n),a++),127>=e?i+=String.fromCharCode(e):2047>=e?i+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i}function r(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(var n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function c(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function h(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,i=-271733879,a=-1732584194,s=271733878,o=0;o<t.length;o+=16){var r=n,c=i,h=a,u=s;n=l(n,i,a,s,t[o+0],7,-680876936),s=l(s,n,i,a,t[o+1],12,-389564586),a=l(a,s,n,i,t[o+2],17,606105819),i=l(i,a,s,n,t[o+3],22,-1044525330),n=l(n,i,a,s,t[o+4],7,-176418897),s=l(s,n,i,a,t[o+5],12,1200080426),a=l(a,s,n,i,t[o+6],17,-1473231341),i=l(i,a,s,n,t[o+7],22,-45705983),n=l(n,i,a,s,t[o+8],7,1770035416),s=l(s,n,i,a,t[o+9],12,-1958414417),a=l(a,s,n,i,t[o+10],17,-42063),i=l(i,a,s,n,t[o+11],22,-1990404162),n=l(n,i,a,s,t[o+12],7,1804603682),s=l(s,n,i,a,t[o+13],12,-40341101),a=l(a,s,n,i,t[o+14],17,-1502002290),i=l(i,a,s,n,t[o+15],22,1236535329),n=d(n,i,a,s,t[o+1],5,-165796510),s=d(s,n,i,a,t[o+6],9,-1069501632),a=d(a,s,n,i,t[o+11],14,643717713),i=d(i,a,s,n,t[o+0],20,-373897302),n=d(n,i,a,s,t[o+5],5,-701558691),s=d(s,n,i,a,t[o+10],9,38016083),a=d(a,s,n,i,t[o+15],14,-660478335),i=d(i,a,s,n,t[o+4],20,-405537848),n=d(n,i,a,s,t[o+9],5,568446438),s=d(s,n,i,a,t[o+14],9,-1019803690),a=d(a,s,n,i,t[o+3],14,-187363961),i=d(i,a,s,n,t[o+8],20,1163531501),n=d(n,i,a,s,t[o+13],5,-1444681467),s=d(s,n,i,a,t[o+2],9,-51403784),a=d(a,s,n,i,t[o+7],14,1735328473),i=d(i,a,s,n,t[o+12],20,-1926607734),n=p(n,i,a,s,t[o+5],4,-378558),s=p(s,n,i,a,t[o+8],11,-2022574463),a=p(a,s,n,i,t[o+11],16,1839030562),i=p(i,a,s,n,t[o+14],23,-35309556),n=p(n,i,a,s,t[o+1],4,-1530992060),s=p(s,n,i,a,t[o+4],11,1272893353),a=p(a,s,n,i,t[o+7],16,-155497632),i=p(i,a,s,n,t[o+10],23,-1094730640),n=p(n,i,a,s,t[o+13],4,681279174),s=p(s,n,i,a,t[o+0],11,-358537222),a=p(a,s,n,i,t[o+3],16,-722521979),i=p(i,a,s,n,t[o+6],23,76029189),n=p(n,i,a,s,t[o+9],4,-640364487),s=p(s,n,i,a,t[o+12],11,-421815835),a=p(a,s,n,i,t[o+15],16,530742520),i=p(i,a,s,n,t[o+2],23,-995338651),n=f(n,i,a,s,t[o+0],6,-198630844),s=f(s,n,i,a,t[o+7],10,1126891415),a=f(a,s,n,i,t[o+14],15,-1416354905),i=f(i,a,s,n,t[o+5],21,-57434055),n=f(n,i,a,s,t[o+12],6,1700485571),s=f(s,n,i,a,t[o+3],10,-1894986606),a=f(a,s,n,i,t[o+10],15,-1051523),i=f(i,a,s,n,t[o+1],21,-2054922799),n=f(n,i,a,s,t[o+8],6,1873313359),s=f(s,n,i,a,t[o+15],10,-30611744),a=f(a,s,n,i,t[o+6],15,-1560198380),i=f(i,a,s,n,t[o+13],21,1309151649),n=f(n,i,a,s,t[o+4],6,-145523070),s=f(s,n,i,a,t[o+11],10,-1120210379),a=f(a,s,n,i,t[o+2],15,718787259),i=f(i,a,s,n,t[o+9],21,-343485551),n=m(n,r),i=m(i,c),a=m(a,h),s=m(s,u)}return Array(n,i,a,s)}function u(t,e,n,i,a,s){return m(_(m(m(e,t),m(i,s)),a),n)}function l(t,e,n,i,a,s,o){return u(e&n|~e&i,t,e,a,s,o)}function d(t,e,n,i,a,s,o){return u(e&i|n&~i,t,e,a,s,o)}function p(t,e,n,i,a,s,o){return u(e^n^i,t,e,a,s,o)}function f(t,e,n,i,a,s,o){return u(n^(e|~i),t,e,a,s,o)}function m(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function _(t,e){return t<<e|t>>>32-e}cc._RFpush(e,"7de0dxrnd9B55c/24p4iQVX","md5");var g=0;e.exports=i,cc._RFpop()},{}]},{},["Poker","NodeTransition","Egret","IttLayer","CardTypeParse","OpeningPoundWin","TabItem","PACKET_DATA_TYPE","HandlePanel","BetLayer","CoursePackData","ListView","ResultWin","BankruptWin","SocketService","GameData","Expression","PacketBuilder","CountToast","Game","Rank","PopUp","ChatWin","Zepto","SelfHandPoker","ExpressionWin","GameSocket","ResultPanel","ListView_Item","ChatMsg","GameManager","BroadcastItem","LocalStorage","RoomItem","Router","MainPageBtn","CountDown","CoursePage","Seat","PacketParser","PoundInfoWin","HundredData","PopLayer","md5","TableLayer","BaseComponent","UserItem","BroadcastReceiver","HundredManager","GAME_SOCKET_PROTOCOL","Http","HttpService","BetArea","SelfSeat","Turnplate","HundredStates","RecordWin","SelectButton","CoursePack","BeBankerWin","DataProxy","HundredSeat","RoundEndBox","ImageLoader","FSM","MainMenu","HandPoker","DataMonitoring","UpDownAni","MainPage","SelectPage","Toast","UserComponent","HundredBankerSeat","Animation_0","ButtonScaler","FloatAni","TableManager","BtnsControl","BetBtn","MaskLayer","PromptBox","SchedulerPool","PlayerListWin","Table","QuickStartBtn","FrameAnimation","Util"]);